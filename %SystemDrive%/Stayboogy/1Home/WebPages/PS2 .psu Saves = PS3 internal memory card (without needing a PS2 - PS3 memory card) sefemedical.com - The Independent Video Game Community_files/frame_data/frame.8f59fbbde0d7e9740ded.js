(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{131:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n(2),o=n(43),r=new i.a("PLAYER-STATE");function d(){this._data={},this._state=null,this._previousState=null,this._waitingStateDelay=null,o.a.mixinEvents(this),this.delayedWaitingState=this.delayedWaitingState.bind(this)}d.prototype={STATE_CHANGED:"stateChanged",AGE_GATE:"age-gate",START:"start",WAITING:"waiting",PLAYING:"playing",PAUSED:"paused",ENDED:"ended",ERROR:"error",RELATED_VIDEOS:"related-videos",delayedWaitingState:function(e){var t=this;clearTimeout(t._waitingStateDelay),t._waitingStateDelay=setTimeout((function(){t.state=d.WAITING}),e)},get previousState(){return this._previousState},get state(){return this._state},set state(e){if(e){e!==this._state&&(clearTimeout(this._waitingStateDelay),e===this.WAITING&&this._state===this.PLAYING||Object(a.d)(window.document.body,"bolt-state-"+this._state),this._previousState=this._state,this._state=e,r.info("Player state:",{state:this._state,prevState:this._previousState}),Object(a.a)(window.document.body,"bolt-state-"+e),this.emit(this.STATE_CHANGED))}},get data(){return this._data},set data(e){this._data=e}};var s=d,l=n(3),u=n(0),c=n(15);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(o,e);var t,n,i,a=h(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this)).data=null,e.autoPaused=!1,e.closeButtonClicked=!1,e.userDidPause=!1,e}return t=o,(n=[{key:"update",value:function(e){var t=this,n=!0;t.data&&(n=t.data.top!==e.top||t.data.left!==e.left||t.data.right!==e.right||t.data.bottom!==e.bottom||t.data.percent!==e.percent),n&&(this.data=e,this._dispatchEvent("changed",this.data))}},{key:"requestMetrics",value:function(){var e={type:"zeus_event",name:"requestViewabilityMetrics",id:window.id};window.parent.postMessage(JSON.stringify(e),Object(u.k)())}}])&&w(t.prototype,n),i&&w(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(c.a);function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=new i.a("VIEW-EVENT-HANDLER"),A=_((function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,"controller",void 0),b(this,"view",void 0),b(this,"_handleMediaEvents",(function(e){var t=i,n=e.target;e.type===l.a.Media.Event.PLAY?n.isAd()||window.PlayerState.delayedWaitingState(500):e.type===l.a.Media.Event.PLAYING?(window.PlayerState.state=window.PlayerState.PLAYING,window.PlayerSettings.minimumViewability&&(t.controller.viewability.data&&t.controller.viewability.data.percent&&t.controller.viewability.data.percent<window.PlayerSettings.minimumViewability&&(t.controller.viewability.userDidPause||t.controller.viewability.closeButtonClicked)?P.info("Viewability metrics changed",{msg:"below threshold",action:"defer autoplay",value:{inView:t.controller.viewability.data.percent}}):t.controller.viewability.userDidPause||(t.controller.viewability.autoPaused=!1)),n.isAd()||void 0===document.visibilityState||"hidden"!==document.visibilityState||t.controller.pause()):e.type===l.a.Media.Event.PAUSED?window.PlayerState.state=window.PlayerState.PAUSED:e.type===l.a.Media.Event.RESUME||(e.type===l.a.Media.Event.ENDED?(window.PlayerState.state=window.PlayerState.ENDED,n.isAd()||t.controller._adEnded()):e.type===l.a.Media.Event.DURATION_CHANGE?(window.PlayerState.data.duration=window.ContentPlayer.duration,!n.isAd()&&window.CurrentVideoConfig.advertising.on?(t.controller._overlayAdCueFinder.reset(!0,window.ContentPlayer.duration),window.BoltAdManager&&window.BoltAdManager.prefetchEnabled&&window.ContentPlayer.duration>=45&&window.BoltAdManager.prefetchAds("overlay")):window.AdBlockDetected&&t.controller._overlayAdCueFinder.reset(!0,window.ContentPlayer.duration)):e.type===l.a.Media.Event.TIME_UPDATE?n.playing&&!n.paused&&(window.PlayerState.state=window.PlayerState.PLAYING,window.PlayerState.data.currentTime=window.ContentPlayer.currentTime,t.controller._onTimeUpdated()):e.type===l.a.Media.Event.LOADED||(e.type===l.a.Media.Event.WAITING?n.isAd()?window.PlayerState.state=window.PlayerState.WAITING:window.PlayerState.delayedWaitingState(500):e.type===l.a.Media.Event.MUTED?(window.PlayerSettings.automute=!0,window.PlayerState.data.muted=window.PlayerSettings.automute):e.type===l.a.Media.Event.UNMUTED?(window.PlayerSettings.automute=!1,window.PlayerState.data.muted=window.PlayerSettings.automute):e.type===l.a.Media.Event.VOLUME_CHANGED?(window.PlayerSettings.volume=e.data,window.PlayerState.data.currentVolume=window.PlayerSettings.volume):e.type===l.a.Media.Event.SEEKED&&window.PlayerState.previousState===window.PlayerState.PAUSED&&(window.PlayerState.state=window.PlayerState.previousState)))})),b(this,"_handleUIEvents",(function(e){var t,n=i,a=n.view.currentPlayer;window.PlayerState;switch(e.type){case l.a.UI.Event.REPLAY:case l.a.UI.Event.PLAYPAUSE:n.controller.togglePlayPause();break;case l.a.UI.Event.SKIP:window.PlayerState.state=window.PlayerState.PAUSED;break;case l.a.UI.Event.TOGGLE_MUTE:if(t=!a.muted,a.mute(t),a.isAd()?window.ContentPlayer.mute(t):window.BoltAdManager&&window.BoltAdManager.videoElement&&(window.BoltAdManager.videoElement.muted=t),!1===t&&0===parseFloat(a.volume)){var o=parseFloat(a.volume.toFixed(2));a.setVolume(o||1)}break;case l.a.UI.Event.CHANGE_VOLUME:a.setVolume(e.data),a.mute(0===e.data);break;case l.a.UI.Event.SEEK:n.controller.seek(e.data);break;case l.a.UI.Event.RELATED_VIDEO_SELECTED:a.autoplay=!0,n.controller.relatedVideosHelper.loadSelectedRelatedVideo(e.data);break;case l.a.UI.Event.AGE_GATE_FAILED:window.PlayerState.state=window.PlayerState.AGE_GATE;break;case l.a.UI.Event.IOS_FULLSCREEN_CHANGED:}}));var a=this;a.view=t,a.controller=n,t.addEventListener(l.a.Media.Event.PLAY,a._handleMediaEvents),t.addEventListener(l.a.Media.Event.PLAYING,a._handleMediaEvents),t.addEventListener(l.a.Media.Event.PAUSED,a._handleMediaEvents),t.addEventListener(l.a.Media.Event.RESUME,a._handleMediaEvents),t.addEventListener(l.a.Media.Event.DURATION_CHANGE,a._handleMediaEvents),t.addEventListener(l.a.Media.Event.ENDED,a._handleMediaEvents),t.addEventListener(l.a.Media.Event.TIME_UPDATE,a._handleMediaEvents),t.addEventListener(l.a.Media.Event.LOADED,a._handleMediaEvents),t.addEventListener(l.a.Media.Event.MUTED,a._handleMediaEvents),t.addEventListener(l.a.Media.Event.UNMUTED,a._handleMediaEvents),t.addEventListener(l.a.Media.Event.VOLUME_CHANGED,a._handleMediaEvents),t.addEventListener(l.a.Media.Event.WAITING,a._handleMediaEvents),t.addEventListener(l.a.Media.Event.SEEKED,a._handleMediaEvents),t.addEventListener(l.a.UI.Event.REPLAY,a._handleUIEvents),t.addEventListener(l.a.UI.Event.PLAYPAUSE,a._handleUIEvents),t.addEventListener(l.a.UI.Event.SKIP,a._handleUIEvents),t.addEventListener(l.a.UI.Event.TOGGLE_MUTE,a._handleUIEvents),t.addEventListener(l.a.UI.Event.CHANGE_VOLUME,a._handleUIEvents),t.addEventListener(l.a.UI.Event.SEEK,a._handleUIEvents),t.addEventListener(l.a.UI.Event.RELATED_VIDEO_SELECTED,a._handleUIEvents),t.addEventListener(l.a.UI.Event.AGE_GATE_FAILED,a._handleUIEvents),t.addEventListener(l.a.UI.Event.IOS_FULLSCREEN_CHANGED,a._handleUIEvents)})),m=n(6);function S(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var T=new i.a("CONTENT-HELPER"),C=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.controller=t}var t,n,i;return t=e,(n=[{key:"loadVideoWithQuality",value:function(e,t,n,i){var a=window.PlayerView.currentPlayer;if(e!==a.currentQuality||n){var o=a.getSource(),r=Object(u.m)(t,o,e);if(r){var d=r.quality,s=r.source;a.fastSeekEnabled=Object(u.c)(s),T.debug("Load video with quality",{oldSrc:o,newSrc:s,quality:d,autoplay:i,fastSeekEnabled:a.fastSeekEnabled}),a.autoplay=i,!0===n?(T.debug("loadVideoQuality",{quality:d}),a.currentQuality=d,a.setSource(s),i&&a.preload(),window.PlayerState.delayedWaitingState(500)):(T.debug("loadVideoQuality",{quality:d}),a.setQuality(d,s),window.PlayerState.delayedWaitingState(500)),window.PlayerSettings.defaultHd="hd"===e,window.PlayerView.enableControls(!0)}}else T.debug("secleting the same video")}},{key:"loadNewVideo",value:function(e,t){var n=this;window.CurrentVideoConfig=e;var i=function(){if(window.CurrentVideoConfig.settings=Object(u.y)(window.CurrentVideoConfig.settings,window.PlayerSettings),Object(a.e)(),window.CurrentVideoConfig.advertising.on&&window.CurrentVideoConfig.advertising.cuepoints&&(window.CurrentVideoConfig.advertising.cuepoints=Object(u.E)(window.CurrentVideoConfig.advertising.cuepoints)),window.Playlist)for(var i=0;i<window.Playlist.length;i++)if(window.Playlist[i].videoId===e.content.videoId){window.CurrentPlaylistIndex=i,T.debug("Current playlist index",window.CurrentPlaylistIndex);break}T.info("Load new video",{config:e}),Object(u.C)(e.content.media,(function(i){void 0!==e.content.media.f4m?(T.debug("Processed media",{media:i}),i&&(e.content.media=i)):(e.content.media=i,T.debug("Transformed media",{media:e.content.media})),T.debug("Media data",{media:e.content.media}),window.CurrentVideoConfig.settings.minAge>0?(Object(m.b)(l.a.UI.POSTER),window.PlayerView.addOnceEventListener(l.a.UI.Event.AGE_GATE_PASSED,(function(){t?(T.debug("Age gate",{val:"passed"}),n.controller.play((function(){n.loadVideoWithQuality(window.PlayerView.currentPlayer.currentQuality,e.content.media,!0,t)}))):(window.PlayerState.state=window.PlayerState.START,T.debug("Age gate",{val:"passed"}),n.loadVideoWithQuality(window.PlayerView.currentPlayer.currentQuality,e.content.media,!0,t))})),window.PlayerView.addOnceEventListener(l.a.UI.Event.AGE_GATE_FAILED,(function(){window.PlayerState.state=window.PlayerState.AGE_GATE}))):t?(T.info("No age-gate"),window.PlayerState.state=window.PlayerState.START,n.controller.playPrerollAd({failedOrCompleteCallback:function(){n.loadVideoWithQuality(window.PlayerView.currentPlayer.currentQuality,e.content.media,!0,t)}})):(window.PlayerState.state=window.PlayerState.START,n.loadVideoWithQuality(window.PlayerView.currentPlayer.currentQuality,e.content.media,!0,t)),window.BoltAdManager&&!window.BoltAdManager.sequentialPrerollAdRequested&&window.PlayerView.currentPlayer.onVideoConfigChanged()}))};window.BoltAdManager&&!window.BoltAdManager.sequentialPrerollAdRequested?window.BoltAdManager.init(i):i()}},{key:"loadNewVideoConfig",value:function(e,t){var n=this;Object(u.v)(e,(function(e){window.videoConfigChanged=!0,n.loadNewVideo(e,t)}),(function(){T.error("Failed to load video config: ".concat(e))}))}}])&&S(t.prototype,n),i&&S(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=new i.a("RELATED-VIDEOS-HELPER"),k=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),L(this,"_relatedVideosFetched",(function(e){var t=n;if(e){var i="string"==typeof e?JSON.parse(e):e;window.RelatedVideos=i,window.RelatedVideos.length>0?(t.playerView.setRelatedVideosFetched(!0),t.playerView.setRelatedVideos(window.RelatedVideos),M.debug("Related videos",window.RelatedVideos)):(t._skipRelatedVideos(),M.debug("No related videos found"))}else t._skipRelatedVideos()})),L(this,"_skipRelatedVideos",(function(){n.playerView.setRelatedVideosFetched(!0),n.playerView.setRelatedVideos(null)})),this.contentHelper=t,this.playerView=window.PlayerView}var t,n,i;return t=e,(n=[{key:"fetch",value:function(){var e=this;window.CurrentVideoConfig.related?e.playerView.isRelatedVideoListFetched()||window.PlayerState.state!==window.PlayerState.PLAYING||(M.info("Fetching related videos"),e.playerView.setRelatedVideosFetched(!0),Object(u.N)({url:window.CurrentVideoConfig.related,method:"get",dataFormat:"json"}).then((function(t){e._relatedVideosFetched(t.data)})).catch(e._skipRelatedVideos)):(e._skipRelatedVideos(),M.debug("No related videos"))}},{key:"shouldAttemptPrefetch",value:function(){this.playerView=window.PlayerView;var e=this.playerView.currentPlayer;if(!window.CurrentVideoConfig.related)return!1;var t=!this.playerView.isRelatedVideoListFetched()&&0!==e.duration&&e.currentTime>e.duration-l.a.UI.RELATED_FETCH_TIME_BEFORE_VID_ENDS;return M.debug("Should attempt prefetching related videos",{value:!!t}),t}},{key:"showRelatedVideosMenu",value:function(){return!!this.playerView.isRelatedVideoListFetched()&&(Array.isArray(window.RelatedVideos)&&window.RelatedVideos.length>0?(M.debug("Show related videos"),this.playerView.showRelatedVideosMenu(),window.PlayerState.state=window.PlayerState.RELATED_VIDEOS):(M.debug("No related videos"),window.PlayerState.state=window.PlayerState.START),!0)}},{key:"loadSelectedRelatedVideo",value:function(e){var t;this.playerView.setRelatedVideosFetched(!1),window.PlayerState.delayedWaitingState(500);for(var n=0;n<window.RelatedVideos.length&&(t=window.RelatedVideos[n]).videoId!==e;n++);M.debug("Related video to load",{videoId:t.videoId}),this.contentHelper.loadNewVideoConfig(t.config,!0)}}])&&O(t.prototype,n),i&&O(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function I(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var D=new i.a("FRAME-PLAYLIST-HELPER"),R=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.contentHelper=t}var t,n,i;return t=e,(n=[{key:"processPlaylist",value:function(){var e=window.Playlist;if(window.CurrentPlaylistIndex<e.length-1){var t=e[++window.CurrentPlaylistIndex],n=!!window.PlayerSettings.playlistPlaythrough;D.info("Process playlist, player settings:",window.PlayerSettings),this.loadPlaylistVideo(t,n)}else window.PlayerSettings.loop?this.reset():window.PlayerState.state=window.PlayerState.ENDED}},{key:"reset",value:function(){window.CurrentPlaylistIndex=-1,this.processPlaylist()}},{key:"loadPlaylistVideo",value:function(e,t){var n;window.PlayerState.delayedWaitingState(500),D.debug("Load playlist video",e),window.PlayerView.enableControls(!1),window.BoltAdManager&&window.BoltAdManager.abort(),null!==(n=window.BoltAdManager)&&void 0!==n&&n.sequentialPrerollAdRequested||window.ContentPlayer.unload(),this.contentHelper.loadNewVideoConfig(e.config,t)}}])&&I(t.prototype,n),i&&I(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function V(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var N=new i.a("OVERLAY-AD-CUE-FINDER"),B=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nextVideoAdCuepoint=0,this.lastVideoAdCuepoint=0,this.skip=!1,this._lastAttempt=0,this._videoDuration=0}var t,n,i;return t=e,(n=[{key:"lastAttempt",get:function(){return this._lastAttempt},set:function(e){this._lastAttempt=Math.floor(e)}},{key:"videoDuration",get:function(){return this._videoDuration}},{key:"MIN_WIDTH",get:function(){return 327}},{key:"MIN_HEIGHT",get:function(){return 340}},{key:"AD_INTERVAL",get:function(){return 420}},{key:"MIN_DURATION",get:function(){return 45}},{key:"hasCueForTime",value:function(e,t,n){var i=this,a=i.videoDuration>this.MIN_DURATION&&t>=this.MIN_WIDTH&&n>=this.MIN_HEIGHT,o=Math.floor(e);return a&&(a=i.videoDuration-o>this.MIN_DURATION)&&(a=o-i.lastVideoAdCuepoint>=15)&&i.lastAttempt>0&&(a=o-i.lastAttempt>=i.AD_INTERVAL),a&&i.nextVideoAdCuepoint>0&&(a=i.nextVideoAdCuepoint-o>=this.MIN_DURATION),a&&(i._lastAttempt=o),a}},{key:"reset",value:function(e,t){t||N.error("Null video duration"),this._videoDuration=t,this.lastVideoAdCuepoint=0,this.nextVideoAdCuepoint=0,e&&(this.skip=!1,this.lastAttempt=0)}}])&&V(t.prototype,n),i&&V(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),U=n(44);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=new i.a("CONTROLLER"),q=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),F(this,"viewEventHandler",void 0),F(this,"contentHelper",void 0),F(this,"relatedVideosHelper",void 0),F(this,"playlistHelper",void 0),F(this,"_overlayAdCueFinder",void 0),F(this,"_shouldRequestPreroll",(function(e){var n=e.contentPlayer,i=void 0===n?window.ContentPlayer:n,a=e.adMgr,o=void 0===a?window.BoltAdManager:a;return!window.DebugMode.noPreroll&&o&&t._prerollEnabled&&window.CurrentVideoConfig.advertising.on&&(i.videoPlayCount-1)%i.videoAdRatio==0})),F(this,"_onViewabilityMetricsChanged",(function(e){var n=t,i=e.data,a=window.PlayerSettings.minimumViewability;window.PlayerView.currentPlayer&&a&&(i.percent<a?window.PlayerState.state===window.PlayerState.PLAYING&&(n.viewability.userDidPause||n.viewability.closeButtonClicked)?(x.info("Viewability metrics changed",{msg:"below threshold",action:"pause"}),n.pause(!0)):n.viewability.userDidPause||(n.viewability.autoPaused=!1):window.PlayerState.state===window.PlayerState.PAUSED&&n.viewability.autoPaused?(x.info("Viewability metrics changed",{msg:"above threshold",action:"resume"}),n.resume()):window.PlayerState.state===window.PlayerState.START&&n.autoplayWhenViewabilityMetricsChanged&&(x.info("Viewability metrics changed",{msg:"above threshold",action:"autoplay"}),n.autoplayWhenViewabilityMetricsChanged=!1,n.playPrerollAd({})))})),this.currentVideoConfig=window.CurrentVideoConfig,this.replay=this.replay.bind(this),this.viewability=new E,this.contentHelper=new C(this),this.relatedVideosHelper=new k(this.contentHelper),this.playlistHelper=new R(this.contentHelper),this._overlayAdCueFinder=new B}var t,i,a;return t=e,(i=[{key:"_doStartUp",value:function(){var e=this;if(window.BoltAdManager){window.BoltAdManager.addEventListener(l.a.Ad.Event.VMAP_CUEPOINTS_CHANGED,(function(t){e.currentVideoConfig.advertising.cuepoints||(e.currentVideoConfig.advertising.cuepoints=[]),e.currentVideoConfig.advertising.cuepoints=e.currentVideoConfig.advertising.cuepoints.concat(t.data),e.currentVideoConfig.advertising.cuepoints=Object(u.E)(Object(u.p)(e.currentVideoConfig.advertising.cuepoints)),window.ContentPlayer&&(window.ContentPlayer.adsCuepoints=e.currentVideoConfig.advertising.cuepoints.concat())}));var t=e.currentVideoConfig.advertising.prefetch;window.DebugMode.forcePrefetch&&!window.DebugMode.noPreroll?t=!0:window.DebugMode.forceNoPrefetch&&(t=!1),window.BoltAdManager.prefetchEnabled=t}window.ContentPlayer.pseudoAdsCuepoints=[],window.ContentPlayer.videoAdRatio=void 0!==e.currentVideoConfig.advertising.videoAdRatio?e.currentVideoConfig.advertising.videoAdRatio:1,window.ContentPlayer.videoPlayCount=1,e.viewEventHandler=new A(window.PlayerView,this),window.readyCallback.call(null,window.ContentPlayer.containerId);var n=function(){if(window.PlayerSettings.autoplay)if(window.PlayerSettings.minimumViewability){var t=window.PlayerSettings.minimumViewability;e.viewability.addOnceEventListener("changed",(function(n){var i=n.data;i.percent>=t?(x.info("Viewability metrics changed",{msg:"above threshold",action:"play",value:{inView:i.percent,threshold:t}}),window.BoltAdManager?"requesting"!==window.BoltAdManager.status&&e.playPrerollAd({}):e.play()):(x.info("Viewability metrics changed",{msg:"below threshold",action:"Defer autoplay",value:{inView:i.percent,threshold:t}}),window.PlayerState.state=window.PlayerState.START),e.autoplayWhenViewabilityMetricsChanged=!0,e.viewability.addEventListener("changed",e._onViewabilityMetricsChanged)})),e.viewability.requestMetrics()}else e.playPrerollAd({});else window.PlayerState.state=window.PlayerState.START,window.PlayerSettings.minimumViewability&&(e.viewability.requestMetrics(),e.viewability.addEventListener("changed",e._onViewabilityMetricsChanged))};!window.DebugMode.noPreroll&&window.BoltAdManager&&window.BoltAdManager.prefetchEnabled?(x.debug("Prefetch preroll ad"),window.PlayerState.state=window.PlayerState.WAITING,window.BoltAdManager.prefetchAds("preroll",n)):n()}},{key:"replay",value:function(){var e=window.PlayerView.currentPlayer;e.isAd()||(x.info("Replay content",{title:window.CurrentVideoConfig.settings.title}),e.videoPlayCount++,this._overlayAdCueFinder.reset(!1,e.duration),window.PostAdRefreshPlayerState=null,e.replay())}},{key:"_shouldPrefetchNextPreroll",value:function(e){var t=e.currentPlayer,n=void 0===t?window.PlayerView.currentPlayer:t,i=e.adMgr,a=void 0===i?window.BoltAdManager:i,o=e.adMgrStatus;return!o&&window.BoltAdManager&&window.BoltAdManager.status&&(o=window.BoltAdManager.status),!!window.PlayerSettings.playlistPlaythrough&&!n.isAd()&&!a.sequentialPrerollAdRequested&&"prefetching"!==o&&"requesting"!==o&&"media_located"!==o&&window.Zeus.sessionVideoPlayCount>1&&n.currentTime>=n.duration-l.a.Ad.AD_PREFETCH_TIME_BEFORE_VID_ENDS}},{key:"_onTimeUpdated",value:function(){var e=this,t=window.PlayerView.currentPlayer,n=window.BoltAdManager;if(window.PlayerState.state=window.PlayerState.PLAYING,!t.isAd()){var i=t.currentTime,a=null,o=null,r=!1;if(n&&n.hasVMAPBreak(i))return x.info("AdManager has a VMAP break at ".concat(i)),void e._playMidrollAd(window.parseInt(i,10));if(t.adsCuepoints&&t.adsCuepoints.length>0?(o=t.adsCuepoints,r=!1):t.pseudoAdsCuepoints&&t.pseudoAdsCuepoints.length>0&&(o=t.pseudoAdsCuepoints,r=!0),!window.DebugMode.noMidroll&&o){for(var d=0;d<o.length;d++)if(o[d]<t.currentTime){a=o.shift(),r||t.hitAdCuepoint(a);break}a&&(e._currentCuepoint=a,e._overlayAdCueFinder.lastVideoAdCuepoint=a,e._overlayAdCueFinder.nextVideoAdCuepoint=o[0],x.info("Event CB",{evt:"_onTimeUpdated",value:t.currentTime,data:{cue:a}}),e._playMidrollAd())}t.currentTime>=t.duration-l.a.UI.RELATED_FETCH_TIME_BEFORE_VID_ENDS&&e.relatedVideosHelper.shouldAttemptPrefetch()&&e.relatedVideosHelper.fetch({})}}},{key:"seek",value:function(e){var t=window.PlayerView.currentPlayer;if(!t.isAd()){var n=e;if(window.PlayerState.state=window.PlayerState.WAITING,!window.DebugMode.noMidroll&&window.CurrentVideoConfig.advertising.on){var i=t.adsCuepoints;if(i.length>0)for(var a=0;a<i.length;a++){var o=i[a];if(o<e){n=o;break}}}t.seek(n)}}},{key:"_requestAd",value:function(e){U.b(this,e)}},{key:"playPrerollAd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n=e.failedOrCompleteCallback,i=e.skipPrefetch,a=e.continueToContent,o=void 0===a||a,r=e.adShouldBeQueued,d=e.loadAd,s=window.ContentPlayer,l=window.BoltAdManager;if(window.CurrentVideoConfig.advertising.on||window.postLogMessage("Advertising is disabled for the current video","warn"),window.AdBlockDetected&&(window.AdBlocked.track("preroll"),l||t.play()),"precontent"===window.PlayerSettings.playerType&&window.shouldReadGDPRConsents&&void 0===window.gdprConsents)var c=setInterval((function(){void 0!==window.gdprConsents&&(clearInterval(c),t.playPrerollAd(e))}));else if(t._shouldRequestPreroll({contentPlayer:s,adMgr:l})){x.info("Preroll",{func:"playPrerollAd",action:"request"});var v=function(){},w=function(){if(l=window.BoltAdManager,x.info("Preroll",{func:"finishedCallback",action:"adComplete"}),window.PlayerSettings.adLoop)return x.info("Preroll",{func:"finishedCallback",action:"adLoop"}),void y();if(l.prefetchEnabled){var e=window.CurrentVideoConfig.advertising.cuepoints||[];!window.DebugMode.noMidroll&&e.length>0&&l.prefetchAds("midroll")}window.client.isMobile?setTimeout((function(){"function"==typeof n?n():o?window.PlayerSettings.adOnly||t.play():window.PlayerState.state=window.PostAdRefreshPlayerState||window.PlayerState.START}),500):"function"==typeof n?n():o?!window.PlayerSettings.adOnly&&l&&"prefetching"!==l.status&&t.play():window.PlayerState.state=window.PostAdRefreshPlayerState||window.PlayerState.START},y=function(){t._requestAd({timing:"preroll",adShouldBeQueued:r,loadAd:d,loadedCallback:v,finishedCallback:w})};if(l.prefetchEnabled&&!i)x.info("Preroll",{func:"playPrerollAd",action:"prefetch"}),window.PlayerState.state=window.PlayerState.WAITING,l.prefetchAds("preroll",y);else{var h=!!window.DebugMode.delayedPreroll;Object(u.A)(l.selectedServer,"siteTags","delayedPreroll")&&(h=l.selectedServer.siteTags.delayedPreroll||window.DebugMode.delayedPreroll),h&&"precontent"!==window.PlayerSettings.playerType&&(x.info("Preroll",{func:"playPrerollAd",action:"delayedPreroll"}),t.play()),y()}}else window.client.isMobile?setTimeout((function(){"function"==typeof n?n():t.play()}),500):"function"==typeof n?n():t.play()}},{key:"_shouldRequestMidroll",value:function(e){var t=e.contentPlayer,n=void 0===t?window.ContentPlayer:t,i=e.adMgr,a=void 0===i?window.BoltAdManager:i;return!window.DebugMode.noMidroll&&a&&window.CurrentVideoConfig.advertising.on&&(n.videoPlayCount-1)%n.videoAdRatio==0}},{key:"_playMidrollAd",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,i=window.ContentPlayer,a=window.BoltAdManager;if(window.AdBlockDetected&&window.AdBlocked.track("midroll"),t||n._shouldRequestMidroll({contentPlayer:i,adMgr:a})){var o=function(){},r=function(){x.info("Midroll",{func:"finishedCallback",action:"adComplete"}),(window.CurrentVideoConfig.advertising.cuepoints||[]).length>0&&(a=window.BoltAdManager).prefetchEnabled&&(x.info("Midroll",{func:"finishedCallback",action:"refillAdPool"}),a.prefetchAds("midroll",null,!0),(i=window.ContentPlayer).duration>45e3&&(x.info("Midroll",{func:"finishedCallback",action:"refillOverlayPool"}),a.prefetchAds("overlay",null,!0))),n.resume()};n._requestAd({timing:"midroll",loadedCallback:o,finishedCallback:r,vmapBreakTime:e})}}},{key:"_adEnded",value:function(){var e=this;x.info("AdEnded",{func:"_adEnded",videoPlayCount:window.ContentPlayer.videoPlayCount}),window.PlayerState.state=window.PlayerState.WAITING,window.BoltAdManager&&!window.BoltAdManager.sequentialPrerollAdRequested&&window.CurrentVideoConfig.advertising.on&&(window.ContentPlayer.videoPlayCount-1)%window.ContentPlayer.videoAdRatio==0?window.Playlist&&window.CurrentPlaylistIndex!==window.Playlist.length-1?e.playlistHelper.processPlaylist():(window.PlayerState.state=window.PlayerState.WAITING,x.info("AdEnded",{func:"finishedCallback",action:"adComplete"}),window.Playlist?e.playlistHelper.processPlaylist():(window.ContentPlayer.loop||(window.client.system.ios&&window.PlayerView.fullscreen&&window.ContentPlayer.video.webkitExitFullscreen(),window.ContentPlayer.show(!1)),window.CurrentVideoConfig.related?(window.PlayerState.state=window.PlayerState.WAITING,e.relatedVideosHelper.showRelatedVideosMenu()):window.PlayerState.state=window.PostAdRefreshPlayerState||window.PlayerState.ENDED)):window.Playlist?e.playlistHelper.processPlaylist():window.ContentPlayer.loop?e.play():window.CurrentVideoConfig.related?(window.PlayerState.state=window.PlayerState.WAITING,e.relatedVideosHelper.showRelatedVideosMenu()):window.PlayerState.state=window.PostAdRefreshPlayerState||window.PlayerState.ENDED}},{key:"_showHiddenContainer",value:function(){var e,t,i,a,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=window.PlayerSettings.hiddenContainer||window.PlayerSettings.postAdContainer;t&&(x.info("Showing post content container",{hcId:t}),window.Zeus.dispatchEvent(window.Bolt.BOLT_AD_SESSION_COMPLETE,G({hcId:t},e)))};if(window.rewardedVideo&&window.tycheData.rewardedVideo){var r=null===(e=window.tycheData)||void 0===e?void 0:e.rewardedVideo,d=r.adPlayed,s=r.adType,u=null===(t=window.tycheData)||void 0===t||null===(i=t.rewardedVideo)||void 0===i||null===(a=i.rules)||void 0===a?void 0:a.backfillReward,c=s===l.a.Ad.Type.DISPLAY_BACKFILL||s===l.a.Ad.Type.HOUSE_AD,v={adPlayed:d,isDisplayBackfill:s===l.a.Ad.Type.DISPLAY_BACKFILL,isHouseAd:s===l.a.Ad.Type.HOUSE_AD,rewardUser:!1};!c&&d||!0===u?Promise.all([n.e(1),n.e(4)]).then(n.bind(null,116)).then((function(e){return(0,e.default)(window.tycheData.rewardedVideo)})).then((function(){v.rewardUser=!0,o(v)})).catch((function(e){o(v)})):o(v)}else o()}},{key:"_setSize",value:function(e,t,n){window.PlayerView.size(t,n)}},{key:"play",value:function(){var e=window.PlayerView.currentPlayer;e&&window.PlayerState.state!==window.PlayerState.PLAYING&&(e.hasStarted&&e.paused?this.resume():e.ended?this.replay(e):(window.PlayerState.delayedWaitingState(500),"native"!==e.type&&"hls_xt"!==e.type||e.preload(),e.hlsLoading||e.play(),e.videoPlayCount++,window.Zeus.sessionVideoPlayCount++))}},{key:"pause",value:function(e){var t=this,n=window.PlayerView.currentPlayer;if(!n||n.isAd()){if("function"!=typeof n.pauseAd)return;n.pauseAd()}window.PlayerState.state=window.PlayerState.PAUSED,"function"==typeof n.pause&&n.pause(),t.viewability.autoPaused=e,t.viewability.userDidPause||e||(t.viewability.userDidPause=!0)}},{key:"togglePlayPause",value:function(){var e=this;window.client.isMobile&&window.BoltAdManager&&!window.BoltAdManager.hasBeenTouched&&(window.BoltAdManager.videoElement&&(window.BoltAdManager.videoElement.src="",window.BoltAdManager.videoElement.load()),window.BoltAdManager.hasBeenTouched=!0);var t=window.PlayerView.currentPlayer;if(t){if(window.client.isMobile&&!window.PlayerView.currentPlayer.isAd()&&!t.hasBeenTouched)try{t.touch()}catch(e){x.warn("Caught Error",{message:e.message,stack:e.stack})}t.hasStarted?t.paused?e.resume():e.pause():t.isAd()?e.play():e.playPrerollAd({})}}},{key:"resume",value:function(){window.PlayerView.currentPlayer&&(window.PlayerState.state=window.PlayerState.PLAYING,window.PlayerView.currentPlayer.resume())}},{key:"stop",value:function(){window.PlayerView.currentPlayer&&!window.PlayerView.currentPlayer.isAd()&&window.PlayerView.currentPlayer.stop()}},{key:"closeButtonClicked",value:function(){this.viewability.closeButtonClicked=!0}},{key:"setVolume",value:function(e){window.PlayerView.currentPlayer&&window.PlayerView.currentPlayer.setVolume(e)}},{key:"mute",value:function(e){window.PlayerView.currentPlayer&&window.PlayerView.currentPlayer.mute(e)}},{key:"updateViewabilityMetrics",value:function(e){this.viewability.update(e)}},{key:"_onVisibilityChange",value:function(){var e=this,t=window.PlayerView,n=window.PlayerState,i=t.currentPlayer;x.info("Visibility State",{visibilityState:document.visibilityState,playerState:n.state,isAd:i.isAd()}),i.isAd()||n.state===n.START||("hidden"===document.visibilityState?e.paused||e.pause():n.state===n.PAUSED&&n.previousState===n.PLAYING?e.play():n.state===n.PAUSED&&e.pause())}},{key:"startUp",value:function(){var e=this,t=window.pageViews;window.BENCHMARK.end("bolt_coreJSLoaded_to_controllerStartUp");var n,i=window.PlayerSettings.skips||0;if(e._prerollEnabled=t>i,e._prerollEnabled||window.postLogMessage("Preroll is disabled because the video has been viewed more than ".concat(i," times"),"warn"),window.PlayerSettings.pageviewForAds){n=window.PlayerSettings.pageviewForAds.split(",");for(var a=0;a<n.length;a++)n[a]=parseInt(n[a],10);e._prerollEnabled=n.indexOf(t)>-1}x.info("Preroll",{func:"startUp",data:{enabled:e._prerollEnabled,viewsForAds:n,pageViews:t,pageViewsToSkip:i}}),e._prerollEnabled||"precontent"!==window.PlayerSettings.playerType?(void 0!==document.visibilityState&&document.addEventListener("visibilitychange",(function(){e._onVisibilityChange()}),!1),window.PlayerView.addEventListener(l.a.Player.Event.VIEW_READY,(function(){window.client.showHideIframe&&window.Zeus.dispatchEvent("showiframe"),window.CurrentVideoConfig.settings.minAge>0?(window.PlayerState.state=window.PlayerState.AGE_GATE,window.PlayerView.addOnceEventListener(l.a.UI.Event.AGE_GATE_PASSED,(function(){x.info("Age gate passed"),e._doStartUp()}))):e._doStartUp()})),!0===window.PlayerSettings.adOnly||"adsonly"===window.PlayerSettings.playerType?window.PlayerView.init(!1):window.PlayerView.init(window.CurrentVideoConfig.settings.minAge>0)):e._showHiddenContainer()}}])&&H(t.prototype,i),a&&H(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}(),W=n(71);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function z(e,t){return(z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Z(e);if(t){var a=Z(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return K(this,n)}}function K(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return X(e)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $,ee=new i.a("VIEW"),te=window.BENCHMARK,ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(d,e);var t,i,o,r=J(d);function d(e){var t,n,i,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),t=r.call(this),n=X(t),a=420,(i="TINY_PLAYER_MAX_WIDTH")in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a;var o=X(t);return t._handleIOSFullscreenEvents=t._handleIOSFullscreenEvents.bind(X(t)),t.cssClass=e,t._isReady=!1,t.mouseInput=null,t._volumeControl=null,t._relatedVideoMenu=null,t._content=null,t._prerollScreen=null,t._uiModules=[],t._ageGateHandler=null,t._watermark=null,t._coreModules=["_controlbar","_scrubber"],window.client.isMobile||(t._coreModules.push("_volumeControl"),t._coreModules.push("mouseInput")),t._defaultBoxModel=null,t.fullscreen=!1,t.currentPlayer=null,t._enableAgeGate=!1,window.addEventListener("resize",(function(){window.PlayerSettings.tinyPlayer=!1,window.innerWidth<=t.TINY_PLAYER_MAX_WIDTH&&(window.PlayerSettings.tinyPlayer=!0);var e=setTimeout((function(){clearTimeout(e),o.invalidate()}),400)})),t.fixedControlbar=!1,t.fixedTitlebar=!1,t.fixedScrubber=!1,t.fixedBottomBar=!1,t.showSkipButton=!1,t.showPreSkipButton=!1,t}return t=d,(i=[{key:"enableAgeGate",value:function(e){var t=this;window.PlayerSettings.preview&&(e?t.currentPlayer&&t.currentPlayer.playing&&t.currentPlayer.pause():window.PlayerState.state=window.PlayerState.START),e?t._ageGateHandler?(t._ageGateHandler.invalidate(),t._ageGateHandler.invalidateCookie()):W.a.buildAgeGate((function(e){t._ageGateHandler=e,t._ageGateHandler.addEventListener(l.a.UI.Event.AGE_GATE_PASSED,(function(e){ee.debug("Age gate",{passed:!0}),t._dispatchEvent(e.type,e.data)})),t._ageGateHandler.addEventListener(l.a.UI.Event.AGE_GATE_FAILED,(function(e){ee.debug("Age gate",{passed:!1}),t._dispatchEvent(e.type)})),t._ageGateHandler.invalidate(),t._ageGateHandler.invalidateCookie(),t._uiModules.push(t._ageGateHandler)})):(t._ageGateHandler?t._ageGateHandler.close():Object(m.b)(l.a.UI.AGE_GATE_LAYER),t._dispatchEvent(l.a.UI.Event.AGE_GATE_PASSED))}},{key:"showRelatedVideosMenu",value:function(){null!==this._relatedVideoMenu&&this._relatedVideoMenu.open()}},{key:"setRelatedVideos",value:function(e){var t=this;e?t._relatedVideoMenu?t._relatedVideoMenu.init(e):W.a.buildRelatedVideos((function(e){t._relatedVideoMenu=e,t._relatedVideoMenu.addEventListener(l.a.UI.Event.RELATED_VIDEO_SELECTED,(function(e){t._dispatchEvent(e.type,e.data)})),t._uiModules.push(t._relatedVideoMenu)}),e):t._relatedVideoMenu&&t._relatedVideoMenu.close()}},{key:"setRelatedVideosFetched",value:function(e){this._relatedVideosFetched=e}},{key:"isRelatedVideoListFetched",value:function(){return this._relatedVideosFetched}},{key:"enableControls",value:function(){}},{key:"toggleFullscreen",value:function(){ee.debug("Toggle Fullscreen",{current:this.fullscreen}),this.setFullscreen(!this.fullscreen)}},{key:"setFullscreen",value:function(e){ee.info("Set Fullscreen",{value:!!e});var t=this;if(!1!==window.PlayerSettings.fullscreen)if(this.fullscreenRequested=e,window.client.system.ios){if(!t.currentPlayer)return;!1===e?t.currentPlayer.video.webkitExitFullscreen():t.currentPlayer.video.webkitEnterFullscreen()}else window.fullscreenEnabled&&(!1===e?(window.exitFullscreen(),t.currentPlayer._dispatchEvent(l.a.UI.Event.EXIT_FULLSCREEN)):(window.enterFullscreen(),t.currentPlayer._dispatchEvent(l.a.UI.Event.ENTER_FULLSCREEN))),t._dispatchEvent(l.a.UI.Event.REQUEST_FULLSCREEN_CHANGE,!t.fullscreen);else ee.warn("Fullscreen is not allowed by the publisher")}},{key:"_handleIOSFullscreenEvents",value:function(e){ee.debug("IOS Fullscreen Event",{type:e.type,data:e.data}),"webkitendfullscreen"===e.type?(this.fullscreen=!1,this.currentPlayer._dispatchEvent(l.a.UI.Event.ENTER_FULLSCREEN)):(this.fullscreen=!0,this.fullscreenRequested=!1,this.currentPlayer._dispatchEvent(l.a.UI.Event.EXIT_FULLSCREEN)),this._dispatchEvent(l.a.UI.Event.IOS_FULLSCREEN_CHANGED,this.fullscreen)}},{key:"setCurrentPlayer",value:function(e){var t=l.a.UI,n=this;if(e!==n.currentPlayer){if(n.currentPlayer&&(n.currentPlayer.removeEventListener(l.a.Player.Event.CANPLAY,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Player.Event.CONTENT_CHANGED,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Player.Event.QUALITY_CHANGED,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Player.Event.CONFIG_CHANGED,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Media.Event.PLAY,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Media.Event.PLAYING,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Media.Event.DURATION_CHANGE,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Media.Event.ENDED,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Media.Event.PAUSED,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Media.Event.RESUME,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Media.Event.STOPPED,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Media.Event.TIME_UPDATE,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Media.Event.LOAD_PROGRESS,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Media.Event.WAITING,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Media.Event.LOAD_START,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Media.Event.LOADED,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Media.Event.START_TIME_CHANGED,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Media.Event.NOT_FOUND,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Media.Event.PROGRESS,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Media.Event.FIRSTQUARTILE,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Media.Event.MIDPOINT,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Media.Event.THIRDQUARTILE,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Media.Event.MUTED,n._onMuted),n.currentPlayer.removeEventListener(l.a.Media.Event.UNMUTED,n._onUnmuted),n.currentPlayer.removeEventListener(l.a.Media.Event.VOLUME_CHANGED,n._onVolumeChanged),n.currentPlayer.removeEventListener(l.a.Media.Event.SEEKED,n._handlePlayerEvents),n.currentPlayer.removeEventListener(l.a.Ad.Event.CUEPOINT,n._handlePlayerEvents),window.client.system.ios&&n.currentPlayer.video&&(n.currentPlayer.video.removeEventListener("webkitendfullscreen",n._handleIOSFullscreenEvents),n.currentPlayer.video.removeEventListener("webkitbeginfullscreen",n._handleIOSFullscreenEvents))),n._handlePlayerEvents=n._handlePlayerEvents.bind(this),e.addEventListener(l.a.Player.Event.CANPLAY,n._handlePlayerEvents),e.addEventListener(l.a.Player.Event.CONTENT_CHANGED,n._handlePlayerEvents),e.addEventListener(l.a.Media.Event.PLAY,n._handlePlayerEvents),e.addEventListener(l.a.Media.Event.PLAYING,n._handlePlayerEvents),e.addEventListener(l.a.Media.Event.DURATION_CHANGE,n._handlePlayerEvents),e.addEventListener(l.a.Media.Event.ENDED,n._handlePlayerEvents),e.addEventListener(l.a.Media.Event.PAUSED,n._handlePlayerEvents),e.addEventListener(l.a.Media.Event.RESUME,n._handlePlayerEvents),e.addEventListener(l.a.Media.Event.STOPPED,n._handlePlayerEvents),e.addEventListener(l.a.Media.Event.TIME_UPDATE,n._handlePlayerEvents),e.addEventListener(l.a.Media.Event.LOAD_PROGRESS,n._handlePlayerEvents),e.addEventListener(l.a.Media.Event.WAITING,n._handlePlayerEvents),e.addEventListener(l.a.Media.Event.LOAD_START,n._handlePlayerEvents),e.addEventListener(l.a.Media.Event.LOADED,n._handlePlayerEvents),e.addEventListener(l.a.Media.Event.FIRSTQUARTILE,n._handlePlayerEvents),e.addEventListener(l.a.Media.Event.MIDPOINT,n._handlePlayerEvents),e.addEventListener(l.a.Media.Event.THIRDQUARTILE,n._handlePlayerEvents),n._onMuted=n._onMuted.bind(this),e.addEventListener(l.a.Media.Event.MUTED,n._onMuted),n._onUnmuted=n._onUnmuted.bind(this),e.addEventListener(l.a.Media.Event.UNMUTED,n._onUnmuted),n._onVolumeChanged=n._onVolumeChanged.bind(this),e.addEventListener(l.a.Media.Event.VOLUME_CHANGED,n._onVolumeChanged),e.addEventListener(l.a.Media.Event.SEEKED,n._handlePlayerEvents),e.isAd()?(Object(a.a)(document.body,"bolt-linear-ad-on"),Object(a.d)(document.body,"bolt-content-on"),Object(m.b)(t.TITLE_BAR),Object(m.b)(t.SUBTITLE_TEXT),window.client.isMobile||n._volumeControl&&n._volumeControl.setPlayer(e)):window.PlayerSettings.adOnly||(Object(a.a)(document.body,"bolt-content-on"),Object(a.d)(document.body,"bolt-linear-ad-on"),e.addEventListener(l.a.Ad.Event.CUEPOINT,n._handlePlayerEvents),e.addEventListener(l.a.Player.Event.QUALITY_CHANGED,n._handlePlayerEvents),e.addEventListener(l.a.Player.Event.CONFIG_CHANGED,n._handlePlayerEvents),e.addEventListener(l.a.Media.Event.NOT_FOUND,n._handlePlayerEvents),e.addEventListener(l.a.Media.Event.START_TIME_CHANGED,n._handlePlayerEvents),Object(m.b)(t.AD_CONTAINER),window.client.isMobile||n._volumeControl&&n._volumeControl.setPlayer(e),n.fixedControlbar=!1===window.PlayerSettings.appearance.controlbar.autohide),window.client.isMobile)e.mute(window.PlayerSettings.automute);else{var i,o,r,d,s,u,c=null===(i=window.BoltAdManager)||void 0===i||null===(o=i.ads)||void 0===o?void 0:o.isAdPod,v=1===(null===(r=window.BoltAdManager)||void 0===r||null===(d=r.ads)||void 0===d?void 0:d.currentIndex),w=!(!n.currentPlayer||null===(s=n.currentPlayer)||void 0===s||!s.muted)&&(null===(u=n.currentPlayer)||void 0===u?void 0:u.muted);if(!c||v||w)window.PlayerSettings.automute?e.setVolume(0):e.setVolume(window.PlayerSettings.volume||1),e.mute(window.PlayerSettings.automute);else{var y=n.currentPlayer.volume,h=n.currentPlayer.muted;n.currentPlayer.setVolume(0),n.currentPlayer.mute(!0),setTimeout((function(){e.setVolume(y),e.mute(h)}))}}n.currentPlayer=e,window.client.system.ios&&n.currentPlayer.video&&(n.currentPlayer.video.addEventListener("webkitendfullscreen",n._handleIOSFullscreenEvents),n.currentPlayer.video.addEventListener("webkitbeginfullscreen",n._handleIOSFullscreenEvents)),n._isReady?(n._dispatchEvent(l.a.UI.Event.PLAYER_CHANGED),n.invalidate()):n._waitForCoreModules()}else ee.debug("Attempting to set new player failed; not a new player.")}},{key:"_waitForCoreModules",value:function(){var e=this;ee.debug("Core Modules",e._coreModules),$||($=setInterval((function(){if(e._coreModules.every((function(t){return ee.debug("Waiting for module...",t),!!e[t]}))){clearInterval($),e._isReady=!0,ee.debug("View is ready"),window.Skin.style.visibility="visible",e.appearanceManager.updateColors(),e.appearanceManager.updateTextColors();for(var t=0;t<e._uiModules.length;t++)e._uiModules[t].updateAppearance();e._dispatchEvent(l.a.UI.Event.PLAYER_CHANGED),e.invalidate(),e._dispatchEvent(l.a.Player.Event.VIEW_READY),e.enableAgeGate(e._enableAgeGate)}}),100))}},{key:"_handlePlayerEvents",value:function(e){var t=this,n=e.target,i=l.a.UI;if(e.type===l.a.Player.Event.CONFIG_CHANGED){var o=window.CurrentVideoConfig;ee.info("Player config changed",{data:{config:o,newConfig:n.config}}),o.settings.minAge>0?t.enableAgeGate(!0):t.enableAgeGate(!1),Object.keys(o.content.media).length>1?(Object(a.d)(window.Skin,"bolt-hd-disabled"),Object(a.a)(window.Skin,"bolt-hd-enabled")):(Object(a.d)(window.Skin,"bolt-hd-enabled"),Object(a.a)(window.Skin,"bolt-hd-disabled")),Object(m.b)(i.ERROR_CONTAINER)}else e.type===l.a.Media.Event.PLAY?(ee.info("Player currently playing",{type:e.type,data:e.data,playerSource:n.getSource()}),n.isAd()||te.start("bolt_contentPlayRequested_to_contentPlaying"),t.invalidate()):e.type===l.a.Media.Event.PLAYING?n.isAd()||te.end("bolt_contentPlayRequested_to_contentPlaying"):e.type===l.a.Media.Event.PAUSED||(e.type===l.a.Media.Event.RESUME?(ee.info("Resume",{playerSource:n.getSource()}),n.isAd()||window.client.isMobile&&window.ContentPlayer.show(!0)):e.type===l.a.Media.Event.STOPPED?ee.info("Stopped",{playerSource:n.getSource()}):e.type===l.a.Media.Event.DURATION_CHANGE?ee.debug("Duration change",{duration:n.duration,playerSource:n.getSource()}):e.type===l.a.Media.Event.WAITING?ee.info("Waiting",{playerSource:n.getSource()}):e.type===l.a.Media.Event.LOAD_PROGRESS||(e.type===l.a.Media.Event.TIME_UPDATE?t.checkSkipButtonVisibility(e):e.type===l.a.Media.Event.ENDED?n.isAd()?ee.info("Ended Ad"):ee.info("Ended",{playerSource:n.getSource()}):e.type===l.a.Media.Event.START_TIME_CHANGED&&ee.debug("Start time changed",{playerSource:n.getSource()})));t._dispatchEvent(e)}},{key:"checkSkipButtonVisibility",value:function(e){var t,n,i,a,o,r,d=this,s=e.target,u=null===(t=window.PlayerView)||void 0===t?void 0:t.currentPlayer.isAd(),c=(null===(n=window.AdRequest)||void 0===n?void 0:n.adType)===l.a.Ad.Type.JS_VPAID,v=null===(i=window.BoltAdManager)||void 0===i?void 0:i.isLinear(),w=null===(a=window.BoltAdManager)||void 0===a||null===(o=a.ad)||void 0===o||null===(r=o.linear)||void 0===r?void 0:r.skipDelay,y=s&&s.duration>=w;if(!u||!v||c||!w||!y)return d.showSkipButton=!1,d._controlbar.hideSkipButton(),d.showPreSkipButton=!1,void d._controlbar.hidePreSkipButton();if(s&&s.currentTime&&s.currentTime>=window.BoltAdManager.ad.linear.skipDelay)d.showSkipButton=!0,d._controlbar.showSkipButton(),d.showPreSkipButton=!1,d._controlbar.hidePreSkipButton();else{d.showSkipButton=!1,d._controlbar.hideSkipButton();var h=Math.round(window.BoltAdManager.ad.linear.skipDelay-s.currentTime);d.showPreSkipButton=!0,d._controlbar.showPreSkipButton(h)}}},{key:"showError",value:function(e){Object(m.f)(l.a.UI.ERROR_CONTAINER);var t=Object(m.a)(l.a.UI.ERROR_CONTAINER);t&&(t.firstElementChild.textContent=e),Object(m.b)(l.a.UI.LOADING_INDICATOR)}},{key:"init",value:function(e){var t=l.a.UI,i=this,o=window.Skin;o.style.width="100%",o.style.height="100%",i.cssClass&&Object(a.a)(window.Skin,i.cssClass),Object(a.g)(),Object(a.e)(),i._coreModules.push("appearanceManager"),W.a.buildAppearanceManager((function(e){i.appearanceManager=e})),!1===window.PlayerSettings.fullscreen&&(ee.info("Fullscreen disabled"),Object(m.d)(t.FULLSCREEN_BTN)),window.PlayerSettings.adOnly?(i.fixedControlbar=!0,Object(a.a)(window.document.body,"bolt-linear-ad-on")):(i._enableAgeGate=e,i.fixedControlbar=!1===window.PlayerSettings.appearance.controlbar.autohide,ee.info("Controlbar",{position:"fixed"}),i._coreModules.push("_loadingIndicator"),W.a.buildLoadingIndicator((function(e){i._loadingIndicator=e,i._uiModules.push(e)}))),window.client.isMobile?(i._buildVolumeControl(),Object(a.a)(document.body,"bolt-touch-input")):(i._buildVolumeControl(),n.e(31).then(n.bind(null,117)).then((function(e){var t=e.default;i.mouseInput=new t,i.mouseInput.on(l.a.UI.Event.MOUSE_OUT,(function(){i.onMouseOut(window.Skin)})),i.mouseInput.on(l.a.UI.Event.MOUSE_OVER,(function(){i.onMouseOver(window.Skin)}))})).catch((function(e){ee.warn("Caught Error",{message:e.message,stack:e.stack})}))),i._defaultBoxModel={width:o.style.width,height:o.style.height,marginTop:o.style.marginTop,marginLeft:o.style.marginLeft,marginBottom:o.style.marginBottom,marginRight:o.style.marginRight,paddingTop:o.style.paddingTop,paddingLeft:o.style.paddingLeft,paddingBottom:o.style.paddingBottom,paddingRight:o.style.paddingRight,zIndex:o.style.zIndex,position:o.style.position,top:o.style.top,right:o.style.right,bottom:o.style.bottom,left:o.style.left},i._buildContent(),i._buildControlBar(),i._buildScrubber(),i._buildWatermark(),i.setCurrentPlayer(window.ContentPlayer)}},{key:"_buildContent",value:function(){var e=this;W.a.buildContent((function(t){e._uiModules.push(t),e._content=t}))}},{key:"_buildVolumeControl",value:function(){var e=this;e._volumeControl||W.a.buildVolume((function(t){e._uiModules.push(t),e._volumeControl=t,e._volumeControl.addEventListener(l.a.VALUE_CHANGED,(function(t){e._dispatchEvent(l.a.UI.Event.CHANGE_VOLUME,t.data)}))}))}},{key:"_buildScrubber",value:function(){var e=this;e._scrubber||W.a.buildScrubber((function(t){e._uiModules.push(t),e._scrubber=t,e._scrubber.on(l.a.UI.Event.SEEK,(function(t){ee.info("Event: Seek",{currentTime:t.target._current,maxTime:t.target.max,seekTime:t.target.data,playerId:t.target.player.containerId}),e._dispatchEvent(t)}))}))}},{key:"_buildControlBar",value:function(){var e=this;e._controlbar||W.a.buildControlBar((function(t){e._uiModules.push(t),e._controlbar=t}))}},{key:"_isEnabled",value:function(e){return!Object(a.b)(e,l.a.UI.UI_DISABLED_CLASS)}},{key:"_buildWatermark",value:function(){var e=this;W.a.buildWatermark((function(t){e._watermark=t,e._uiModules.push(e._watermark)}))}},{key:"_getModuleForElement",value:function(e){for(var t=0;t<this._uiModules.length;t++){var n=this._uiModules[t];if(n.UI===e)return n}return null}},{key:"size",value:function(e,t){var n=this,i=e,a=t;-1===e.indexOf("%")&&-1===e.indexOf("px")&&(i="".concat(e,"px")),-1===t.indexOf("%")&&-1===t.indexOf("px")&&(a="".concat(t,"px")),n._defaultBoxModel.width=i,n._defaultBoxModel.height=a,n.invalidate()}},{key:"onMouseOver",value:function(e){Object(a.d)(window.Skin,"bolt-mouse-out"),Object(a.a)(window.Skin,"bolt-mouse-over"),this._dispatchEvent(l.a.UI.Event.MOUSE_OVER,null,e)}},{key:"onMouseOut",value:function(e){Object(a.d)(window.Skin,"bolt-mouse-over"),Object(a.a)(window.Skin,"bolt-mouse-out"),this._dispatchEvent(l.a.UI.Event.MOUSE_OUT,null,e)}},{key:"invalidate",value:function(e){var t=this,n=t._uiModules;e&&(e.fullscreen!==t.fullscreen&&(t.fullscreen=e.fullscreen,t.mouseInput&&t.mouseInput.setFullscreen(t.fullscreen),ee.debug("Invalidate",{fullscreen:t.fullscreen}),t.fullscreen?t._dispatchEvent(l.a.UI.Event.ENTER_FULLSCREEN):t._dispatchEvent(l.a.UI.Event.EXIT_FULLSCREEN),t._controlbar.open()),e.customizer&&t.appearanceManager.update(e.customizer)),t.fixedScrubber?Object(a.a)(window.Skin,"bolt-static-scrubber"):Object(a.d)(window.Skin,"bolt-static-scrubber"),t.fixedControlbar?(t._controlbar.open(),Object(a.a)(window.Skin,"bolt-static-control-bar")):Object(a.d)(window.Skin,"bolt-static-control-bar"),t.currentPlayer&&t.currentPlayer.setFullscreen(t.fullscreen);for(var i=0;i<n.length;i++)n[i].invalidate();!0===t._isReady&&(window.client.browser.ie>0&&window.client.browser.ie<12?(t._controlbar.open(),t._titleBar&&t._titleBar.open()):window.Skin.style.visibility="visible"),Object(a.f)(window.Skin.clientWidth)}},{key:"_onVolumeChanged",value:function(e){void 0===e.data||e.data<0||e.data>1?ee.info("Volume changed attempt, failed",{type:e.type,value:e.data}):(ee.info("Volume changed",{type:e.type,value:e.data}),void 0!==e.data?this._dispatchEvent(e.type,e.data):ee.warn("No volume data"))}},{key:"_onMuted",value:function(e){Object(a.d)(window.Skin,"bolt-automute-disabled"),Object(a.a)(window.Skin,"bolt-automute-enabled"),this._dispatchEvent(e.type)}},{key:"_onUnmuted",value:function(e){Object(a.d)(window.Skin,"bolt-automute-enabled"),Object(a.a)(window.Skin,"bolt-automute-disabled"),this._dispatchEvent(e.type)}},{key:"getAppearanceSettings",value:function(){this.appearanceManager.getInitialSettings()}}])&&Y(t.prototype,i),o&&Y(t,o),Object.defineProperty(t,"prototype",{writable:!1}),d}(c.a),ie=n(73),ae=new i.a("IFRAME-VIEW-EVENTS"),oe=function(e){var t,n=window.zeus_ga.label,i=window.zeus_ga.category,a=window.CurrentVideoConfig.content.videoId||0,o=Object(u.i)(),r="[videoId=".concat(a,"']");return e&&"function"==typeof e.isAd&&(t=e.isAd()?"".concat(n.ad," ").concat(r):"".concat(n.content," ").concat(r)),{gaCategory:i,gaLabel:n,videoId:a,publisherId:o,labelSuffix:r,selectedGALabel:t}},re=function(e){e.type,l.a.Media.Event.TIME_UPDATE,e.type===l.a.Player.Event.LOADED?ue(e):e.type===l.a.Media.Event.METADATA?ce(e):e.type===l.a.Media.Event.PLAY?ve(e):e.type===l.a.Media.Event.PLAYING?we(e):e.type===l.a.Media.Event.STOPPED?ye(e):e.type===l.a.Media.Event.PAUSED?he(e):e.type===l.a.Media.Event.RESUME?fe(e):e.type===l.a.Media.Event.ENDED?pe(e):e.type===l.a.Ad.Event.CUEPOINT?Ee(e):e.type===l.a.Ad.Event.FAILED?ge(e):e.type===l.a.Media.Event.PROGRESS?_e(e):e.type===l.a.Media.Event.FIRSTQUARTILE?be(e):e.type===l.a.Media.Event.MIDPOINT?Pe(e):e.type===l.a.Media.Event.THIRDQUARTILE?Ae(e):e.type===l.a.Media.Event.NOT_FOUND?me(e):e.type===l.a.Player.Event.CONFIG_NOT_FOUND?Se(e):e.type===l.a.UI.Event.REQUEST_FULLSCREEN_CHANGE?Te(e):e.type===l.a.UI.Event.AGE_GATE_PASSED?Ce(e):e.type===l.a.UI.Event.AGE_GATE_FAILED?Oe(e):e.type===l.a.UI.Event.APPEARANCE_SETTINGS_CHANGED?Le(e):e.type===l.a.UI.Event.INITIAL_APPEARANCE_SETTINGS_LOADED?Me(e):e.type===l.a.Media.Event.VOLUME_CHANGED?ke(e):e.type===l.a.Media.Event.TIME_UPDATE?Ie(e):e.type===l.a.Player.Event.CONFIG_CHANGED?De(e):e.type===l.a.UI.Event.ENTER_FULLSCREEN?le(e):e.type===l.a.UI.Event.EXIT_FULLSCREEN?de(e):e.type===l.a.Ad.Event.SKIPPED&&se(e)},de=function(e){var t=window.Bolt,n=e.target,i=oe(n),a=i.videoId,o=i.publisherId;window.postLogMessage("Switched to exit fullscreen."),t.dispatchEvent(t.BOLT_EXIT_FULLSCREEN,{videoId:a,publisherId:o})},se=function(e){var t=window.Bolt,n=e.target,i=oe(n),a=i.videoId,o=i.publisherId;window.postLogMessage("Ad skipped"),t.dispatchEvent(t.SKIP,{videoId:a,publisherId:o})},le=function(e){var t=window.Bolt,n=e.target,i=oe(n),a=i.videoId,o=i.publisherId;window.postLogMessage("Switched to enter fullscreen."),t.dispatchEvent(t.BOLT_ENTER_FULLSCREEN,{videoId:a,publisherId:o})},ue=function(e){window.Bolt.dispatchEvent("playerLoaded",e.data)},ce=function(){window.Bolt.dispatchEvent(window.Bolt.BOLT_CONTENT_STATE_CHANGED,{state:"ready"})},ve=function(e){var t=window.Bolt,n=e.target,i=oe(n),a=i.videoId,o=i.publisherId,r=i.gaCategory,d=i.selectedGALabel;if(n.isAd()){var s,l,c,v;window.postLogMessage("Ad starts"),"precontent"===window.PlayerSettings.playerType&&t.dispatchEvent(t.SET_IFRAME_VISIBILITY,{visibilityVal:"visible"});try{c=(v=window.BoltAdManager.ad.linear).tracking.events.click,l=Object(u.G)(v.clickThrough)}catch(e){}try{window._kinesisBMHasRecorded.embedinitToAdStart||(window._kinesisBMHasRecorded.embedinitToAdStart=!0,window.kinesis.send("benchmarks",{type:"bolt_embedInit_to_onAdStart",duration:Date.now()-window.bootStartTime},"app"))}catch(e){}t.dispatchEvent(t.BOLT_AD_STARTED,{adType:(null==e||null===(s=e.data)||void 0===s?void 0:s.adType)||void 0,videoId:a,publisherId:o,linear:window.BoltAdManager.isLinear(),click_url:l,click_trackers:c}),t.dispatchAnalyticsEvent(t.BOLT_AD_STARTED,r.state,d),window.BoltAdManager.selectedVMAPBreak&&setTimeout((function(){window.BoltAdManager.trackVMAPEvent("breakStart")}),100)}else t.dispatchEvent(t.BOLT_CONTENT_STARTED,{videoId:a,publisherId:o,title:window.CurrentVideoConfig.settings.title,duration:window.CurrentVideoConfig.duration}),window.postLogMessage("Content starts"),t.dispatchAnalyticsEvent(t.BOLT_CONTENT_STARTED,r.state,d)},we=function(e){var t=window.Bolt,n=e.target,i=oe(n),a=i.gaCategory,o=i.selectedGALabel;window.videoConfigChanged=!1,n.isAd()||t.dispatchEvent(t.BOLT_CONTENT_STATE_CHANGED,{state:"playing"}),t.dispatchAnalyticsEvent("playing",a.state,o)},ye=function(e){var t=window.Bolt,n=e.target,i=oe(n),a=i.gaCategory,o=i.selectedGALabel;n.isAd()||(t.dispatchEvent(t.BOLT_CONTENT_STATE_CHANGED,{state:"stopped"}),t.dispatchAnalyticsEvent("stopped",a.state,o))},he=function(e){var t=window.Bolt,n=e.target,i=oe(n),a=i.gaCategory,o=i.selectedGALabel;n.isAd()||(window.postLogMessage("Content is paused"),t.dispatchEvent(t.BOLT_CONTENT_STATE_CHANGED,{state:"paused"}),t.dispatchAnalyticsEvent("paused",a.state,o))},fe=function(e){var t=window.Bolt,n=e.target,i=oe(n),a=i.gaCategory,o=i.selectedGALabel;n.isAd()||(window.postLogMessage("Content is resumed"),t.dispatchEvent(t.BOLT_CONTENT_STATE_CHANGED,{state:"resume"}),t.dispatchAnalyticsEvent("resume",a.state,o))},pe=function(e){var t,n,i,a,o,r=window.Bolt,d=e.target,s=oe(d),u=s.gaCategory,c=s.selectedGALabel,v=s.videoId,w=s.publisherId,y=window.BoltAdManager.type||null;d.isAd()?(window.tycheData.rewardedVideo&&(window.tycheData.rewardedVideo.adType=y,window.tycheData.rewardedVideo.adPlayed=!0,window.tycheData.rewardedVideo.isDisplayBackfill=y===l.a.Ad.Type.DISPLAY_BACKFILL,window.tycheData.rewardedVideo.isHouseAd=y===l.a.Ad.Type.HOUSE_AD),window.postLogMessage("Ad ends"),r.dispatchEvent(r.BOLT_AD_COMPLETE,{adType:(null==e||null===(t=e.data)||void 0===t?void 0:t.adType)||void 0,videoId:v,publisherId:w,isAdPod:!(null===(n=window.BoltAdManager)||void 0===n||null===(i=n.ads)||void 0===i||!i.isAdPod),isAdFallbackMode:!(null===(a=window.BoltAdManager)||void 0===a||null===(o=a.ads)||void 0===o||!o.isAdFallbackMode)}),r.dispatchAnalyticsEvent(r.BOLT_AD_COMPLETE,u.state,c)):(window.postLogMessage("Content ends"),r.dispatchEvent(r.BOLT_CONTENT_COMPLETE,{videoId:v,publisherId:w}),r.dispatchAnalyticsEvent(r.BOLT_CONTENT_COMPLETE,u.state,c))},Ee=function(e){var t=window.Bolt,n=e.target,i=oe(n),a=i.gaCategory,o=i.selectedGALabel;window.postLogMessage("Cuepoint at ".concat(e.data," seconds is hit")),t.dispatchEvent(t.BOLT_AD_CUEPOINT,{cuepoint:e.data}),t.dispatchAnalyticsEvent(t.BOLT_AD_CUEPOINT,a.state,o,e.data)},ge=function(e){var t=window.Bolt,n=e.target,i=oe(n),a=i.videoId,o=i.publisherId,r=i.gaCategory;window.postLogMessage("".concat(e.data.timing," Ad error"),"error");var d=window.CurrentVideoConfig.settings.hiddenContainer||window.CurrentVideoConfig.settings.postAdContainer;window.tycheData.rewardedVideo&&(window.tycheData.rewardedVideo.adPlayed=!1,window.tycheData.rewardedVideo.adType=window.BoltAdManager.type),d&&t.dispatchEvent(t.PRE_CONTENT_AD_ERROR,{state:"noAdsAvailable"}),t.dispatchEvent(t.BOLT_AD_ERROR,{state:"noAdsAvailable",videoId:a,publisherId:o,timing:e.data.timing}),t.dispatchAnalyticsEvent("boltAdRequestFailed",r.state,"zeus ".concat(e.data.timing))},_e=function(e){var t=window.Bolt,n=e.target,i=(null==e?void 0:e.data)||{},a=oe(n),o=a.videoId,r=a.publisherId;window.postLogMessage("Ad reached progress offset ".concat(i.offset," ").concat(i.type)),t.dispatchEvent(t.BOLT_PROGRESS,{videoId:o,publisherId:r,offset:i.offset})},be=function(e){var t=window.Bolt,n=e.target,i=oe(n),a=i.videoId,o=i.publisherId,r=i.gaCategory,d=i.selectedGALabel,s=n.isAd()?"Ad":"Content";window.postLogMessage("".concat(s," reached first quartile")),n.isAd()&&t.dispatchEvent(t.BOLT_FIRST_QUARTILE,{videoId:a,publisherId:o}),t.dispatchAnalyticsEvent(t.BOLT_FIRST_QUARTILE,r.state,d)},Pe=function(e){var t=window.Bolt,n=e.target,i=oe(n),a=i.videoId,o=i.publisherId,r=i.gaCategory,d=i.selectedGALabel,s=n.isAd()?"Ad":"Content";window.postLogMessage("".concat(s," reached midpoint")),n.isAd()&&t.dispatchEvent(t.BOLT_MIDPOINT,{videoId:a,publisherId:o}),t.dispatchAnalyticsEvent(t.BOLT_MIDPOINT,r.state,d)},Ae=function(e){var t=window.Bolt,n=e.target,i=oe(n),a=i.videoId,o=i.publisherId,r=i.gaCategory,d=i.selectedGALabel,s=n.isAd()?"Ad":"Content";window.postLogMessage("".concat(s," reached third quartile")),n.isAd()&&t.dispatchEvent(t.BOLT_THIRD_QUARTILE,{videoId:a,publisherId:o}),t.dispatchAnalyticsEvent(t.BOLT_THIRD_QUARTILE,r.state,d)},me=function(e){var t=window.Bolt,n=e.target,i=oe(n),a=i.gaCategory,o=i.selectedGALabel;t.dispatchEvent(t.BOLT_CONTENT_ERROR),t.dispatchAnalyticsEvent("boltContentNotFound",a.state,o)},Se=function(e){var t=window.Bolt,n=e.target,i=oe(n),a=i.gaCategory,o=i.selectedGALabel;t.dispatchEvent(t.BOLT_CONTENT_ERROR),t.dispatchAnalyticsEvent("boltConfigNotFound",a.state,o)},Te=function(e){window.Bolt.dispatchEvent(e.type,e.data)},Ce=function(e){var t=window.Bolt;window.CurrentVideoConfig.settings.minAge>0&&(ae.info("Age gate",{passed:!0}),t.dispatchEvent(t.BOLT_AGE_GATE_PASSED,e.data))},Oe=function(){var e=window.Bolt;ae.info("Age gate",{passed:!1}),e.dispatchEvent(e.BOLT_AGE_GATE_FAILED)},Le=function(e){window.Bolt.dispatchEvent(e.type,e.data)},Me=function(e){window.Bolt.dispatchEvent(e.type,e.data)},ke=function(e){var t=window.Bolt;ae.info("Volume changed",{value:e.data}),t.dispatchEvent(t.BOLT_VOLUME_CHANGED,e.data)},Ie=function(e){var t=window.Bolt;t.dispatchEvent(t.BOLT_TIME_CHANGED,e.data)},De=function(){window.Bolt.dispatchEvent("videoConfigChanged",window.CurrentVideoConfig)},Re=n(10);function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",(function(){return Fe}));var Ge=new i.a("IFRAME"),He=new i.a("LOG-INSIGHTS"),Fe=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),je(this,"BOLT_CONTENT_STARTED","boltContentStarted"),je(this,"BOLT_CONTENT_COMPLETE","boltContentComplete"),je(this,"BOLT_CONTENT_ERROR","boltContentError"),je(this,"BOLT_CONTENT_STATE_CHANGED","boltContentStateChanged"),je(this,"BOLT_TOGGLE_FULLSCREEN","boltToggleFullscreen"),je(this,"BOLT_PROGRESS","boldProgress"),je(this,"BOLT_FIRST_QUARTILE","boltFirstQuartile"),je(this,"BOLT_MIDPOINT","boltMidPoint"),je(this,"BOLT_THIRD_QUARTILE","boltThirdQuartile"),je(this,"BOLT_AD_STARTED","boltAdStarted"),je(this,"BOLT_AD_IMPRESSION","boltAdImpression"),je(this,"BOLT_AD_VIDEO_START","boltAdVideoStart"),je(this,"BOLT_AD_PLAYING","boltAdPlaying"),je(this,"BOLT_AD_PAUSED","boltAdPaused"),je(this,"BOLT_AD_COMPLETE","boltAdComplete"),je(this,"BOLT_AD_ERROR","boltAdError"),je(this,"BOLT_AGE_GATE_PASSED","boltAgeGatePassed"),je(this,"BOLT_AGE_GATE_FAILED","boltAgeGateFailed"),je(this,"BOLT_VOLUME_CHANGED","boltVolumeChanged"),je(this,"BOLT_AD_SESSION_COMPLETE","boltAdSessionComplete"),je(this,"BOLT_AD_CUEPOINT","boltAdCuepoint"),je(this,"BOLT_TIME_CHANGED","boltTimeChanged"),je(this,"SET_IFRAME_VISIBILITY","boltSetIframeVisibility"),je(this,"PRE_CONTENT_AD_ERROR","noAdsAvailable"),je(this,"ENTER_GLOBAL_FULLSCREEN","enterGlobalFullscreen"),je(this,"EXIT_GLOBAL_FULLSCREEN","exitGlobalFullscreen"),je(this,"sessionVideoPlayCount",1),je(this,"embeds",void 0),je(this,"Video",void 0),je(this,"onMediaConfigProcessed",(function(e){var n=t;n.PWBM.end("bolt_coreJSLoaded_to_manifestParsed");var i=window.PlayerSettings,a=i.skin||n._defaultSkin,o=i.css||n._defaultCss,r=i.cssClass;Ge.info("Event CB",{evt:"onMediaConfigProcessed",value:e,data:window.CurrentVideoConfig.content.media}),void 0!==window.CurrentVideoConfig.content.media.f4m?e&&(window.CurrentVideoConfig.content.media=e):window.CurrentVideoConfig.content.media=e;var d=l.a.Player.ID_PREFIX+window.id;n._renderVideo(d,a,o,r)})),je(this,"processCustomEmbedTags",(function(){if(window.PlayerSettings.adTag||window.PlayerSettings.desktopAdTag||window.PlayerSettings.html5AdTag||window.PlayerSettings.mobileAdTag||window.PlayerSettings.vmapAdTag){window.PlayerSettings.embedAds={servers:[{type:null,tags:{default:{standard:{},html5:{}}}}]};var e=window.PlayerSettings.embedAds.servers[0],t=function(e){return"mobile"===e?window.PlayerSettings.adTag=window.PlayerSettings.vmapAdTag||window.PlayerSettings.mobileAdTag||window.PlayerSettings.adTag:"desktop"===e&&(window.PlayerSettings.adTag=window.PlayerSettings.vmapAdTag||window.PlayerSettings.html5AdTag||window.PlayerSettings.adTag),Ge.debug("Embed ".concat(e," ad tag"),window.PlayerSettings.adTag),window.PlayerSettings.vmapAdTag?{vmap:window.PlayerSettings.adTag}:{preroll:window.PlayerSettings.adTag,midroll:window.PlayerSettings.adTag}};window.client.isMobile?e.tags.default.html5.mobile=t("mobile"):e.tags.default.html5.desktop=t("desktop"),e.type=(n=window.PlayerSettings.adTag,/g.doubleclick/.test(n)?"generic-google":"generic-vast"),Ge.debug("Embed ad settings",window.PlayerSettings.embedAds)}var n}));var n=this;n.PWBM=window.BENCHMARK,n.PWBM.end("bolt_bootCall_to_iframeScriptLoaded"),n.PWBM.start("bolt_iframeScriptLoaded_to_coreJSLoaded"),n.PWBM.start("bolt_coreJSLoaded_to_zeusAvailable"),n.PWBM.start("bolt_coreJSLoaded_to_renderPlayerCall"),n.PWBM.start("bolt_coreJSLoaded_to_initVideoCall"),n.PWBM.start("bolt_coreJSLoaded_to_initAdsCall"),n.PWBM.start("bolt_coreJSLoaded_to_manifestRequested"),n.PWBM.start("bolt_coreJSLoaded_to_manifestLoaded"),n.PWBM.start("bolt_coreJSLoaded_to_manifestParsed"),n.PWBM.start("bolt_coreJSLoaded_to_controllerStartUp"),n.PWBM.start("bolt_coreJSLoaded_to_skinRequested"),window.PlayerState=new s,n.controller=new q,n._isFullscreen=!1,n.playerRendered=!1,n._baseUrl=window.zeusBaseUrl,n._defaultSkin="".concat(n._baseUrl,"/skins/pegasus.html"),n._defaultAdSkin="".concat(n._baseUrl,"/skins/pegasus.html"),n._defaultCss="".concat(n._baseUrl,"/skins/pegasus.css"),n._dispatchTrackingEvent=n._dispatchTrackingEvent.bind(n),n.dispatchEvent=n.dispatchEvent.bind(n),n.dispatchAnalyticsEvent=n.dispatchAnalyticsEvent.bind(n),n._onAdRequested=n._onAdRequested.bind(n),n._onAdQueued=n._onAdQueued.bind(n),n.renderPlayer=n.renderPlayer.bind(n),n.setBaseUrl=n.setBaseUrl.bind(n),n.getBaseUrl=n.getBaseUrl.bind(n),n.getCSSUrl=n.getCSSUrl.bind(n),n.initVideo=n.initVideo.bind(n),n.playMedia=n.playMedia.bind(n),n.replayMedia=n.replayMedia.bind(n),n.closeVideo=n.closeVideo.bind(n),n.pauseMedia=n.pauseMedia.bind(n),n.resumeMedia=n.resumeMedia.bind(n),n.togglePlay=n.togglePlay.bind(n),n.stopMedia=n.stopMedia.bind(n),n.setVolume=n.setVolume.bind(n),n.getVolume=n.getVolume.bind(n),n.muteMedia=n.muteMedia.bind(n),n.unmuteMedia=n.unmuteMedia.bind(n),n.seek=n.seek.bind(n),n.updateViewabilityMetrics=n.updateViewabilityMetrics.bind(n),n.PWBM.end("bolt_iframeScriptLoaded_to_coreJSLoaded"),n.PWBM.end("bolt_coreJSLoaded_to_zeusAvailable"),n.init()}var t,i,a;return t=e,(i=[{key:"init",value:function(){}},{key:"setBaseUrl",value:function(e){this._baseUrl=e,this._defaultSkin="pegasus.html",this._defaultAdSkin="pegasus.html",this._defaultCss="pegasus.css"}},{key:"getBaseUrl",value:function(){return this._baseUrl}},{key:"renderPlayer",value:function(){var e=this;e.playerRendered||(e.PWBM.end("bolt_coreJSLoaded_to_renderPlayerCall"),e.playerRendered=!0,window.CurrentVideoConfig.settings=Object(u.y)(window.CurrentVideoConfig.settings,window.PlayerSettings),Ge.info("Player settings",{data:window.PlayerSettings}),function(t){if(void 0===t.disabled)e.initVideo();else{var n=document.body;if(void 0!==t.disabled.image&&(n.style.backgroundImage="url('".concat(t.disabled.image,"')")),void 0!==t.disabled.message){var i=document.createElement("div");i.id="disabled-msg",i.innerHTML=t.disabled.message,i.style.fontSize="24px",i.style.backgroundColor="#ffffff",i.style.border="1px solid #000000",i.style.padding="5px",i.style.position="relative",i.style.top="40%",i.style.marginLeft="auto",i.style.marginRight="auto",i.style.textAlign="center",n.appendChild(i)}}}(window.CurrentVideoConfig))}},{key:"initVideo",value:function(){this.PWBM.end("bolt_coreJSLoaded_to_initVideoCall"),Object(u.C)(window.CurrentVideoConfig.content.media,this.onMediaConfigProcessed)}},{key:"_renderVideo",value:function(e,t,i,a){var o,r=this,d=document.body,s=window.CurrentVideoConfig.settings.defaultHd;if(!0===s?(window.CurrentVideoConfig.content.media.hd&&(o=Object(u.D)(window.CurrentVideoConfig.content.media.hd)),o||(delete window.CurrentVideoConfig.content.media.hd,s=!1,o=Object(u.D)(window.CurrentVideoConfig.content.media.sd))):(window.CurrentVideoConfig.content.media.sd&&(o=Object(u.D)(window.CurrentVideoConfig.content.media.sd)),o||(delete window.CurrentVideoConfig.content.media.sd,s=!0,o=Object(u.D)(window.CurrentVideoConfig.content.media.hd))),window.PlayerSettings.defaultHd=s,o)d.setAttribute("data-default-src",o),r.PWBM.start("bolt_loadCSS_to_CSSLoaded"),n.e(22).then(n.t.bind(null,111,7)).then((function(n){r.PWBM.end("bolt_loadCSS_to_CSSLoaded"),r._loadSkin(e,t,a)})).catch((function(e){Ge.error("Caught Error",{message:e.message,stack:e.stack})}));else{var l=document.createElement("p");l.id="err-msg",l.style.color="red",l.style.position="absolute",l.textContent="Media not supported",d.appendChild(l)}}},{key:"_onAdQueued",value:function(e){this.dispatchEvent("boltAdQueued",e.data)}},{key:"_onAdRequested",value:function(e){var t=window.CurrentVideoConfig.content.videoId||0,n="[videoId=".concat(t,"]");this.dispatchAnalyticsEvent("boltRequestAdSpot ".concat(window.BoltAdManager.timing),"ad",n),this.dispatchEvent("boltAdRequestStart",e.data)}},{key:"_bindAdListeners",value:function(e,t){var i=this;n.e(3).then(n.bind(null,73)).then((function(e){var t=e.default;window.AdSession=new t,window.AdSession.on(l.a.Ad.Event.SESSION_START,i._dispatchTrackingEvent),window.AdSession.on(l.a.Ad.Event.SESSION_ABORT,i._dispatchTrackingEvent),window.AdSession.on(l.a.Ad.Event.SESSION_END,i._dispatchTrackingEvent),window.AdSession.on(l.a.Ad.Event.SESSION_FAIL,i._dispatchTrackingEvent)})).catch((function(e){Ge.error("Caught error",{message:e.message,stack:e.stack})})),n.e(3).then(n.bind(null,112)).then((function(e){var t=e.default;window.AdRequest=new t,window.AdRequest.on(l.a.Ad.Event.REQUEST_START,i._dispatchTrackingEvent),window.AdRequest.on(l.a.Ad.Event.REQUEST_ABORT,i._dispatchTrackingEvent),window.AdRequest.on(l.a.Ad.Event.REQUEST_SUCCESS,i._dispatchTrackingEvent),window.AdRequest.on(l.a.Ad.Event.REQUEST_FAIL,i._dispatchTrackingEvent)})).catch((function(e){Ge.error("Caught error",{message:e.message,stack:e.stack})})),n.e(3).then(n.bind(null,113)).then((function(e){var t=e.default;window.SSTracker=new t})).catch((function(e){Ge.error("Caught error",{message:e.message,stack:e.stack})})),n.e(3).then(n.bind(null,132)).then((function(n){var a=n.default;window.BoltAdManager=new a(window.DebugMode.dcOverride,e),window.BoltAdManager.addEventListener(l.a.Ad.Event.QUEUED,i._onAdQueued),window.BoltAdManager.addEventListener(l.a.Ad.Event.REQUESTED,i._onAdRequested),window.BoltAdManager.addEventListener(l.a.Ad.Event.CLICKED,i._dispatchTrackingEvent),window.BoltAdManager.init((function(){Ge.debug("BoltAdManager initialized. Selected ad server object",window.BoltAdManager.selectedServer),t()}))})).catch((function(e){Ge.error("Caught error",{message:e.message,stack:e.stack})}))}},{key:"_initAds",value:function(e){var t=this;t.PWBM.end("bolt_coreJSLoaded_to_initAdsCall");var n="ad_".concat(window.id),i=Object(m.a)(l.a.UI.AD_CONTAINER);i&&(l.a.AD_CONTAINER=n,l.a.UI.AD_CONTAINER=n,i.setAttribute("id",n)),t.processCustomEmbedTags(),t._bindAdListeners(n,e)}},{key:"_dispatchTrackingEvent",value:function(e){this.dispatchEvent(e.type,e.data)}},{key:"_start",value:function(e){var t=this;if(void 0===window.ContentPlayer)return Ge.info("Content player undefined. Unable to start",{videoId:e}),null;window.ContentPlayer.show(!1),window.AdBlockDetected&&(Ge.info("Ad block",{detected:1,msg:"Tracking blocked ad session",data:{videoId:e}}),window.AdSession=new ie.default,window.AdSession.on(l.a.Ad.Event.SESSION_START,t._dispatchTrackingEvent),window.AdSession.start(!1),n.e(15).then(n.bind(null,114)).then((function(e){var n=e.default;window.AdBlocked=new n,window.AdBlocked.on(l.a.Ad.Event.SESSION_BLOCKED,t._dispatchTrackingEvent)})).catch((function(e){Ge.error("Caught error",{message:e.message,stack:e.stack})})));var i=function(){if(window.PlayerView.addEventListener(l.a.Media.Event.TIME_UPDATE,re),window.PlayerView.addEventListener(l.a.Media.Event.METADATA,re),window.PlayerView.addEventListener(l.a.Media.Event.PLAY,re),window.PlayerView.addEventListener(l.a.Media.Event.PLAYING,re),window.PlayerView.addEventListener(l.a.Media.Event.STOPPED,re),window.PlayerView.addEventListener(l.a.Media.Event.PAUSED,re),window.PlayerView.addEventListener(l.a.Media.Event.RESUME,re),window.PlayerView.addEventListener(l.a.Media.Event.ENDED,re),window.PlayerView.addEventListener(l.a.Media.Event.PROGRESS,re),window.PlayerView.addEventListener(l.a.Media.Event.FIRSTQUARTILE,re),window.PlayerView.addEventListener(l.a.Media.Event.MIDPOINT,re),window.PlayerView.addEventListener(l.a.Media.Event.THIRDQUARTILE,re),window.PlayerView.addEventListener(l.a.Media.Event.VOLUME_CHANGED,re),window.PlayerView.addEventListener(l.a.Ad.Event.CUEPOINT,re),window.PlayerView.addEventListener(l.a.Ad.Event.FAILED,re),window.PlayerView.addEventListener(l.a.Ad.Event.SKIPPED,re),window.PlayerView.addEventListener(l.a.Media.Event.NOT_FOUND,re),window.PlayerView.addEventListener(l.a.Player.Event.CONFIG_NOT_FOUND,re),window.PlayerView.addEventListener(l.a.UI.Event.REQUEST_FULLSCREEN_CHANGE,re),window.PlayerView.addEventListener(l.a.UI.Event.ENTER_FULLSCREEN,re),window.PlayerView.addEventListener(l.a.UI.Event.EXIT_FULLSCREEN,re),window.PlayerView.addEventListener(l.a.UI.Event.AGE_GATE_PASSED,re),window.PlayerView.addEventListener(l.a.UI.Event.AGE_GATE_FAILED,re),window.PlayerView.addEventListener(l.a.Player.Event.CONFIG_CHANGED,re),window.PlayerView.addEventListener(l.a.Player.Event.LOADED,re),window.PlayerView.addEventListener(l.a.UI.Event.APPEARANCE_SETTINGS_CHANGED,re),window.PlayerView.addEventListener(l.a.UI.Event.INITIAL_APPEARANCE_SETTINGS_LOADED,re),window.PlayerView.addEventListener(l.a.Media.Event.PLAY,t._dispatchTrackingEvent),!window.fullscreenEnabled&&window.client.hasTouch&&window.addEventListener("touchmove",(function(e){t._isFullscreen&&(e.preventDefault(),Ge.debug("Event CB",{evt:"Touchmove prevented",id:window.id}))})),Be(window.CurrentVideoConfig.settings.googleAnalytics)){var e=window.CurrentVideoConfig.settings.googleAnalytics;Ge.debug("Publisher GA Tracking Id",{trackingID:e}),t.dispatchEvent("start_google_analytics",{pubTrackingId:e,universal:window.CurrentVideoConfig.settings.googleUniversal})}t.controller.startUp()};return"off"===window.PlayerSettings.advertising?(Ge.info("Advertising is disabled via embed setting"),window.postLogMessage("Advertising is disabled via embed setting","warn"),i()):t._initAds(i),window.id}},{key:"dispatchAnalyticsEvent",value:function(e,t,n,i){n&&this.dispatchEvent("analyticsEvent",{action:e,category:t,label:n,value:i})}},{key:"_removeIosInlineAttribute",value:function(e){e.removeAttribute("muted"),e.removeAttribute("playsinline"),e.muted=!1}},{key:"_onSkinLoaded",value:function(e,t,i){var a=this;a.PWBM.end("bolt_loadSkin_to_skinLoaded");var o,r,d=document.body;e&&(d.insertAdjacentHTML("beforeend",e),function(){var e=document.body.getElementsByClassName("bolt-poster")[0];if(e){var t=Object(u.l)(window.CurrentVideoConfig.content);t&&(e.style.backgroundImage="url(".concat(t,")"),e.style.backgroundPosition="center center",e.style.backgroundSize="contain",e.style.backgroundRepeat="no-repeat")}}(),r=d.getElementsByClassName("bolt-container")[0],window.Skin=r,r.style.visibility="hidden",(o=Object(m.a)(l.a.UI.MAIN_VIDEO_CONTAINER).firstElementChild).setAttribute("id",t),window.client.system.ios&&window.PlayerSettings.autoplay||a._removeIosInlineAttribute(o),function(){if(window.client.isMobile){var e=function(e){return a.Video=e,window.ContentPlayer=new e(window.id,t,!1),window.ContentPlayer.muted=!!window.PlayerSettings.autoplay,window.ContentPlayer.currentQuality=window.PlayerSettings.defaultHd?"hd":"sd",window.PlayerView=new ne(i),a._start(t)};window.client.system.ios?Promise.resolve().then(n.bind(null,45)).then((function(t){var n=t.default;e(n)})).catch((function(e){Ge.error("Caught Error",{message:e.message,stack:e.stack})})):Promise.resolve().then(n.bind(null,46)).then((function(t){var n=t.default;e(n)})).catch((function(e){Ge.error("Caught Error",{message:e.message,stack:e.stack})}))}else Promise.resolve().then(n.bind(null,47)).then((function(e){var n=e.default;return window.PlayerView=new ne(i),a.Video=n,window.ContentPlayer=new n(window.id,t,!1),window.ContentPlayer.muted=!0===window.PlayerSettings.automute,window.ContentPlayer.volume=window.PlayerSettings.volume,0===window.ContentPlayer.volume&&(window.ContentPlayer.muted=!0),window.ContentPlayer.currentQuality=window.PlayerSettings.defaultHd?"hd":"sd",a._start(t)})).catch((function(e){Ge.error("Caught Error",{message:e.message,stack:e.stack})}))}())}},{key:"_loadSkin",value:function(e,t,i){var a=this;a.PWBM.end("bolt_coreJSLoaded_to_skinRequested"),a.PWBM.start("bolt_loadSkin_to_skinLoaded"),n.e(22).then(n.t.bind(null,115,7)).then((function(t){var n=t.default;a._onSkinLoaded(n,e,i)})).catch((function(e){Ge.error("Caught error",{message:e.message,stack:e.stack})}))}},{key:"playMedia",value:function(){var e=window.PlayerView.currentPlayer;e&&(e.isAd()?this.controller.play():this.controller.playPrerollAd({}))}},{key:"stopMedia",value:function(){this.controller.stop()}},{key:"replayMedia",value:function(){this.controller.replay()}},{key:"closeVideo",value:function(){this.controller.closeVideo()}},{key:"pauseMedia",value:function(){this.controller.pause()}},{key:"resumeMedia",value:function(){this.controller.resume()}},{key:"closeButtonClicked",value:function(){this.controller.closeButtonClicked()}},{key:"muteMedia",value:function(){this.controller.mute(!0)}},{key:"unmuteMedia",value:function(){this.controller.mute(!1)}},{key:"togglePlay",value:function(){this.controller.togglePlayPause()}},{key:"seek",value:function(e){this.controller.seek(e)}},{key:"setVolume",value:function(e){e>1?e=1:e<0&&(e=0),this.controller.setVolume(e)}},{key:"getVolume",value:function(){if(window.PlayerView.currentPlayer)return window.PlayerView.currentPlayer.volume}},{key:"getCSSUrl",value:function(){return this._defaultCss}},{key:"dispatchEvent",value:function(e,t){var n=this,i=!1;try{i=window.PlayerView.currentPlayer.isAd()}catch(e){}var a={type:"zeus_event",name:e,id:window.id,isAd:i,data:t};e===n.BOLT_AD_STARTED&&He.info("Ad playback started",Ne({groupName:"5-AdPlayer",playerId:window.id,payloadData:t},Object(Re.c)())),e===n.BOLT_AD_COMPLETE&&He.info("Ad playback complete",{groupName:"5-AdPlayer",playerId:window.id,payloadData:t}),e===n.BOLT_AD_ERROR&&(Object(Re.e)("playerError",t.state||"unknown"),He.error("Ad playback error",Ne({groupName:"5-AdPlayer",playerId:window.id,payloadData:t},Object(Re.c)()))),window.parent.postMessage(JSON.stringify(a),Object(u.k)());var o,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bolt_ad_playback_milestones";return{pipeline:"boltAds",eventType:t,data:e}};switch(e){case l.a.Media.Event.PLAY:break;case l.a.Player.Event.LOADED:o=r(t,"bolt_players");break;case l.a.Ad.Event.SESSION_START:o=r(t,"bolt_ad_sessions"),window.AdBlockDetected&&window.AdSession&&(window.AdSession.off(l.a.Ad.Event.SESSION_START),delete window.AdSession);break;case l.a.Ad.Event.SESSION_FAIL:t.resultType="failed",n.dispatchEvent("updateAdSessionCount",{adSessionCount:window.BoltAdManager._adSessionCount,sessionResult:t.resultType}),o=r(t,"bolt_ad_sessions_results");break;case l.a.Ad.Event.SESSION_ABORT:t.resultType="aborted",n.dispatchEvent("updateAdSessionCount",{adSessionCount:window.BoltAdManager._adSessionCount,sessionResult:t.resultType}),o=r(t,"bolt_ad_sessions_results");break;case l.a.Ad.Event.SESSION_END:t.resultType="complete",n.dispatchEvent("updateAdSessionCount",{adSessionCount:window.BoltAdManager._adSessionCount,sessionResult:t.resultType}),o=r(t,"bolt_ad_sessions_results");break;case l.a.Ad.Event.SESSION_BLOCKED:t.resultType="blocked",n.dispatchEvent("updateAdSessionCount",{adSessionCount:0,sessionResult:t.resultType}),o=r(t,"bolt_ad_sessions_results");break;case l.a.Ad.Event.REQUEST_START:o=r(t,"bolt_ad_requests");break;case l.a.Ad.Event.REQUEST_SUCCESS:t.resultType="succeeded",o=r(t,"bolt_ad_request_results");break;case l.a.Ad.Event.REQUEST_FAIL:t.resultType="failed",o=r(t,"bolt_ad_request_results");break;case l.a.Ad.Event.REQUEST_ABORT:t.resultType="aborted",o=r(t,"bolt_ad_request_results");break;case n.BOLT_AD_STARTED:t.milestone="started",o=r(t);break;case n.BOLT_PROGRESS:t.milestone="progress",o=r(t);break;case n.BOLT_FIRST_QUARTILE:t.milestone="q1",o=r(t);break;case n.BOLT_MIDPOINT:t.milestone="q2",o=r(t);break;case n.BOLT_THIRD_QUARTILE:t.milestone="q3",o=r(t);break;case n.BOLT_AD_COMPLETE:t.milestone="complete",o=r(t);break;case n.BOLT_AD_ERROR:t.message="error",o=r(t);break;case l.a.Ad.Event.CLICKED:o=r({clickUrl:t},"bolt_ad_clicks");break;case l.a.UI.Event.EXIT_FULLSCREEN:o=r(t,"bolt_ui_exit_fullscreen");break;case l.a.UI.Event.ENTER_FULLSCREEN:o=r(t,"bolt_ui_enter_fullscreen")}o&&(window.kinesis?window.kinesis.send(o.eventType,o.data,o.pipeline):window.kinesisEventQueue.push(o))}},{key:"updateViewabilityMetrics",value:function(e){this.controller.updateViewabilityMetrics(e)}}])&&Ue(t.prototype,i),a&&Ue(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}()},15:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(43),a=n(4);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i.a.mixinEvents(this)}var t,n,d;return t=e,(n=[{key:"_dispatchEvent",value:function(e,t,n){var i=this;if("string"==typeof e)i.emit(e,{type:e,target:n||i,data:t,uuid:Object(a.c)()});else if("object"===o(e)&&e.hasOwnProperty("type")){var r=e;i.emit(r.type,{target:r.target,type:r.type,data:r.data,uuid:Object(a.c)()})}}},{key:"addOnceEventListener",value:function(e,t,n){this.on(e,t,n,!0)}},{key:"addEventListener",value:function(e,t,n){this.on(e,t,n)}},{key:"removeEventListener",value:function(e,t){this.off(e,t)}},{key:"removeAllListeners",value:function(e){this.off(e)}},{key:"mixin",value:function(e){var t;i.a.mixinEvents(e),(t=void 0!==e.prototype?e.prototype:e)._dispatchEvent=function(t,n,i){if("string"==typeof t)e.emit(t,{type:t,target:i||e,data:n});else if("object"===o(t)&&t.hasOwnProperty("type")){var a=t;e.emit(a.type,{type:a.type,target:a.target,data:a.data})}},t.addOnceEventListener=function(t,n,i){e.on(t,n,i,!0)},t.addEventListener=function(t,n,i){e.on(t,n,i)},t.removeEventListener=function(t,n){e.off(t,n)},t.removeAllListeners=function(t){e.off(t)}}}])&&r(t.prototype,n),d&&r(t,d),Object.defineProperty(t,"prototype",{writable:!1}),e}()},23:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(15),a=n(1),o=n(0),r=n(3);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=new a.a("VIDEO-BASE"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(c,e);var t,i,a,d=u(c);function c(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(e=d.call(this)).video=null,e._poster=null,e._pastFirstQuartile=!1,e._pastMidpoint=!1,e._pastThirdQuartile=!1,e._bufferedTime=0,e._source=null,e.fastSeekEnabled=!1,e._isEnabled=!0,e._isRemoved=!1,e.type="native",e.videoPlayCount=0,e.containerId=null,e.videoId=null,e.sourceChanged=!1,e._isAd=!1,e.buffered=0,e.ended=!1,e.paused=!1,e.muted=!0,e.fullscreen=!1,e.videoWidth=NaN,e.videoHeight=NaN,e.metadata=null,e.currentTime=0,e.duration=0,e.startTime=0,e.width=0,e.height=0,e.playing=!1,e.parent=null,e.canplay=!1,e.canplaythrough=!1,e.volume=1,e.loop=null,e.stopped=!1,e.hasStarted=!1,e.qualityChanged=!1,e.seekTime=null,e.adsCuepoints=[],e.previousCuepointIndex=-1,e.currentQuality=null,e.relatedVideos=[],e.autoplay=!1,e.waiting=!1,e._stalled=!1,e._originalSource=null,e._onLoadStart=e._onLoadStart.bind(v(e)),e._onLoadedMetadata=e._onLoadedMetadata.bind(v(e)),e._onLoadedData=e._onLoadedData.bind(v(e)),e._onDurationChanged=e._onDurationChanged.bind(v(e)),e._onPlay=e._onPlay.bind(v(e)),e._onPause=e._onPause.bind(v(e)),e._onSeeked=e._onSeeked.bind(v(e)),e._onTimeUpdate=e._onTimeUpdate.bind(v(e)),e._onWaiting=e._onWaiting.bind(v(e)),e._onPlaying=e._onPlaying.bind(v(e)),e._onProgress=e._onProgress.bind(v(e)),e._onCanPlay=e._onCanPlay.bind(v(e)),e._onCanPlayThrough=e._onCanPlayThrough.bind(v(e)),e._onVolumeChange=e._onVolumeChange.bind(v(e)),e._onEnded=e._onEnded.bind(v(e)),e._onEmptied=e._onEmptied.bind(v(e)),e._onStalled=e._onStalled.bind(v(e)),e._onError=e._onError.bind(v(e)),e._onAbort=e._onAbort.bind(v(e)),e}return t=c,(i=[{key:"_init",value:function(e,t,n){if(this._isAd=n,this.containerId=e,this.videoId=t,this.video=document.getElementById(t),this.parent=this.video.parentNode,this._source=this.video.src,this.startTime=this.video.startTime||0,this.width=this.video.clientWidth,this.height=this.video.clientHeight,this.volume=this.video.getAttribute("volume")||1,this.muted=this.video.muted,this.videoHeight=this.video.clientHeight,this.videoWidth=this.video.clientWidth,!n){if(this.loop=!window.Playlist&&window.CurrentVideoConfig.settings.loop,this._poster=window.CurrentVideoConfig.settings.poster,!this._poster){var i=window.CurrentVideoConfig.content.posterVersions;i?window.client.browser.chrome&&i.webp?this._poster=i.webp:i.optimized&&(this._poster=i.optimized):window.CurrentVideoConfig&&window.CurrentVideoConfig.content?this._poster=window.CurrentVideoConfig.content.poster:this._poster=this.video.poster}this._poster=Object(o.z)(this._poster),y.debug("Poster",this._poster),this.currentQuality=window.CurrentVideoConfig.settings.defaultHd?"hd":"sd",this.onVideoConfigChanged()}}},{key:"isAd",value:function(e){y.debug("isAd() ABSTRACT METHOD")}},{key:"preload",value:function(){var e=this,t=document.body.getAttribute("data-default-src");e._isAd||null!==e._source&&""!==e._source||e.setSource(t),y.debug("Preload source",{id:e.containerId,src:e._source}),e._isEnabled||e.enable(!0),e.hls&&e.hls.destroy(),e._source.indexOf(".m3u8")>-1&&!window.client.nativeHLS?(e.hlsLoading=!0,n.e(12).then(n.t.bind(null,85,7)).then((function(t){var n=t.default;e.hls=new n,e.hls.ErrorTypes=n.ErrorTypes,e.hls.ErrorDetails=n.ErrorDetails,e.hls.DefaultConfig=n.DefaultConfig,e.hls.Events=n.Events,e.hls.attachMedia(e.video),e.hls.on(e.hls.Events.MANIFEST_PARSED,e._onHLSManifestParsed.bind(e)),e.hls.loadSource(e._source)})).catch((function(e){y.error("Caught error",{message:e.message,stack:e.stack})}))):(e.video.src=e._source,window.window.client.browser.firefox>0&&e.video.setAttribute("preload","metadata"),e.video.load())}},{key:"_playVideo",value:function(){var e=this,t=e.video.play();void 0!==t&&t.then((function(){y.info("Autoplay worked, playing video")})).catch((function(t){e.pause(),y.warn("Caught Error (Play promise)",{message:t.message,stack:t.stack})}))}},{key:"_onHLSManifestParsed",value:function(e,t){y.info("HLS manifest loaded, found ".concat(t.levels.length," quality level")),window.BoltAdManager&&window.BoltAdManager.sequentialPrerollAdRequested||this.play()}},{key:"play",value:function(){y.debug("Play",{id:this.containerId}),this.show(!0),this.ended?this.replay():(this._isEnabled||this.enable(!0),this._playVideo())}},{key:"replay",value:function(){y.debug("Replay",{id:this.containerId}),this.ended=!1,this.fastSeekEnabled?(y.debug("Pseudostream replay",{id:this.containerId,startTime:this.startTime}),this.startTime>0?(this.autoplay=!0,this.seek(0)):(this.stop(),this.play())):(this.autoplay=!0,this.seek(0))}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"pause",value:function(){y.debug("Pause",{id:this.containerId,time:this.currentTime}),this.paused=!0,this.video.pause()}},{key:"resume",value:function(){this.playing||(y.debug("Resume",{id:this.containerId,time:this.video.currentTime}),this.show(!0),this._playVideo())}},{key:"stop",value:function(){this.stopped||(y.debug("Stop",{id:this.containerId}),this.stopped=!0,this.video.pause(),this.video.currentTime=0)}},{key:"seek",value:function(e){var t=e/this.duration*100;this._pastThirdQuartile=t>=75,this._pastMidpoint=t>=50||this._pastThirdQuartile,this._pastFirstQuartile=t>=25||this._pastMidpoint,this._pastFirstQuartile&&y.info("Seeking past first quartile"),this._pastMidpoint&&y.info("Seeking past midpoint"),this._pastThirdQuartile&&y.info("Seeking past third quartile")}},{key:"mute",value:function(e){y.warn("ABSTRACT METHOD NO OP")}},{key:"setVolume",value:function(e){y.warn("ABSTRACT METHOD NO OP")}},{key:"remove",value:function(e){y.debug("Remove",{id:this.containerId,videoId:this.videoId}),this._isRemoved=!0,this.video&&(this._disableVideoListeners(),this.video.pause(),this.video.removeAttribute("src"),this.video.removeAttribute("poster"),!0===e?(this.video.parentNode.removeChild(this.video),this.video=null):this._enableVideoListeners()),this._dispatchEvent(r.a.Player.Event.REMOVED),this.removeAllListeners()}},{key:"setSource",value:function(e){e=Object(o.z)(e),this._isRemoved=!1,this._originalSource=e,this.resetQuartiles(),this.metadata=null,this.playing=!1,this.hasStarted=!1,this.paused=!1,this.ended=!1,this.sourceChanged=!0,this.duration=0,this.buffered=0,this._bufferedTime=0,this.startTime=0,this.currentTime=0,this.waiting=!1,this._dispatchEvent(r.a.Media.Event.START_TIME_CHANGED,this.startTime),this._dispatchEvent(r.a.Player.Event.CONTENT_CHANGED),this.fastSeekEnabled=Object(o.c)(e),y.debug("Pseudo streaming enabled",{id:this.containerId,fastSeek:this.fastSeekEnabled}),this._enableVideoListeners(),this._updateVideoSource(e)}},{key:"setQuality",value:function(e,t){e!==this.currentQuality&&(y.debug("setQuality",{id:this.containerId,quality:e,url:t}),this._originalSource=t,this.autoplay=!0,this.currentQuality=e,this.qualityChanged=!0,this._dispatchEvent(r.a.Player.Event.QUALITY_CHANGED,this.currentQuality),this._updateVideoSource(t))}},{key:"_updateVideoSource",value:function(e){y.warn("ABSTRACT METHOD NO OP")}},{key:"getSource",value:function(){return this._source}},{key:"size",value:function(e,t){this.video.setAttribute("width",e),this.video.setAttribute("height",t),this.width=this.video.clientWidth,this.height=this.video.clientHeight,this._dispatchEvent(r.a.Player.Event.SIZE_CHANGED)}},{key:"setFullscreen",value:function(e){e!==this.fullscreen&&(this.fullscreen=e)}},{key:"show",value:function(e){!0===e&&"block"!==this.video.style.display?(y.debug("Show video",{id:this.containerId}),this.video.style.display="block"):!1===e&&"none"!==this.video.style.display&&(y.debug("Hide video",{id:this.containerId}),this.video.style.display="none")}},{key:"hitAdCuepoint",value:function(e){this.previousCuepointIndex=window.CurrentVideoConfig.advertising.cuepoints.indexOf(e)}},{key:"unload",value:function(){var e=this;y.info("Unload video",{id:e.containerId,src:this.video.currentSrc}),e._isRemoved=!0,e._disableVideoListeners(),e.hls?e.hls.destroy():(e.video.removeAttribute("src"),e.video.load())}},{key:"enable",value:function(e){this._isEnabled=e,!0===e?(y.info("Enable Video",{id:this.containerId}),this._enableVideoListeners(),this.setSource(this._source)):(y.info("Disable Video",{id:this.containerId}),this.unload())}},{key:"_onDurationChanged",value:function(){y.warn("ABSTRACT METHOD NO OP")}},{key:"_onPlay",value:function(){this.stopped=!1,this.ended=!1,this.hasStarted?this.paused&&(this.paused=!1,this._dispatchEvent(r.a.Media.Event.RESUME)):(y.info("Dispatching play event"),this._dispatchEvent(r.a.Media.Event.PLAY),this.hasStarted=!0)}},{key:"_onPause",value:function(){y.info("onPause",{id:this.containerId,time:this.currentTime}),this.paused=!0,this.playing=!1,this._dispatchEvent(r.a.Media.Event.PAUSED),this.stopped&&this._dispatchEvent(r.a.Media.Event.STOPPED)}},{key:"_onSeeked",value:function(){y.info("onSeeked"),this.stopped||(this._dispatchEvent(r.a.Media.Event.SEEKED),this.autoplay&&this._playVideo()),this.seekTime=null}},{key:"_onTimeUpdate",value:function(){if(this.video){if(this._stalled=!1,this.qualityChanged)y.info("Quality changed",{id:this.containerId,quality:this.qualityChanged});else if(this.currentTime=this.video.currentTime+this.startTime,this.currentTime>this.duration&&(this.currentTime=this.duration),this._dispatchEvent(r.a.Media.Event.TIME_UPDATE,this.currentTime),this._checkQuartiles(),window.client.system.android>0&&28===window.client.browser.chrome&&Math.floor(this.currentTime)===Math.floor(this.video.duration)){var e=new CustomEvent("ended");this.video.dispatchEvent(e)}}else y.error("Video is null ".concat(this.containerId))}},{key:"_onWaiting",value:function(){this.waiting=!0,this._dispatchEvent(r.a.Media.Event.WAITING)}},{key:"_onPlaying",value:function(){y.debug("onPlaying",{id:this.containerId}),this.playing=!0,this.paused=!1,this._dispatchEvent(r.a.Media.Event.PLAYING)}},{key:"_onProgress",value:function(){try{var e=this.fastSeekEnabled?this.video.buffered.end(0)+this.startTime:this.video.buffered.end(0);e!==this._bufferedTime&&(e>this._bufferedTime&&(this._bufferedTime=e),this.buffered=Math.round(100*this._bufferedTime/this.duration),this.buffered>100&&(this.buffered=100))}catch(e){this.buffered=0,this._bufferedTime=0}this._dispatchEvent(r.a.Media.Event.LOAD_PROGRESS,this.buffered)}},{key:"_onLoadedMetadata",value:function(){this.metadata||(this.metadata={duration:this.video.duration,videoWidth:this.video.videoWidth,videoHeight:this.video.videoHeight},y.debug("Video metadata",{id:this.containerId}),this._dispatchEvent(r.a.Media.Event.METADATA,this.metadata))}},{key:"_onCanPlay",value:function(){y.debug("onCanPlay",{id:this.containerId}),this.waiting=!1,this.canplay=!0,this._dispatchEvent(r.a.Player.Event.CANPLAY),this._stalled&&(y.debug("onCanPlay after stalled",{id:this.containerId}),this._stalled=!1,this._playVideo())}},{key:"_onCanPlayThrough",value:function(){this.canplaythrough=!0,this._dispatchEvent(r.a.Player.Event.CANPLAYTHROUGH)}},{key:"_onVolumeChange",value:function(){this.volume=this.video.volume,y.info("onVolumeChange",{value:this.volume}),this._dispatchEvent(r.a.Media.Event.VOLUME_CHANGED,this.volume)}},{key:"_onEnded",value:function(){this._isAd||y.debug("onEnded",{id:this.containerId}),this.ended=!0,this.playing=!1,this.paused=!1,this.hasStarted=!1,this._dispatchEvent(r.a.Media.Event.ENDED)}},{key:"_onEmptied",value:function(){this._isRemoved||this.sourceChanged||(this._isAd||y.debug("onEmptied",{id:this.containerId}),this._dispatchEvent(r.a.Media.Event.EMPTIED))}},{key:"_onStalled",value:function(){this._isRemoved||(this._stalled=!0,this.playing&&(y.debug("Video stalled, calling play",{id:this.containerId}),this._playVideo()))}},{key:"_onError",value:function(){var e="";if(!this._isRemoved){if(this.video.error.code)switch(this.video.error.code){case 1:e="USER ABORT";break;case 2:e="NETWORK ERROR";break;case 3:e="DECODE ERROR";break;case 4:e="MEDIA NOT SUPPORTED"}y.error("Video Error: ".concat(this.containerId),{message:e,errorCode:this.video.error.code}),4===this.video.error.code?window.client.browser.firefoxWithoutMp4&&this._source.indexOf(".mp4")>-1?this._dispatchEvent(r.a.Media.Event.NOT_SUPPORTED):this._dispatchEvent(r.a.Media.Event.NOT_FOUND):""===this.video.src||this._isRemoved||this.sourceChanged||this._dispatchEvent(r.a.ERROR)}}},{key:"_onLoadedData",value:function(){this._isLoading=!1,y.debug("onLoadedData",{id:this.containerId}),this._dispatchEvent(r.a.Media.Event.LOADED)}},{key:"_onLoadStart",value:function(){this.video&&(this._isLoading=!0,y.debug("onLoadStart",{id:this.containerId}),this._dispatchEvent(r.a.Media.Event.WAITING))}},{key:"_onAbort",value:function(e){y.debug("onAbort",{id:this.containerId})}},{key:"_enableVideoListeners",value:function(){y.debug("Enable video listeners",{videoId:this.videoId}),this.video.addEventListener("loadstart",this._onLoadStart),this.video.addEventListener("loadedmetadata",this._onLoadedMetadata),this.video.addEventListener("loadeddata",this._onLoadedData),this.video.addEventListener("durationchange",this._onDurationChanged),this.video.addEventListener("play",this._onPlay),this.video.addEventListener("pause",this._onPause),this.video.addEventListener("seeked",this._onSeeked),this.video.addEventListener("timeupdate",this._onTimeUpdate),this.video.addEventListener("waiting",this._onWaiting),this.video.addEventListener("playing",this._onPlaying),this.video.addEventListener("progress",this._onProgress),this.video.addEventListener("canplay",this._onCanPlay),this.video.addEventListener("canplaythrough",this._onCanPlayThrough),this.video.addEventListener("volumechange",this._onVolumeChange),this.video.addEventListener("ended",this._onEnded),this.video.addEventListener("emptied",this._onEmptied),this.video.addEventListener("stalled",this._onStalled),this.video.addEventListener("error",this._onError),this.video.addEventListener("abort",this._onAbort)}},{key:"_disableVideoListeners",value:function(){y.debug("Disable video listeners",{id:this.containerId}),this.video.removeEventListener("loadstart",this._onLoadStart),this.video.removeEventListener("loadedmetadata",this._onLoadedMetadata),this.video.removeEventListener("loadeddata",this._onLoadedData),this.video.removeEventListener("durationchange",this._onDurationChanged),this.video.removeEventListener("play",this._onPlay),this.video.removeEventListener("pause",this._onPause),this.video.removeEventListener("seeked",this._onSeeked),this.video.removeEventListener("timeupdate",this._onTimeUpdate),this.video.removeEventListener("waiting",this._onWaiting),this.video.removeEventListener("playing",this._onPlaying),this.video.removeEventListener("progress",this._onProgress),this.video.removeEventListener("canplay",this._onCanPlay),this.video.removeEventListener("canplaythrough",this._onCanPlayThrough),this.video.removeEventListener("volumechange",this._onVolumeChange),this.video.removeEventListener("ended",this._onEnded),this.video.removeEventListener("emptied",this._onEmptied),this.video.removeEventListener("stalled",this._onStalled),this.video.removeEventListener("error",this._onError),this.video.removeEventListener("abort",this._onAbort),this.video.removeEventListener("ended",this._onEnded)}},{key:"onVideoConfigChanged",value:function(){(this.playing||this.paused)&&this.enable(!1);var e=window.CurrentVideoConfig;this._poster=e.content.poster,void 0===this.loop&&void 0===window.Playlist&&(this.loop=e.settings.loop),this.adsCuepoints=void 0!==e.advertising.cuepoints?e.advertising.cuepoints.concat():[],this._dispatchEvent(r.a.Player.Event.CONFIG_CHANGED)}},{key:"resetQuartiles",value:function(){this._pastFirstQuartile=!1,this._pastMidpoint=!1,this._pastThirdQuartile=!1}},{key:"_checkQuartiles",value:function(){if(this.currentTime&&this.duration){var e=this.currentTime/this.duration*100;!this._pastFirstQuartile&&e>=25?(this._pastFirstQuartile=!0,this._dispatchEvent(r.a.Media.Event.FIRSTQUARTILE,null)):!this._pastMidpoint&&e>=50?(this._pastMidpoint=!0,this._dispatchEvent(r.a.Media.Event.MIDPOINT,null)):!this._pastThirdQuartile&&e>=75&&(this._pastThirdQuartile=!0,this._dispatchEvent(r.a.Media.Event.THIRDQUARTILE,null))}}},{key:"disableListeners",value:function(){this._disableVideoListeners()}}])&&s(t.prototype,i),a&&s(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(i.a)},43:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.a=function(){var e=1;if(!Object.create)var t=function(){};var n=Array.prototype.slice,a={attributes:{},eventHandlers:{"-1":{}},guid:-1,addEvent:function(e){a.eventHandlers[e.guid][e.type]||(a.eventHandlers[e.guid][e.type]=[]),a.eventHandlers[e.guid][e.type].push({guid:e.guid,handler:e.handler,scope:e.scope,type:e.type,once:e.once})},addEventHandler:function(e,t,n,i){var o,r={};for(var d in"string"==typeof e?(o=n||!1,r[e]=t):(o=t||!1,r=e),r)for(var s=r[d],l=d.split(" "),u=0,c=l.length;u<c;u++){var v=l[u];a.addEvent.call(this,{guid:this._guid||this._.guid,handler:s,scope:o,type:v,once:i})}},addGuid:function(t,n){t._guid&&!n||(t._guid=e++,a.attributes[t._guid]={},a.eventHandlers[t._guid]={})},attr:function(e){return a.attributes[e]},clone:function(e){var t=a.typeOf(e);return"object"===t?a.extend({},e):"array"===t?e.slice(0):void 0},create:function(e){return Object.create?Object.create(e):(t.prototype=e,new t)},emitEvents:function(e,t,i,o){i=i||!1,o=o||this._guid;for(var r=n.call(a.eventHandlers[o][e]),d=0,s=r.length;d<s;d++){var l=a.extend({},r[d]),u=l.scope?l.scope:this;i&&(l.type=i),l.scope=u,l.handler.call(l.scope,t,l),l.once&&a.removeEventHandler.call(this,l.type,l.handler)}},extend:function(){for(var e=n.call(arguments),t=e.shift(),i=0,a=e.length;i<a;i++){var o=e[i];for(var r in o)t[r]=o[r]}return t},extendThis:function(){var e=n.call(arguments);return e.unshift(this),a.extend.apply(this,e)},makeUuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},removeAttribute:function(e,t){t=t||!1;for(var n=a.trim(e).split(" "),i={},o=0,r=n.length;o<r;o++){var d=a.trim(n[o]);d&&(i.key=d,i.oldValue=a.attr(this._guid)[d],delete a.attr(this._guid)[d],t||(this.emit("change",d),this.emit("change:"+d),this.emit("mutate",i),this.emit("mutate:"+d,i),this.emit("remove",d),this.emit("remove:"+d)),delete i.oldValue)}},removeEventHandler:function(e,t){var n=a.eventHandlers[this._guid];if(e&&t){if(!(n=n[e]))return;for(var i,o=0,r=n.length;o<r;o++)(i=n[o].handler)&&i===t&&(n.splice(o--,1),r--)}else e?delete n[e]:a.eventHandlers[this._guid]={}},setAttribute:function(e,t,n){n=n||!1;var i=this.has(e),o=a.attr(this._guid)[e];if(t!==o&&(a.attr(this._guid)[e]=t,!n)){this.emit("change",e),this.emit("change:"+e,t);var r={key:e,newValue:t,oldValue:o||null};this.emit("mutate",r),this.emit("mutate:"+e,r);var d=i?"update":"create";this.emit(d,e),this.emit(d+":"+e,t)}},trim:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},typeOf:function(e){return null==e?String(e):Object.prototype.toString.call(e).replace(/\[object |\]/g,"").toLowerCase()},updateAttribute:function(e,t,n){var i=this.get(e),o=a.typeOf(i);"object"!==o&&"array"!==o||(i=a.clone(i));var r=t.call(this,i,e);a.setAttribute.call(this,e,r,n||!1)}},o={emit:function(e,t){t=void 0===t?null:t;for(var n=e.split(" "),i=0,o=n.length;i<o;i++){var r=n[i];a.eventHandlers[-1].all&&a.emitEvents.call(this,"all",t,r,-1),a.eventHandlers[-1][r]&&a.emitEvents.call(this,r,t,r,-1),"number"==typeof this._guid&&(a.eventHandlers[this._guid].all&&a.emitEvents.call(this,"all",t,r),a.eventHandlers[this._guid][r]&&a.emitEvents.call(this,r,t))}},off:function(){a.removeEventHandler.apply(this,arguments)},on:function(){a.addEventHandler.apply(this,arguments)}};a.Module=function(){},a.Module.prototype={each:function(e,t){var n=a.attr(this._guid);for(var i in n){var o=n[i];e.call(t||this,o,i)}},extend:function(){return a.extendThis.apply(this,arguments)},filter:function(e){var t=[],n=a.attr(this._guid);for(var i in n)e.call(this,n[i],i)&&t.push(n[i]);return t},get:function(e){if("string"==typeof e){if(arguments.length>1){for(var t={},n=0,i=arguments.length;n<i;n++){var o=arguments[n];t[o]=this.get(o)}return t}return this.has(e)?a.attr(this._guid)[e]:null}if("function"==typeof e){var r=this.filter(e);return r.length?r[0]:null}},getAll:function(){return a.clone(a.attr(this._guid))},getAllAsArray:function(){var e=[],t=a.attr(this._guid);for(var n in t){var i=t[n];"object"!==a.typeOf(i)||i.id||(i.id=n),e.push(i)}return e},has:function(e){return void 0!==a.attr(this._guid)[e]},map:function(e,t){var n=[];return this.each((function(i,a){n.push(e.call(t||this,i,a))}),t||this),n},push:function(e,t){if("array"===a.typeOf(e))for(var n=0,i=e.length;n<i;n++)a.setAttribute.call(this,a.makeUuid(),e[n],t||!1);else a.setAttribute.call(this,a.makeUuid(),e,t||!1);return this},remove:function(e,t){return void 0===e?(a.attributes[this._guid]={},this.emit("change remove")):"function"==typeof e?this.each((function(n,i){e(n)&&a.removeAttribute.call(this,i,t)})):a.removeAttribute.call(this,e,t||!1),this},set:function(e,t,n){if("object"===i(e))for(var o in e)a.setAttribute.call(this,o,e[o],t||!1);else a.setAttribute.call(this,e,t,n||!1);return this},size:function(){var e=0,t=a.attr(this._guid);for(var n in t)e++;return e},update:function(e,t,n){return"string"==typeof e?a.updateAttribute.call(this,e,t,n||!1):"function"==typeof e&&this.each((function(t,n){a.updateAttribute.call(this,n,e)})),this}};var r={_:a,extend:function(){return a.extendThis.apply(a.Module.prototype,arguments)},mixinEvents:function(e){return e=e||{},a.addGuid(e),a.extend(e,o)},on:function(){a.addEventHandler.apply(this,arguments)},version:"0.8.1"};return window.Stapes=r,r}()},44:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return v}));var i=n(3),a=n(1),o=n(2),r=n(6),d=n(0),s=new a.a("FRAME-AD-HELPER"),l=new Map,u="",c=function(e,t){var n=t.timing,a=t.adShouldBeQueued,c=t.loadAd,v=t.loadedCallback,w=t.finishedCallback,y=t.vmapBreakTime,h=function(){window.BoltAdManager.removeEventListener(i.a.Media.Event.LOADED,g),window.BoltAdManager.removeEventListener(i.a.Media.Event.ENDED,_),window.BoltAdManager.removeEventListener(i.a.Ad.Event.FAILED,b),window.BoltAdManager.removeEventListener(i.a.Ad.Event.ABORTED,P),window.BoltAdManager.removeEventListener(i.a.Ad.Event.TAG_NOT_AVAILABLE,E)},f=function(){window.BoltAdManager.addEventListener(i.a.Media.Event.LOADED,g),window.BoltAdManager.addEventListener(i.a.Media.Event.ENDED,_),window.BoltAdManager.addEventListener(i.a.Ad.Event.FAILED,b),window.BoltAdManager.addEventListener(i.a.Ad.Event.ABORTED,P),window.BoltAdManager.addEventListener(i.a.Ad.Event.TAG_NOT_AVAILABLE,E)};l.set("addAdListeners",f),l.set("removeAdListeners",h);var p,E=function(){h(),w()},g=function e(){window.playerIsHidden&&(window.playerIsHidden=!1,window.Zeus.dispatchEvent("showPlayer"));var t=window.BoltAdManager;t.removeEventListener(i.a.Media.Event.LOADED,e),s.debug("requestAd hit the ad loaded listener for a ".concat(n)),Object(o.a)(window.Skin,"bolt-ad-type-".concat(t.type));var a=null;t.type===i.a.Ad.Type.VAST?a=t.adPlayer.adPlayer:t.type===i.a.Ad.Type.GOOGLE||t.type===i.a.Ad.Type.GOOGLE_DCM_VPAID?(s.debug("AdPlayer set to Google"),a=t.adPlayer):a=t.adPlayer,s.debug("got a linear ad",n),"preroll"!==n&&"midroll"!==n||(window.client.system.ios&&window.PlayerView.fullscreen&&window.ContentPlayer.addOnceEventListener(i.a.Media.Event.PAUSED,(function(){s.debug("Exiting fullscreen"),window.ContentPlayer.video.webkitExitFullscreen()})),s.debug("About to pause the content player so ad can play"),window.ContentPlayer.pause()),window.PlayerView.setCurrentPlayer(a),t.type!==i.a.Ad.Type.GOOGLE_DCM_VPAID&&t.type!==i.a.Ad.Type.GOOGLE&&a.type!==i.a.Ad.Type.JS_VPAID&&a.play(),Object(r.b)(i.a.UI.LOADING_INDICATOR),v()},_=function(){window.BoltAdManager.ad||(window.AdSession.complete(),s.debug("hit the ad completed listener for a ".concat(n)),h(),Object(r.b)(i.a.UI.LOADING_INDICATOR),window.BoltAdManager.VMAPBreaksForCurrentAdTiming&&window.BoltAdManager.VMAPBreaksForCurrentAdTiming.length>0||window.BoltAdManager._adPlays<window.prerollAdAmt?e._requestAd({timing:n,loadedCallback:v,finishedCallback:w,vmapBreakTime:y}):(Object(o.d)(window.Skin,"bolt-ad-type-".concat(window.BoltAdManager.type)),window.BoltAdManager.remove(),"precontent"===window.PlayerSettings.playerType?(w(),window.PlayerSettings.adLoop||e._showHiddenContainer(window.ContentPlayer)):("adsonly"===window.PlayerSettings.playerType||window.PlayerView.setCurrentPlayer(window.ContentPlayer),w())))},b=function(t){var a;if(t.uuid!==u){u=t.uuid;var o=window.BoltAdManager,l=null===(a=o.ads)||void 0===a?void 0:a.getFallbackAd(),c=o.ad;if(l&&c&&l.uuid!==c.uuid)o._dispatchEvent(i.a.Ad.Event.SHOW_FALLBACK);else{window.AdSession.fail(),s.debug("hit the ad failed listener for a ".concat(n)),h(),o.remove();var y=function(){o._blankRetryCount+=1,console.log("Request ad again"),e._requestAd({timing:n,loadedCallback:v,finishedCallback:w})};if(("precontent"===window.PlayerSettings.playerType||"adsonly"===window.PlayerSettings.playerType)&&"hide"===window.PlayerSettings.onAdUnavailable&&o._adPlays<window.prerollAdAmt)return window.playerIsHidden=!0,window.Zeus.dispatchEvent("hidePlayer"),o._blankRetryCount%(o._blankRetries+1)!=0?void y():void setTimeout(y,o._blankRefreshTimeout);if(window.PlayerView._dispatchEvent(i.a.Ad.Event.FAILED,{timing:n}),"precontent"===window.PlayerSettings.playerType){if(!window.PlayerSettings.adLoop){var f=window.tycheData;Object(d.A)(f,"features","interstitial","on")&&f.features.interstitial.on?window.setTimeout((function(){e._showHiddenContainer(window.ContentPlayer)}),5e3):e._showHiddenContainer(window.ContentPlayer)}setTimeout((function(){w()}),5e3)}else"adsonly"===window.PlayerSettings.playerType||(window.PlayerView.setCurrentPlayer(window.ContentPlayer),Object(r.b)(i.a.UI.LOADING_INDICATOR)),w()}}},P=function(){window.AdSession.abort(),s.warn("Ad aborted"),Object(o.d)(window.Skin,"bolt-ad-type-".concat(window.BoltAdManager.type)),h(),window.PlayerView.setCurrentPlayer(window.ContentPlayer)};"midroll"===n||window.BoltAdManager.sequentialPrerollAdRequested||window.PlayerState.state!==window.PlayerState.PLAYING&&(window.PlayerState.state=window.PlayerState.WAITING),p=e._currentCuepoint?e._currentCuepoint:"preroll"===n?-1:99999999999,"midroll"===n&&y&&(p=y);var A=function(){window.BoltAdManager.requestAd({timing:n,cuepoint:p,adShouldBeQueued:a,loadAd:c,callbackIfRequestAccepted:function(){Object(r.f)(i.a.UI.AD_CONTAINER,"block","hidden"),f()}})};window.shouldSupportGDPR&&void 0===window.gdpr?(s.info("[_requestAd] querying GDPR"),window.MessageChannel.sendRequest("gdpr",(function(e){s.info("[_requestAd] received GDPR value:",e),window.gdpr=e,A()}))):A()},v=function(){var e=l.get("removeAdListeners"),t=l.get("addAdListeners");e&&"function"==typeof e&&t&&"function"==typeof t&&(e(),t())}},45:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var i=n(23),a=n(3);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=s(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=new(n(1).a)("IOS-VIDEO"),f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(s,e);var t,n,i,o=u(s);function s(e,t,n){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),y(v(i=o.call(this)),"hasBeenTouched",!1),y(v(i),"_isEnabled",!1);var a=v(i);return a._init(e,t,n),window.PlayerSettings.autoplay&&(a.hasBeenTouched=!0,a.mute(!0)),a.video.addEventListener("webkitendfullscreen",(function(){a.video.controls&&(a.video.controls=!1)})),i}return t=s,(n=[{key:"_updateVideoSource",value:function(e){h.debug(this.containerId,"'updateSource:' ".concat(e,", 'autoplay:' ").concat(this.autoplay));var t=-1===e.indexOf("?")?"?":"&";this.qualityChanged&&this.fastSeekEnabled&&this.currentTime>0&&(t=-1===e.indexOf("?")?"?":"&",e="".concat(e+t,"ec_seek=").concat(this.currentTime,"&start=").concat(this.currentTime)),e===this.video.src&&(t=-1===e.indexOf("?")?"?":"&",e=this._source+t+Date.now()),this._source=e,this.qualityChanged&&this.hasStarted&&this.preload()}},{key:"isAd",value:function(e){if(void 0===e)return this._isAd;this._isAd=e}},{key:"seek",value:function(e){h.debug("Seek",e),d(w(s.prototype),"seek",this).call(this,e);var t=this;t.seekTime=e;var n=function(){var n=-1===t._originalSource.indexOf("?")?"?":"&";t.startTime=e,t._dispatchEvent(a.a.Media.Event.START_TIME_CHANGED,e),t.video.src=e>0?"".concat(t._originalSource+n,"ec_seek=").concat(e,"&start=").concat(e):t._source,t.video.load()};t.fastSeekEnabled?t.startTime>0?n():e<=t._bufferedTime?t.video.currentTime=e:n():(t.video.currentTime=e,t.playing||t.hasBeenTouched&&t.play())}},{key:"_onDurationChanged",value:function(){h.debug("On duration changed",{id:this.containerId,action:"durationChanged",duration:this.video.duration}),this.sourceChanged?(this.duration=this.video.duration,this._dispatchEvent(a.a.Media.Event.DURATION_CHANGE,this.duration),h.debug("On duration changed",{id:this.containerId,action:"sourceChanged",duration:this.video.duration}),this.sourceChanged=!1,this.hasBeenTouched&&this.autoplay&&this.play()):this.qualityChanged?h.debug("On duration changed",{id:this.containerId,action:"qualityChanged",duration:this.video.duration}):this.seekTime?(h.debug("On duration changed",{id:this.containerId,action:"seekTime",seek:this.seekTime,duration:this.video.duration}),this.fastSeekEnabled&&(this.seekTime=null,this.hasBeenTouched&&this.play())):this.autoplay&&this.hasBeenTouched&&(h.debug("Duration changed & play"),this.play())}},{key:"_onLoadedData",value:function(){if(this.qualityChanged)h.debug("On loaded data: new quality"),this.qualityChanged=!1,this.fastSeekEnabled?(this.startTime=this.currentTime,this._dispatchEvent(a.a.Media.Event.START_TIME_CHANGED,this.currentTime),this.hasBeenTouched&&this.play()):this.seek(this.currentTime);else if(h.debug("onLoadedData"),d(w(s.prototype),"_onLoadedData",this).call(this),window.client.system.ios&&window.PlayerView.fullscreen)try{this.video.webkitEnterFullscreen()}catch(e){h.warn("Caught Error",{message:e.message,stack:e.stack}),window.PlayerView.fullscreen=!1,window.PlayerView.setFullscreen(!1)}}},{key:"touch",value:function(){h.debug("Touch",{videoId:this.videoId}),this.enable(!1),this.hasBeenTouched=!0}},{key:"mute",value:function(e){this.video.muted=e,this.muted=this.video.muted,this.muted?this._dispatchEvent(a.a.Media.Event.MUTED):this._dispatchEvent(a.a.Media.Event.UNMUTED)}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.a)},46:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var i=n(23),a=n(3);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=s(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=new(n(1).a)("MOBILE-VIDEO"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(s,e);var t,n,i,o=u(s);function s(e,t,n){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var a=v(i=o.call(this));return a._init(e,t,n),a.hasBeenTouched=!1,a._isEnabled=!1,window.client.system.android&&window.PlayerSettings.autoplay&&(a.hasBeenTouched=!0,a.mute(!0)),window.PlayerSettings.automute&&a.video.addEventListener("webkitbeginfullscreen",(function(){a.mute(!1)})),i}return t=s,(n=[{key:"_init",value:function(e,t,n){d(w(s.prototype),"_init",this).call(this,e,t,n),y.debug("Init",{id:this.containerId})}},{key:"_updateVideoSource",value:function(e){y.debug("Update source",{id:this.containerId,src:e,currentSrc:this.video.src});var t=-1===e.indexOf("?")?"?":"&";this.qualityChanged&&this.fastSeekEnabled&&this.currentTime>0&&(t=-1===e.indexOf("?")?"?":"&",e="".concat(e+t,"ec_seek=").concat(this.currentTime,"&start=").concat(this.currentTime)),e===this.video.src&&(t=-1===e.indexOf("?")?"?":"&",e=this._source+t+Date.now()),this._source=e,this.qualityChanged&&this.hasStarted&&this.preload()}},{key:"isAd",value:function(e){if(void 0===e)return this._isAd;this._isAd=e}},{key:"seek",value:function(e){y.debug("Seek",{val:e}),d(w(s.prototype),"seek",this).call(this,e);var t=this;t.seekTime=e;var n=function(){t.startTime=e,t._dispatchEvent(a.a.Media.Event.START_TIME_CHANGED,e);var n=-1===t._originalSource.indexOf("?")?"?":"&";t.video.src=e>0?"".concat(t._originalSource+n,"ec_seek=").concat(e,"&start=").concat(e):t._source,t.video.load()};t.fastSeekEnabled?t.startTime>0?n():e<=t._bufferedTime?t.video.currentTime=e:n():(t.video.currentTime=e,t.playing||t.hasBeenTouched&&t.play())}},{key:"_onDurationChanged",value:function(){y.debug("On duration changed",{id:this.containerId,action:"durationChanged",duration:this.video.duration}),this.sourceChanged?(this.duration=this.video.duration,this._dispatchEvent(a.a.Media.Event.DURATION_CHANGE,this.duration),y.debug("On duration changed",{id:this.containerId,action:"sourcechanged",duration:this.video.duration}),this.sourceChanged=!1,this.hasBeenTouched&&this.autoplay&&this.play()):this.qualityChanged?(y.debug("On duration changed",{id:this.containerId,action:"qualityChanged",duration:this.video.duration}),this.fastSeekEnabled?(this.startTime=this.currentTime,this._dispatchEvent(a.a.Media.Event.START_TIME_CHANGED,this.currentTime),this.hasBeenTouched&&this.video.play()):this.seek(this.currentTime),this.qualityChanged=!1):this.seekTime?(y.debug("On duration changed",{id:this.containerId,action:"seekTime",seek:this.seekTime,duration:this.video.duration}),this.fastSeekEnabled&&(this.seekTime=null,this.hasBeenTouched&&this.video.play())):this.autoplay&&this.hasBeenTouched&&(y.debug("Duration changed & play"),this.video.play())}},{key:"touch",value:function(){y.debug("Touch",{videoId:this.videoId}),this.enable(!1),this.hasBeenTouched=!0}},{key:"mute",value:function(e){window.client.system.android&&(this.video.muted=e,this.muted=this.video.muted,this.muted?this._dispatchEvent(a.a.Media.Event.MUTED):this._dispatchEvent(a.a.Media.Event.UNMUTED))}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.a)},47:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var i=n(23),a=n(3);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=s(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=new(n(1).a)("VIDEO"),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(s,e);var t,n,i,o=u(s);function s(e,t,n,i){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(a=o.call(this))._init(e,t,n,i),a}return t=s,(n=[{key:"_init",value:function(e,t,n){d(v(s.prototype),"_init",this).call(this,e,t,n),this.video.oncontextmenu=function(){return!1},this._source&&(this.setSource(this._source),w.debug("Pseudo streaming enabled",{fastSeek:this.fastSeekEnabled})),this._enableVideoListeners()}},{key:"isAd",value:function(e){if(void 0===e)return this._isAd;this._isAd=e}},{key:"mute",value:function(e){w.info("mute",e),this.video.muted=e,this.muted=this.video.muted,this.muted?this._dispatchEvent(a.a.Media.Event.MUTED):this._dispatchEvent(a.a.Media.Event.UNMUTED)}},{key:"setVolume",value:function(e){var t=void 0===e?1:parseFloat(e);w.info("set volume",t),this.video.volume=t,this.volume=this.video.volume}},{key:"_updateVideoSource",value:function(e){if(w.debug("Update source",{id:this.containerId,url:e}),this._source=e,this.qualityChanged){if(this.fastSeekEnabled&&this.currentTime>0){var t=-1===e.indexOf("?")?"?":"&";this._source="".concat(e+t,"ec_seek=").concat(this.currentTime,"&start=").concat(this.currentTime)}this.hasStarted&&this.preload()}}},{key:"_onDurationChanged",value:function(){var e=this;e.sourceChanged?(e.duration=e.video.duration,e._dispatchEvent(a.a.Media.Event.DURATION_CHANGE,e.duration),w.debug("On duration changed",{id:this.containerId,action:"sourceChanged",duration:this.video.duration}),e.sourceChanged=!1,!e.autoplay||window.BoltAdManager&&window.BoltAdManager.sequentialPrerollAdRequested||e.play()):e.qualityChanged?(w.debug("On duration changed",{id:this.containerId,action:"qualityChanged",duration:this.video.duration}),e.fastSeekEnabled?(e.startTime=e.currentTime,e._dispatchEvent(a.a.Media.Event.START_TIME_CHANGED,e.currentTime),e.play()):e.seek(e.currentTime),e.qualityChanged=!1):e.seekTime?(w.debug("On duration changed",{id:this.containerId,action:"seekTime",seek:this.seekTime,duration:this.video.duration}),e.fastSeekEnabled&&(e.seekTime=null,e.play())):e.autoplay&&window.BoltAdManager&&!window.BoltAdManager.sequentialPrerollAdRequested&&e.play()}},{key:"seek",value:function(e){w.debug("Seek",e),d(v(s.prototype),"seek",this).call(this,e);var t=this;t.seekTime=e;var n=function(){t.startTime=e,t._dispatchEvent(a.a.Media.Event.START_TIME_CHANGED,e);var n=-1===t._originalSource.indexOf("?")?"?":"&";window.client.browser.firefox>0?(t._disableVideoListeners(),t.video.addEventListener("emptied",(function i(){w.info("FF video reset"),t.video.removeEventListener("emptied",i),t.video.src=e>0?"".concat(t._originalSource+n,"ec_seek=").concat(e,"&start=").concat(e):t._source,t._enableVideoListeners(),t.video.load()})),t.video.src=""):(t.video.src=e>0?"".concat(t._originalSource+n,"ec_seek=").concat(e,"&start=").concat(e):t._source,t.video.load())};t.fastSeekEnabled?t.startTime>0?n():e<=t._bufferedTime?(w.info("Seeking pseudo-streamed video within the buffer:".concat(e," of ").concat(t._bufferedTime)),t.video.currentTime=e,t.seekTime=null):n():(t.video.currentTime=e,t.seekTime=null,t.playing||t.play())}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.a)},71:function(e,t,n){"use strict";(function(e){var i=new(n(1).a)("MODULE-FACTORY"),a={buildLoadingIndicator:function(t){n.e(16).then(n.bind(null,78)).then((function(e){var n=new(0,e.default)(window.ContentPlayer);n.init(),t.call(null,n),i.debug("Module ready",{module:"LoadingIndicator"})})).catch((function(t){i.error("Failed to load module: ".concat(e),{message:t.message,stack:t.stack})}))},buildWatermark:function(t){n.e(23).then(n.bind(null,80)).then((function(e){var n=new(0,e.default)(window.ContentPlayer);n.init(),t.call(null,n),i.debug("Module ready",{module:"Watermark"})})).catch((function(t){i.error("Failed to load module: ".concat(e),{message:t.message,stack:t.stack})}))},buildContent:function(t){n.e(20).then(n.bind(null,109)).then((function(e){var n=new(0,e.default)(window.ContentPlayer);n.init(),n.invalidate(),t.call(null,n),i.debug("Module ready",{module:"Content"})})).catch((function(t){i.error("Failed to load module: ".concat(e),{message:t.message,stack:t.stack})}))},buildVolume:function(t){Promise.all([n.e(0),n.e(21)]).then(n.bind(null,48)).then((function(e){var n=new(0,e.default)(window.ContentPlayer);n.init(),t.call(null,n),i.debug("Module ready",{module:"Volume"})})).catch((function(t){i.error("Failed to load module: ".concat(e),{message:t.message,stack:t.stack})}))},buildControlBar:function(t){Promise.all([n.e(0),n.e(21)]).then(n.bind(null,81)).then((function(e){var n=new(0,e.default)(window.ContentPlayer);n.init(),t.call(null,n),i.debug("Module ready",{module:"ControlBar"})})).catch((function(t){i.error("Failed to load module: ".concat(e),{message:t.message,stack:t.stack})}))},buildScrubber:function(t){Promise.all([n.e(0),n.e(25)]).then(n.bind(null,82)).then((function(e){var n=new(0,e.default)(window.ContentPlayer);n.init(),t.call(null,n),i.debug("Module ready",{module:"Scrubber"})})).catch((function(t){i.error("Failed to load module: ".concat(e),{message:t.message,stack:t.stack})}))},buildRelatedVideos:function(t,a){n.e(24).then(n.bind(null,83)).then((function(e){var n=new(0,e.default)(window.ContentPlayer);n.init(a),t.call(null,n),i.debug("Module ready",{module:"RelatedVideosUI"})})).catch((function(t){i.error("Failed to load module: ".concat(e),{message:t.message,stack:t.stack})}))},buildAgeGate:function(t){n.e(5).then(n.bind(null,84)).then((function(e){var n=new(0,e.default)(window.ContentPlayer);n.init(),t.call(null,n),i.debug("Module ready",{module:"AgeGateUI"})})).catch((function(t){i.error("Failed to load module: ".concat(e),{message:t.message,stack:t.stack})}))},buildAppearanceManager:function(t){n.e(19).then(n.bind(null,110)).then((function(e){var n=new(0,e.default);n.init(),t.call(null,n),i.debug("Module ready",{module:"AppearanceManager"})})).catch((function(t){i.error("Failed to load module: ".concat(e),{message:t.message,stack:t.stack})}))}};t.a=a}).call(this,n(72)(e))},72:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},73:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return _}));var i=n(1),a=n(15),o=n(3),r=n(0),d=n(10);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=new i.a("AD-SESSION"),g=new i.a("LOG-INSIGHTS"),_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(s,e);var t,n,i,a=w(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),p(h(e=a.call(this)),"_startData",null),p(h(e),"_started",!1),p(h(e),"_completed",!1),p(h(e),"_faied",!1),p(h(e),"_aborted",!1),p(h(e),"_adloaded",!1),e}return t=s,(n=[{key:"reset",value:function(){E.info("reset"),this._startData=null,this._started=!1,this._completed=!1,this._failed=!1,this._aborted=!1,this._adloaded=!1}},{key:"getElapsedSecondsSinceStart",value:function(e){try{var t=(e.getTime()-this._startData.start_ts.getTime())/1e3;return parseFloat(t.toFixed(1))}catch(e){return-1}}},{key:"start",value:function(e){E.info("is backfilling? ".concat(e));var t=this;t._started&&E.warn("Previous session is still active"),t._started=!0;var n=window.BoltAdManager;t._startData={timing:n&&n.timing,publisher_id:Object(r.i)()||-1,video_id:window.CurrentVideoConfig.content.videoId||-1,player_width:parseFloat(window.containerWidth.toFixed(2)),player_height:parseFloat(window.containerHeight.toFixed(2)),fullscreen:window.PlayerView.fullscreen,start_ts:new Date,cuepoint:n&&n.cuepoint,server_type:n&&n.selectedServer.type,tag_type:n&&n.selectedServer.tagType,backfilling:e},Object(d.d)(),Object(d.e)("playerWidth",t._startData.player_width),Object(d.e)("playerHeight",t._startData.player_height),void 0!==window.displayBackfill&&(Object(d.e)("displayBackfill.enabled",window.displayBackfill.enabled),window.displayBackfill.reason&&Object(d.e)("displayBackfill.reason",window.displayBackfill.reason)),g.info("Ad session started",{groupName:"1-AdSession",status:"started",serverType:t._startData.server_type,tagType:t._startData.tag_type}),t._dispatchEvent(o.a.Ad.Event.SESSION_START,t._startData)}},{key:"abort",value:function(){var e=this;if(e._started&&!e._aborted){e._aborted=!0,window.BoltAdManager._adSessionCount++;var t=new Date,n={timestamp:t,et_session_start:e.getElapsedSecondsSinceStart(t)};g.warn("Ad session aborted",u({groupName:"1-AdSession",status:"aborted",timeSinceStartSec:e.getElapsedSecondsSinceStart(t)},Object(d.c)())),e._dispatchEvent(o.a.Ad.Event.SESSION_ABORT,n),e.reset(),E.info("Abort")}}},{key:"fail",value:function(){var e=this;if(e._started&&!e._failed){e._failed=!0,window.BoltAdManager._adSessionCount++;var t=new Date,n={timestamp:t,et_session_start:e.getElapsedSecondsSinceStart(t)};E.info("Ad Session failed",{data:n}),g.error("Ad session failed",u({groupName:"1-AdSession",status:"failed",timeSinceStartSec:e.getElapsedSecondsSinceStart(t)},Object(d.c)())),e._dispatchEvent(o.a.Ad.Event.SESSION_FAIL,n),e.reset(),E.info("Fail")}}},{key:"complete",value:function(){var e=this;if(e._started&&!e._completed){e._completed=!0,window.BoltAdManager._adSessionCount++;var t=new Date,n={timestamp:t,et_session_start:e.getElapsedSecondsSinceStart(t)};g.info("Ad session complete",u({groupName:"1-AdSession",status:"succeeded",timeSinceStartSec:e.getElapsedSecondsSinceStart(t)},Object(d.c)())),e._dispatchEvent(o.a.Ad.Event.SESSION_END,n),e.reset(),E.info("Complete")}}}])&&c(t.prototype,n),i&&c(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(a.a)}}]);