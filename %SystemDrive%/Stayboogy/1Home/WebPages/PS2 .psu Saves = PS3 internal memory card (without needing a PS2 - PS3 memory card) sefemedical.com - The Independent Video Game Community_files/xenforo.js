/*! jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */
jQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){var r=t.console;i[n]||(i[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+n),e.migrateTrace&&r.trace&&r.trace()))}function a(t,a,i,o){if(Object.defineProperty)try{return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){return r(o),i},set:function(e){r(o),i=e}}),n}catch(s){}e._definePropertyBroken=!0,t[a]=i}var i={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){i={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var o=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,u=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,d=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;a(e,"attrFn",o||{},"jQuery.attrFn is deprecated"),e.attr=function(t,a,i,u){var c=a.toLowerCase(),g=t&&t.nodeType;return u&&(4>s.length&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(g)&&(o?a in o:e.isFunction(e.fn[a])))?e(t)[a](i):("type"===a&&i!==n&&l.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&p.test(c)&&(e.attrHooks[c]={get:function(t,r){var a,i=e.prop(t,r);return i===!0||"boolean"!=typeof i&&(a=t.getAttributeNode(r))&&a.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var a;return n===!1?e.removeAttr(t,r):(a=e.propFix[r]||r,a in t&&(t[a]=!0),t.setAttribute(r,r.toLowerCase())),r}},f.test(c)&&r("jQuery.fn.attr('"+c+"') may use property instead of attribute")),s.call(e,t,a,i))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?u.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var a=(e.nodeName||"").toLowerCase();return"button"===a?c.apply(this,arguments):("input"!==a&&"option"!==a&&r("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var g,h,v=e.fn.init,m=e.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,a){var i;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(i=y.exec(e.trim(t)))&&i[0]&&("<"!==t.charAt(0)&&r("$(html) HTML strings must start with '<' character"),i[3]&&r("$(html) HTML text after last tag is ignored"),"#"===i[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?v.call(this,e.parseHTML(i[2],n,!0),n,a):v.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?m.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(g=e.uaMatch(navigator.userAgent),h={},g.browser&&(h[g.browser]=!0,h.version=g.version),h.chrome?h.webkit=!0:h.webkit&&(h.safari=!0),e.browser=h),a(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,a){return a&&a instanceof e&&!(a instanceof t)&&(a=t(a)),e.fn.init.call(this,r,a,n)},t.fn.init.prototype=t.fn;var n=t(document);return r("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var a,i,o=this[0];return!o||"events"!==t||1!==arguments.length||(a=e.data(o,t),i=e._data(o,t),a!==n&&a!==i||i===n)?b.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),i)};var j=/\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),w.apply(this,arguments)},e.clean||(e.clean=function(t,a,i,o){a=a||document,a=!a.nodeType&&a[0]||a,a=a.ownerDocument||a,r("jQuery.clean() is deprecated");var s,u,c,l,d=[];if(e.merge(d,e.buildFragment(t,a).childNodes),i)for(c=function(e){return!e.type||j.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):n},s=0;null!=(u=d[s]);s++)e.nodeName(u,"script")&&c(u)||(i.appendChild(u),u.getElementsByTagName!==n&&(l=e.grep(e.merge([],u.getElementsByTagName("script")),c),d.splice.apply(d,[s+1,0].concat(l)),s+=l.length));return d});var Q=e.event.add,x=e.event.remove,k=e.event.trigger,N=e.fn.toggle,T=e.fn.live,M=e.fn.die,S="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",C=RegExp("\\b(?:"+S+")\\b"),H=/(?:^|\s)hover(\.\S+|)\b/,A=function(t){return"string"!=typeof t||e.event.special.hover?t:(H.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(H,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&a(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,a,i){e!==document&&C.test(t)&&r("AJAX events should be attached to document: "+t),Q.call(this,e,A(t||""),n,a,i)},e.event.remove=function(e,t,n,r,a){x.call(this,e,A(t)||"",n,r,a)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return N.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var a=arguments,i=t.guid||e.guid++,o=0,s=function(n){var r=(e._data(this,"lastToggle"+t.guid)||0)%o;return e._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),a[r].apply(this,arguments)||!1};for(s.guid=i;a.length>o;)a[o++].guid=i;return this.click(s)},e.fn.live=function(t,n,a){return r("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,n,a),this)},e.fn.die=function(t,n){return r("jQuery.fn.die() is deprecated"),M?M.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,a){return n||C.test(e)||r("Global events are undocumented and deprecated"),k.call(this,e,t,n||document,a)},e.each(S.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window);

/*
 jQuery Tools dev - The missing UI library for the Web

 dateinput/dateinput.js
 overlay/overlay.js
 overlay/overlay.apple.js
 rangeinput/rangeinput.js
 scrollable/scrollable.js
 scrollable/scrollable.autoscroll.js
 scrollable/scrollable.navigator.js
 tabs/tabs.js
 toolbox/toolbox.expose.js
 toolbox/toolbox.history.js
 toolbox/toolbox.mousewheel.js
 tooltip/tooltip.js
 tooltip/tooltip.slide.js

 NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.

 http://flowplayer.org/tools/

 jquery.event.wheel.js - rev 1
 Copyright (c) 2008, Three Dub Media (http://threedubmedia.com)
 Liscensed under the MIT License (MIT-LICENSE.txt)
 http://www.opensource.org/licenses/mit-license.php
 Created: 2008-07-01 | Updated: 2008-07-14

 -----

*/
(function(a,v){function n(a,b){a=""+a;for(b=b||2;a.length<b;)a="0"+a;return a}function f(a,b,c,d){var g=b.getDate(),e=b.getDay(),k=b.getMonth(),f=b.getFullYear(),g={d:g,dd:n(g),ddd:m[d].shortDays[e],dddd:m[d].days[e],m:k+1,mm:n(k+1),mmm:m[d].shortMonths[k],mmmm:m[d].months[k],yy:String(f).slice(2),yyyy:f};a=h[a](c,b,g,d);return q.html(a).html()}function d(a){return parseInt(a,10)}function c(a,b){return a.getFullYear()===b.getFullYear()&&a.getMonth()==b.getMonth()&&a.getDate()==b.getDate()}function b(a){if(a!==
v){if(a.constructor==Date)return a;if("string"==typeof a){var b=a.split("-");if(3==b.length)return new Date(d(b[0]),d(b[1])-1,d(b[2]));if(!/^-?\d+$/.test(a))return;a=d(a)}b=new Date;b.setDate(b.getDate()+a);return b}}function e(e,h){function k(b,c,d){e.attr("readonly")?l.hide(d):(D=b,L=b.getFullYear(),N=b.getMonth(),M=b.getDate(),d||(d=a.Event("api")),"click"!=d.type||a.browser.msie||e.focus(),d.type="beforeChange",O.trigger(d,[b]),d.isDefaultPrevented()||(e.val(f(c.formatter,b,c.format,c.lang)),
d.type="change",O.trigger(d),e.data("date",b),l.hide(d)))}function w(b){b.type="onShow";O.trigger(b);a(document).on("keydown.d",function(b){if(b.ctrlKey)return!0;var c=b.keyCode;if(8==c||46==c)return e.val(""),l.hide(b);if(27==c||9==c)return l.hide(b);if(0<=a(r).index(c)){if(!G)return l.show(b),b.preventDefault();var d=a("#"+p.weeks+" a"),h=a("."+p.focus),g=d.index(h);h.removeClass(p.focus);74==c||40==c?g+=7:75==c||38==c?g-=7:76==c||39==c?g+=1:72!=c&&37!=c||--g;41<g?(l.addMonth(),h=a("#"+p.weeks+
" a:eq("+(g-42)+")")):0>g?(l.addMonth(-1),h=a("#"+p.weeks+" a:eq("+(g+42)+")")):h=d.eq(g);h.addClass(p.focus);return b.preventDefault()}if(34==c)return l.addMonth();if(33==c)return l.addMonth(-1);if(36==c)return l.today();13==c&&(a(b.target).is("select")||a("."+p.focus).click());return 0<=a([16,17,18,9]).index(c)});a(document).on("click.d",function(b){var c=b.target;c.id==p.root||a(c).parents("#"+p.root).length||c==e[0]||y&&c==y[0]||l.hide(b)})}var l=this,q=new Date,u=q.getFullYear(),p=h.css,n=m[h.lang],
x=a("#"+p.root),F=x.find("#"+p.title),y,H,I,L,N,M,D=e.attr("data-value")||h.value||e.val(),A=e.attr("min")||h.min,E=e.attr("max")||h.max,G,P;0===A&&(A="0");D=b(D)||q;A=b(A||new Date(u+h.yearRange[0],1,1));E=b(E||new Date(u+h.yearRange[1]+1,1,-1));if(!n)throw"Dateinput: invalid language: "+h.lang;"date"==e.attr("type")&&(P=e.clone(),u=P.wrap("<div/>").parent().html(),u=a(u.replace(/type/i,"type=text data-orig-type")),h.value&&u.val(h.value),e.replaceWith(u),e=u);e.addClass(p.input);var O=e.add(l);
if(!x.length){x=a("<div><div><a/><div/><a/></div><div><div/><div/></div></div>").hide().css({position:"absolute"}).attr("id",p.root);x.children().eq(0).attr("id",p.head).end().eq(1).attr("id",p.body).children().eq(0).attr("id",p.days).end().eq(1).attr("id",p.weeks).end().end().end().find("a").eq(0).attr("id",p.prev).end().eq(1).attr("id",p.next);F=x.find("#"+p.head).find("div").attr("id",p.title);if(h.selectors){var J=a("<select/>").attr("id",p.month),K=a("<select/>").attr("id",p.year);F.html(J.add(K))}for(var u=
x.find("#"+p.days),S=0;7>S;S++)u.append(a("<span/>").text(n.shortDays[(S+h.firstDay)%7]));a("body").append(x)}h.trigger&&(y=a("<a/>").attr("href","#").addClass(p.trigger).click(function(a){h.toggle?l.toggle():l.show();return a.preventDefault()}).insertAfter(e));var Q=x.find("#"+p.weeks),K=x.find("#"+p.year),J=x.find("#"+p.month);a.extend(l,{show:function(b){if(!e.attr("disabled")&&!G&&(b=a.Event(),b.type="onBeforeShow",O.trigger(b),!b.isDefaultPrevented())){a.each(g,function(){this.hide()});G=!0;
J.off("change").change(function(){l.setValue(d(K.val()),d(a(this).val()))});K.off("change").change(function(){l.setValue(d(a(this).val()),d(J.val()))});H=x.find("#"+p.prev).off("click").click(function(a){H.hasClass(p.disabled)||l.addMonth(-1);return!1});I=x.find("#"+p.next).off("click").click(function(a){I.hasClass(p.disabled)||l.addMonth();return!1});l.setValue(D);var c=e.offset();/iPad/i.test(navigator.userAgent)&&(c.top-=a(window).scrollTop());x.css({top:c.top+e.outerHeight(!0)+h.offset[0],left:c.left+
h.offset[1]});h.speed?x.show(h.speed,function(){w(b)}):(x.show(),w(b));return l}},setValue:function(g,e,w){var f=-1<=d(e)?new Date(d(g),d(e),d(w==v||isNaN(w)?1:w)):g||D;f<A?f=A:f>E&&(f=E);"string"==typeof g&&(f=b(g));g=f.getFullYear();e=f.getMonth();w=f.getDate();-1==e?(e=11,g--):12==e&&(e=0,g++);if(!G)return k(f,h),l;N=e;L=g;M=w;w=(new Date(g,e,1-h.firstDay)).getDay();var t=(new Date(g,e+1,0)).getDate(),r=(new Date(g,e-1+1,0)).getDate(),u;if(h.selectors){J.empty();a.each(n.months,function(b,c){A<
new Date(g,b+1,1)&&E>new Date(g,b,0)&&J.append(a("<option/>").html(c).attr("value",b))});K.empty();for(var f=q.getFullYear(),m=f+h.yearRange[0];m<f+h.yearRange[1];m++)A<new Date(m+1,0,1)&&E>new Date(m,0,0)&&K.append(a("<option/>").text(m));J.val(e);K.val(g)}else F.html(n.months[e]+" "+g);Q.empty();H.add(I).removeClass(p.disabled);for(var m=w?0:-7,x,y;m<(w?42:35);m++)x=a("<a/>"),0===m%7&&(u=a("<div/>").addClass(p.week),Q.append(u)),m<w?(x.addClass(p.off),y=r-w+m+1,f=new Date(g,e-1,y)):m>=w+t?(x.addClass(p.off),
y=m-t-w+1,f=new Date(g,e+1,y)):(y=m-w+1,f=new Date(g,e,y),c(D,f)?x.attr("id",p.current).addClass(p.focus):c(q,f)&&x.attr("id",p.today)),A&&f<A&&x.add(H).addClass(p.disabled),E&&f>E&&x.add(I).addClass(p.disabled),x.attr("href","#"+y).text(y).data("date",f),u.append(x);Q.find("a").click(function(b){var c=a(this);c.hasClass(p.disabled)||(a("#"+p.current).removeAttr("id"),c.attr("id",p.current),k(c.data("date"),h,b));return!1});p.sunday&&Q.find("."+p.week).each(function(){var b=h.firstDay?7-h.firstDay:
0;a(this).children().slice(b,b+1).addClass(p.sunday)});return l},setMin:function(a,c){A=b(a);c&&D<A&&l.setValue(A);return l},setMax:function(a,c){E=b(a);c&&D>E&&l.setValue(E);return l},today:function(){return l.setValue(q)},addDay:function(a){return this.setValue(L,N,M+(a||1))},addMonth:function(a){a=N+(a||1);var b=(new Date(L,a+1,0)).getDate();return this.setValue(L,a,M<=b?M:b)},addYear:function(a){return this.setValue(L+(a||1),N,M)},destroy:function(){e.add(document).off("click.d keydown.d");x.add(y).remove();
e.removeData("dateinput").removeClass(p.input);P&&e.replaceWith(P)},hide:function(b){if(G){b=a.Event();b.type="onHide";O.trigger(b);if(b.isDefaultPrevented())return;a(document).off("click.d keydown.d");x.hide();G=!1}return l},toggle:function(){return l.isOpen()?l.hide():l.show()},getConf:function(){return h},getInput:function(){return e},getCalendar:function(){return x},getValue:function(a){return a?f(h.formatter,D,a,h.lang):D},isOpen:function(){return G}});a.each(["onBeforeShow","onShow","change",
"onHide"],function(b,c){if(a.isFunction(h[c]))a(l).on(c,h[c]);l[c]=function(b){if(b)a(l).on(c,b);return l}});h.editable||e.on("focus.d click.d",l.show).keydown(function(b){var c=b.keyCode;if(!G&&0<=a(r).index(c))return l.show(b),b.preventDefault();8!=c&&46!=c||e.val("");return b.shiftKey||b.ctrlKey||b.altKey||9==c?!0:b.preventDefault()});b(e.val())&&k(D,h)}a.tools=a.tools||{version:"1.2.8-dev"};var g=[],h={},k,r=[75,76,38,39,74,72,40,37],m={};k=a.tools.dateinput={conf:{format:"mm/dd/yy",formatter:"default",
selectors:!1,yearRange:[-5,5],lang:"en",offset:[0,0],speed:0,firstDay:0,min:v,max:v,trigger:0,toggle:0,editable:0,css:{prefix:"cal",input:"date",root:0,head:0,title:0,prev:0,next:0,month:0,year:0,days:0,body:0,weeks:0,today:0,current:0,week:0,off:0,sunday:0,focus:0,disabled:0,trigger:0}},addFormatter:function(a,b){h[a]=b},localize:function(b,c){a.each(c,function(a,b){c[a]=b.split(",")});m[b]=c}};k.localize("en",{months:"January,February,March,April,May,June,July,August,September,October,November,December",
shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",days:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",shortDays:"Sun,Mon,Tue,Wed,Thu,Fri,Sat"});var q=a("<a/>");k.addFormatter("default",function(a,b,c,d){return a.replace(/d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*'/g,function(a){return a in c?c[a]:a})});k.addFormatter("prefixed",function(a,b,c,d){return a.replace(/%(d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*')/g,function(a,b){return b in c?c[b]:a})});a.expr[":"].date=function(b){var c=
b.getAttribute("type");return c&&"date"==c||!!a(b).data("dateinput")};a.fn.dateinput=function(b){if(this.data("dateinput"))return this;b=a.extend(!0,{},k.conf,b);a.each(b.css,function(a,c){c||"prefix"==a||(b.css[a]=(b.css.prefix||"")+(c||a))});var c;this.each(function(){var d=new e(a(this),b);g.push(d);d=d.getInput().data("dateinput",d);c=c?c.add(d):d});return c?c:this}})(jQuery);
(function(a){function v(d,c){var b=this,e=d.add(b),g=a(window),h,k,r,m=a.tools.expose&&(c.mask||c.expose),q=Math.random().toString().slice(10);m&&("string"==typeof m&&(m={color:m}),m.closeOnClick=m.closeOnEsc=!1);var t=c.target||d.attr("rel");k=t?a(t):d;if(!k.length)throw"Could not find Overlay: "+t;if(d&&-1==d.index(k))d.off("click.jqtoverlay").on("click.jqtoverlay",function(a){if(d.attr("href")&&(a.ctrlKey||a.shiftKey||a.altKey||1<a.which))return!0;b.load(a);return a.preventDefault()});a.extend(b,
{load:function(d){if(b.isOpened())return b;var h=f[c.effect];if(!h)throw'Overlay: cannot find effect : "'+c.effect+'"';c.oneInstance&&a.each(n,function(){this.close(d)});d=d||a.Event();d.type="onBeforeLoad";e.trigger(d);if(d.isDefaultPrevented())return b;r=!0;m&&a(k).expose(m);var w=c.top,l=c.left,t=k.outerWidth(!0),u=k.outerHeight(!0);"string"==typeof w&&(w="center"==w?Math.max((g.height()-u)/2,0):parseInt(w,10)/100*g.height());"center"==l&&(l=Math.max((g.width()-t)/2,0));h[0].call(b,{top:w,left:l},
function(){r&&(d.type="onLoad",e.trigger(d))});if(m&&c.closeOnClick)a.mask.getMask().one("click",b.close);if(c.closeOnClick)a(document).on("click."+q,function(c){a(c.target).parents(k).length||b.close(c)});if(c.closeOnEsc)a(document).on("keydown."+q,function(a){27==a.keyCode&&b.close(a)});return b},close:function(d){if(!b.isOpened())return b;d=a.Event();d.type="onBeforeClose";e.trigger(d);if(!d.isDefaultPrevented())return r=!1,f[c.effect][1].call(b,function(){d.type="onClose";e.trigger(d)}),a(document).off("click."+
q+" keydown."+q),m&&a.mask.close(),b},getOverlay:function(){return k},getTrigger:function(){return d},getClosers:function(){return h},isOpened:function(){return r},getConf:function(){return c}});a.each(["onBeforeLoad","onStart","onLoad","onBeforeClose","onClose"],function(d,g){if(a.isFunction(c[g]))a(b).on(g,c[g]);b[g]=function(c){if(c)a(b).on(g,c);return b}});h=k.find(c.close||".close");h.length||c.close||(h=a('<a class="close"></a>'),k.prepend(h));h.click(function(a){b.close(a)});c.load&&b.load()}
a.tools=a.tools||{version:"1.2.8-dev"};a.tools.overlay={addEffect:function(a,c,b){f[a]=[c,b]},conf:{close:null,closeOnClick:!0,closeOnEsc:!0,closeSpeed:"fast",effect:"default",fixed:!a.browser.msie||6<a.browser.version,left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var n=[],f={};a.tools.overlay.addEffect("default",function(d,c){var b=this.getConf(),e=a(window);b.fixed||(d.top+=e.scrollTop(),d.left+=e.scrollLeft());d.position=b.fixed?"fixed":"absolute";this.getOverlay().css(d).fadeIn(b.speed,
c)},function(a){this.getOverlay().fadeOut(this.getConf().closeSpeed,a)});a.fn.overlay=function(d){var c=this.data("overlay");if(c)return c;a.isFunction(d)&&(d={onBeforeLoad:d});d=a.extend(!0,{},a.tools.overlay.conf,d);this.each(function(){c=new v(a(this),d);n.push(c);a(this).data("overlay",c)});return d.api?c:this}})(jQuery);
(function(a){function v(a){var c=a.offset();return{top:c.top+a.height()/2,left:c.left+a.width()/2}}var n=a.tools.overlay,f=a(window);a.extend(n.conf,{start:{top:null,left:null},fadeInSpeed:"fast",zIndex:9999});n.addEffect("apple",function(d,c){var b=this.getOverlay(),e=this.getConf(),g=this.getTrigger(),h=this,k=b.outerWidth(!0),r=b.data("img"),m=e.fixed?"fixed":"absolute";if(!r){r=b.css("backgroundImage");if(!r)throw"background-image CSS property not set for overlay";r=r.slice(r.indexOf("(")+1,r.indexOf(")")).replace(/\"/g,
"");b.css("backgroundImage","none");r=a('<img src="'+r+'"/>');r.css({border:0,display:"none"}).width(k);a("body").append(r);b.data("img",r)}var q=e.start.top||Math.round(f.height()/2),t=e.start.left||Math.round(f.width()/2);g&&(g=v(g),q=g.top,t=g.left);e.fixed?(q-=f.scrollTop(),t-=f.scrollLeft()):(d.top+=f.scrollTop(),d.left+=f.scrollLeft());r.css({position:"absolute",top:q,left:t,width:0,zIndex:e.zIndex}).show();d.position=m;b.css(d);r.animate({top:d.top,left:d.left,width:k},e.speed,function(){b.css("zIndex",
e.zIndex+1).fadeIn(e.fadeInSpeed,function(){h.isOpened()&&!a(this).index(b)?c.call():b.hide()})}).css("position",m)},function(d){var c=this.getOverlay().hide(),b=this.getConf(),e=this.getTrigger(),c=c.data("img"),g={top:b.start.top,left:b.start.left,width:0};e&&a.extend(g,v(e));b.fixed&&c.css({position:"absolute"}).animate({top:"+="+f.scrollTop(),left:"+="+f.scrollLeft()},0);c.animate(g,b.closeSpeed,d)})})(jQuery);
(function(a){function v(a,b){var c=Math.pow(10,b);return Math.round(a*c)/c}function n(a,b){var c=parseInt(a.css(b),10);return c?c:(c=a[0].currentStyle)&&c.width&&parseInt(c.width,10)}function f(a){return(a=a.data("events"))&&a.onSlide}function d(b,c){function d(a,e,f,l){void 0===f?f=e/C*R:l&&(f-=c.min);x&&(f=Math.round(f/x)*x);if(void 0===e||x)e=f*C/R;if(isNaN(f))return q;e=Math.max(0,Math.min(e,C));f=e/C*R;if(l||!B)f+=c.min;B&&(l?e=C-e:f=c.max-f);f=v(f,F);var k="click"==a.type;if(I&&void 0!==w&&
!k&&(a.type="onSlide",H.trigger(a,[f,e]),a.isDefaultPrevented()))return q;l=k?c.speed:0;k=k?function(){a.type="change";H.trigger(a,[f])}:null;B?(u.animate({top:e},l,k),c.progress&&p.animate({height:C-e+u.height()/2},l)):(u.animate({left:e},l,k),c.progress&&p.animate({width:e+u.width()/2},l));w=f;b.val(f);return q}function e(){(B=c.vertical||n(z,"height")>n(z,"width"))?(C=n(z,"height")-n(u,"height"),l=z.offset().top+C):(C=n(z,"width")-n(u,"width"),l=z.offset().left)}function m(){e();q.setValue(void 0!==
c.value?c.value:c.min)}var q=this,t=c.css,z=a("<div><div/><a href='#'/></div>").data("rangeinput",q),B,w,l,C;b.before(z);var u=z.addClass(t.slider).find("a").addClass(t.handle),p=z.find("div").addClass(t.progress);a.each(["min","max","step","value"],function(a,d){var e=b.attr(d);parseFloat(e)&&(c[d]=parseFloat(e,10))});var R=c.max-c.min,x="any"==c.step?0:c.step,F=c.precision;void 0===F&&(F=x.toString().split("."),F=2===F.length?F[1].length:0);if("range"==b.attr("type")){var y=b.clone().wrap("<div/>").parent().html(),
y=a(y.replace(/type/i,"type=text data-orig-type"));y.val(c.value);b.replaceWith(y);b=y}b.addClass(t.input);var H=a(q).add(b),I=!0;a.extend(q,{getValue:function(){return w},setValue:function(b,c){e();return d(c||a.Event("api"),void 0,b,!0)},getConf:function(){return c},getProgress:function(){return p},getHandle:function(){return u},getInput:function(){return b},step:function(b,d){d=d||a.Event();q.setValue(w+("any"==c.step?1:c.step)*(b||1),d)},stepUp:function(a){return q.step(a||1)},stepDown:function(a){return q.step(-a||
-1)}});a.each(["onSlide","change"],function(b,d){if(a.isFunction(c[d]))a(q).on(d,c[d]);q[d]=function(b){if(b)a(q).on(d,b);return q}});u.drag({drag:!1}).on("dragStart",function(){e();I=f(a(q))||f(b)}).on("drag",function(a,c,e){if(b.is(":disabled"))return!1;d(a,B?c:e)}).on("dragEnd",function(a){a.isDefaultPrevented()||(a.type="change",H.trigger(a,[w]))}).click(function(a){return a.preventDefault()});z.click(function(a){if(b.is(":disabled")||a.target==u[0])return a.preventDefault();e();var c=B?u.height()/
2:u.width()/2;d(a,B?C-l-c+a.pageY:a.pageX-l-c)});c.keyboard&&b.keydown(function(c){if(!b.attr("readonly")){var d=c.keyCode,e=-1!=a([75,76,38,33,39]).index(d),h=-1!=a([74,72,40,34,37]).index(d);if((e||h)&&!(c.shiftKey||c.altKey||c.ctrlKey))return e?q.step(33==d?10:1,c):h&&q.step(34==d?-10:-1,c),c.preventDefault()}});b.blur(function(b){var c=a(this).val();c!==w&&q.setValue(c,b)});a.extend(b[0],{stepUp:q.stepUp,stepDown:q.stepDown});m();C||a(window).load(m)}a.tools=a.tools||{version:"1.2.8-dev"};var c;
c=a.tools.rangeinput={conf:{min:0,max:100,step:"any",steps:0,value:0,precision:void 0,vertical:0,keyboard:!0,progress:!1,speed:100,css:{input:"range",slider:"slider",progress:"progress",handle:"handle"}}};var b,e;a.fn.drag=function(c){document.ondragstart=function(){return!1};c=a.extend({x:!0,y:!0,drag:!0},c);b=b||a(document).on("mousedown mouseup",function(d){var f=a(d.target);if("mousedown"==d.type&&f.data("drag")){var r=f.position(),m=d.pageX-r.left,q=d.pageY-r.top,t=!0;b.on("mousemove.drag",function(a){var b=
a.pageX-m;a=a.pageY-q;var d={};c.x&&(d.left=b);c.y&&(d.top=a);t&&(f.trigger("dragStart"),t=!1);c.drag&&f.css(d);f.trigger("drag",[a,b]);e=f});d.preventDefault()}else try{e&&e.trigger("dragEnd")}finally{b.off("mousemove.drag"),e=null}});return this.data("drag",!0)};a.expr[":"].range=function(b){var c=b.getAttribute("type");return c&&"range"==c||!!a(b).filter("input").data("rangeinput")};a.fn.rangeinput=function(b){if(this.data("rangeinput"))return this;b=a.extend(!0,{},c.conf,b);var e;this.each(function(){var c=
new d(a(this),a.extend(!0,{},b)),c=c.getInput().data("rangeinput",c);e=e?e.add(c):c});return e?e:this}})(jQuery);
(function(a){function v(d,c){var b=a(c);return 2>b.length?b:d.parent().find(c)}function n(d,c){var b=this,e=d.add(b),g=d.children(),h=0,k=c.vertical;f||(f=b);1<g.length&&(g=a(c.items,d));1<c.size&&(c.circular=!1);a.extend(b,{getConf:function(){return c},getIndex:function(){return h},getSize:function(){return b.getItems().size()},getNaviButtons:function(){return q.add(t)},getRoot:function(){return d},getItemWrap:function(){return g},getItems:function(){return g.find(c.item).not("."+c.clonedClass)},
getCircularClones:function(){return g.find(c.item).filter("."+c.clonedClass)},move:function(a,c){return b.seekTo(h+a,c)},next:function(a){return b.move(c.size,a)},prev:function(a){return b.move(-c.size,a)},begin:function(a){return b.seekTo(0,a)},end:function(a){return b.seekTo(b.getSize()-1,a)},focus:function(){return f=b},addItem:function(d){d=a(d);c.circular?(g.children().last().before(d),b.getCircularClones().first().replaceWith(d.clone().addClass(c.clonedClass))):(g.append(d),t.removeClass("disabled"));
e.trigger("onAddItem",[d]);return b},removeItem:function(a){e.trigger("onRemoveItem",[a]);var d=b.getItems(),g;a.jquery?b.getItems().index(g):(g=1*a,a=b.getItems().eq(g));c.circular?(a.remove(),d=b.getItems(),a=b.getCircularClones(),a.first().replaceWith(d.last().clone().addClass("cloned")),a.last().replaceWith(d.first().clone().addClass("cloned"))):(a.remove(),b.getItems());h>=b.getSize()&&(--h,b.move(1));return b},seekTo:function(d,l,q){d.jquery||(d*=1);if(c.circular&&0===d&&-1==h&&0!==l||!c.circular&&
0>d||d>b.getSize()||-1>d)return b;var m=d;d.jquery?d=b.getItems().index(d):m=b.getItems().eq(d);var t=a.Event("onBeforeSeek");if(!q&&(e.trigger(t,[d,l]),t.isDefaultPrevented()||!m.length))return b;m=k?{top:-m.position().top}:{left:-m.position().left};h=d;f=b;void 0===l&&(l=c.speed);g.animate(m,l,c.easing,q||function(){e.trigger("onSeek",[d])});return b}});a.each(["onBeforeSeek","onSeek","onAddItem","onRemoveItem"],function(d,e){if(a.isFunction(c[e]))a(b).on(e,c[e]);b[e]=function(c){if(c)a(b).on(e,
c);return b}});if(c.circular){var r=b.getItems().slice(-1).clone().prependTo(g),m=b.getItems().eq(1).clone().appendTo(g);r.add(m).addClass(c.clonedClass);b.onBeforeSeek(function(a,c,d){if(!a.isDefaultPrevented()){var e=b.getCircularClones();if(-1==c)return b.seekTo(e.first(),d,function(){b.end(0)}),a.preventDefault();c==b.getSize()&&b.seekTo(e.last(),d,function(){b.begin(0)})}});r=d.parents().add(d).filter(function(){if("none"===a(this).css("display"))return!0});r.length?(r.show(),b.seekTo(0,0,function(){}),
r.hide()):b.seekTo(0,0,function(){})}var q=v(d,c.prev).click(function(a){a.stopPropagation();b.prev()}),t=v(d,c.next).click(function(a){a.stopPropagation();b.next()});c.circular||(b.onBeforeSeek(function(a,d){setTimeout(function(){a.isDefaultPrevented()||(q.toggleClass(c.disabledClass,0>=d),t.toggleClass(c.disabledClass,d>=b.getSize()-1))},1)}),c.initialIndex||q.addClass(c.disabledClass));2>b.getSize()&&q.add(t).addClass(c.disabledClass);c.mousewheel&&a.fn.mousewheel&&d.mousewheel(function(a,d){if(c.mousewheel)return b.move(0>
d?1:-1,c.wheelSpeed||50),!1});if(c.touch){var n,B;g[0].ontouchstart=function(a){a=a.touches[0];n=a.clientX;B=a.clientY};g[0].ontouchmove=function(a){if(1==a.touches.length&&!g.is(":animated")){var c=a.touches[0],d=n-c.clientX,c=B-c.clientY;b[k&&0<c||!k&&0<d?"next":"prev"]();a.preventDefault()}}}if(c.keyboard)a(document).on("keydown.scrollable",function(d){if(!(!c.keyboard||d.altKey||d.ctrlKey||d.metaKey||a(d.target).is(":input")||"static"!=c.keyboard&&f!=b)){var e=d.keyCode;if(k&&(38==e||40==e))return b.move(38==
e?-1:1),d.preventDefault();if(!k&&(37==e||39==e))return b.move(37==e?-1:1),d.preventDefault()}});c.initialIndex&&b.seekTo(c.initialIndex,0,function(){})}a.tools=a.tools||{version:"1.2.8-dev"};a.tools.scrollable={conf:{activeClass:"active",circular:!1,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:"> *",items:".items",keyboard:!0,mousewheel:!1,next:".next",prev:".prev",size:1,speed:400,vertical:!1,touch:!0,wheelSpeed:0}};var f;a.fn.scrollable=function(d){var c=this.data("scrollable");
if(c)return c;d=a.extend({},a.tools.scrollable.conf,d);this.each(function(){c=new n(a(this),d);a(this).data("scrollable",c)});return d.api?c:this}})(jQuery);
(function(a){var v=a.tools.scrollable;v.autoscroll={conf:{autoplay:!0,interval:3E3,autopause:!0}};a.fn.autoscroll=function(n){"number"==typeof n&&(n={interval:n});var f=a.extend({},v.autoscroll.conf,n),d;this.each(function(){function c(){g&&clearTimeout(g);g=setTimeout(function(){b.next()},f.interval)}var b=a(this).data("scrollable"),e=b.getRoot(),g,h=!1;b&&(d=b);b.play=function(){g||(h=!1,e.on("onSeek",c),c())};b.hoverPlay=function(){h||b.play()};b.pause=function(){g=clearTimeout(g);e.off("onSeek",
c)};b.resume=function(){h||b.play()};b.stop=function(){h=!0;b.pause()};f.autopause&&e.add(b.getNaviButtons()).hover(b.pause,b.resume);f.autoplay&&b.play();b.onRemoveItem(function(a,c){2>=b.getSize()&&b.stop()})});return f.api?d:this}})(jQuery);
(function(a){function v(f,d){var c=a(d);return 2>c.length?c:f.parent().find(d)}var n=a.tools.scrollable;n.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:!1,idPrefix:null,history:!1}};a.fn.navigator=function(f){"string"==typeof f&&(f={navi:f});f=a.extend({},n.navigator.conf,f);var d;this.each(function(){function c(){return g.find(f.naviItem||"> *")}function b(b){var c=a("<"+(f.naviItem||"a")+"/>").click(function(c){a(this);e.seekTo(b);c.preventDefault();n&&history.pushState({i:b},
"")});0===b&&c.addClass(k);f.indexed&&c.text(b+1);f.idPrefix&&c.attr("id",f.idPrefix+b);return c.appendTo(g)}var e=a(this).data("scrollable"),g=f.navi.jquery?f.navi:v(e.getRoot(),f.navi),h=e.getNaviButtons(),k=f.activeClass,n=f.history&&!!history.pushState,m=e.getConf().size;e&&(d=e);e.getNaviButtons=function(){return h.add(g)};n&&(history.pushState({i:0},""),a(window).on("popstate",function(a){(a=a.originalEvent.state)&&e.seekTo(a.i)}));c().length?c().click(function(b){a(this);var d=c().index(this);
e.seekTo(d);b.preventDefault();n&&history.pushState({i:d},"")}):a.each(e.getItems(),function(a){0==a%m&&b(a)});e.onBeforeSeek(function(a,b){setTimeout(function(){if(!a.isDefaultPrevented()){var d=b/m;c().eq(d).length&&c().removeClass(k).eq(d).addClass(k)}},1)});e.onAddItem(function(a,c){var d=e.getItems().index(c);0==d%m&&b(d)});e.onRemoveItem(function(a,b){var d=e.getItems().index(b);c().eq(d).remove();c().removeClass(k).eq(d<e.getSize()-1?d:0).addClass(k)})});return f.api?d:this}})(jQuery);
(function(a){function v(c,b,d){var g=this,f=c.add(this),k=c.find(d.tabs),r=b.jquery?b:c.children(b),m;k.length||(k=c.children());r.length||(r=c.parent().find(b));r.length||(r=a(b));a.extend(this,{click:function(b,t){var r=k.eq(b),v=!c.data("tabs");"string"==typeof b&&b.replace("#","")&&(r=k.filter('[href*="'+b.replace("#","")+'"]'),b=Math.max(k.index(r),0));if(d.rotate){var w=k.length-1;if(0>b)return g.click(w,t);if(b>w)return g.click(0,t)}if(!r.length){if(0<=m)return g;b=d.initialIndex;r=k.eq(b)}if(b===
m)return g;t=t||a.Event();t.type="onBeforeClick";f.trigger(t,[b]);if(!t.isDefaultPrevented())return n[v?d.initialEffect&&d.effect||"default":d.effect].call(g,b,function(){m=b;t.type="onClick";f.trigger(t,[b])}),k.removeClass(d.current),r.addClass(d.current),g},getConf:function(){return d},getTabs:function(){return k},getPanes:function(){return r},getCurrentPane:function(){return r.eq(m)},getCurrentTab:function(){return k.eq(m)},getIndex:function(){return m},next:function(){return g.click(m+1)},prev:function(){return g.click(m-
1)},destroy:function(){k.off(d.event).removeClass(d.current);r.find('a[href^="#"]').off("click.T");return g}});a.each(["onBeforeClick","onClick"],function(b,c){if(a.isFunction(d[c]))a(g).on(c,d[c]);g[c]=function(b){if(b)a(g).on(c,b);return g}});d.history&&a.fn.history&&(a.tools.history.init(k),d.event="history");k.each(function(b){a(this).on(d.event,function(a){g.click(b,a);return a.preventDefault()})});r.find('a[href^="#"]').on("click.T",function(b){g.click(a(this).attr("href"),b)});location.hash&&
"a"==d.tabs&&c.find('[href="'+location.hash.replace('"',"")+'"]').length?g.click(location.hash):(0===d.initialIndex||0<d.initialIndex)&&g.click(d.initialIndex)}a.tools=a.tools||{version:"1.2.8-dev"};a.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialEffect:!1,initialIndex:0,event:"click",rotate:!1,slideUpSpeed:400,slideDownSpeed:400,history:!1},addEffect:function(a,b){n[a]=b}};var n={"default":function(a,b){this.getPanes().hide().eq(a).show();b.call()},
fade:function(a,b){var d=this.getConf(),g=d.fadeOutSpeed,f=this.getPanes();g?f.fadeOut(g):f.hide();f.eq(a).fadeIn(d.fadeInSpeed,b)},slide:function(a,b){var d=this.getConf();this.getPanes().slideUp(d.slideUpSpeed);this.getPanes().eq(a).slideDown(d.slideDownSpeed,b)},ajax:function(a,b){this.getPanes().eq(0).load(this.getTabs().eq(a).attr("href"),b)}},f,d;a.tools.tabs.addEffect("horizontal",function(c,b){if(!f){var e=this.getPanes().eq(c),g=this.getCurrentPane();d||(d=this.getPanes().eq(0).width());
f=!0;e.show();g.animate({width:0},{step:function(a){e.css("width",d-a)},complete:function(){a(this).hide();b.call();f=!1}});g.length||(b.call(),f=!1)}});a.fn.tabs=function(c,b){var d=this.data("tabs");d&&(d.destroy(),this.removeData("tabs"));a.isFunction(b)&&(b={onBeforeClick:b});b=a.extend({},a.tools.tabs.conf,b);this.each(function(){d=new v(a(this),c,b);a(this).data("tabs",d)});return b.api?d:this}})(jQuery);
(function(a){function v(){if(a.browser.msie){var b=a(document).height(),c=a(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,20>b-c?c:b]}return[a(document).width(),a(document).height()]}function n(b){if(b)return b.call(a.mask)}a.tools=a.tools||{version:"1.2.8-dev"};var f;f=a.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:!0,closeOnEsc:!0,zIndex:9998,opacity:.8,startOpacity:0,color:"#fff",onLoad:null,
onClose:null}};var d,c,b,e,g;a.mask={load:function(h,k){if(b)return this;"string"==typeof h&&(h={color:h});h=h||e;e=h=a.extend(a.extend({},f.conf),h);d=a("#"+h.maskId);d.length||(d=a("<div/>").attr("id",h.maskId),a("body").append(d));var r=v();d.css({position:"absolute",top:0,left:0,width:r[0],height:r[1],display:"none",opacity:h.startOpacity,zIndex:h.zIndex});h.color&&d.css("backgroundColor",h.color);if(!1===n(h.onBeforeLoad))return this;if(h.closeOnEsc)a(document).on("keydown.mask",function(b){27==
b.keyCode&&a.mask.close(b)});if(h.closeOnClick)d.on("click.mask",function(b){a.mask.close(b)});a(window).on("resize.mask",function(){a.mask.fit()});k&&k.length&&(g=k.eq(0).css("zIndex"),a.each(k,function(){var b=a(this);/relative|absolute|fixed/i.test(b.css("position"))||b.css("position","relative")}),c=k.css({zIndex:Math.max(h.zIndex+1,"auto"==g?0:g)}));d.css({display:"block"}).fadeTo(h.loadSpeed,h.opacity,function(){a.mask.fit();n(h.onLoad);b="full"});b=!0;return this},close:function(){if(b){if(!1===
n(e.onBeforeClose))return this;d.fadeOut(e.closeSpeed,function(){c&&c.css({zIndex:g});b=!1;n(e.onClose)});a(document).off("keydown.mask");d.off("click.mask");a(window).off("resize.mask")}return this},fit:function(){if(b){var a=d.css("display");d.css("display","none");var c=v();d.css({display:a,width:c[0],height:c[1]})}},getMask:function(){return d},isLoaded:function(a){return a?"full"==b:b},getConf:function(){return e},getExposed:function(){return c}};a.fn.mask=function(b){a.mask.load(b);return this};
a.fn.expose=function(b){a.mask.load(b,this);return this}})(jQuery);
(function(a){function v(a){if(a){var c=f.contentWindow.document;c.open().close();c.location.hash=a}}var n,f,d,c;a.tools=a.tools||{version:"1.2.8-dev"};a.tools.history={init:function(b){c||(a.browser.msie&&"8">a.browser.version?f||(f=a("<iframe/>").attr("src","javascript:false;").hide().get(0),a("body").append(f),setInterval(function(){var b=f.contentWindow.document.location.hash;n!==b&&a(window).trigger("hash",b)},100),v(location.hash||"#")):setInterval(function(){var b=location.hash;b!==n&&a(window).trigger("hash",
b)},100),d=d?d.add(b):b,b.click(function(b){var c=a(this).attr("href");f&&v(c);if("#"!=c.slice(0,1))return location.href="#"+c,b.preventDefault()}),c=!0)}};a(window).on("hash",function(b,c){c?d.filter(function(){var b=a(this).attr("href");return b==c||b==c.replace("#","")}).trigger("history",[c]):d.eq(0).trigger("history",[c]);n=c});a.fn.history=function(b){a.tools.history.init(this);return this.on("history",b)}})(jQuery);
(function(a){function v(f){switch(f.type){case "mousemove":return a.extend(f.data,{clientX:f.clientX,clientY:f.clientY,pageX:f.pageX,pageY:f.pageY});case "DOMMouseScroll":a.extend(f,f.data);f.delta=-f.detail/3;break;case "mousewheel":f.delta=f.wheelDelta/120}f.type="wheel";return a.event.handle.call(this,f,f.delta)}a.fn.mousewheel=function(a){return this[a?"on":"trigger"]("wheel",a)};a.event.special.wheel={setup:function(){a.event.add(this,n,v,{})},teardown:function(){a.event.remove(this,n,v)}};var n=
a.browser.mozilla?"DOMMouseScroll"+("1.9">a.browser.version?" mousemove":""):"mousewheel"})(jQuery);
(function(a){function v(d,c,b){var e=b.relative?d.position().top:d.offset().top,g=b.relative?d.position().left:d.offset().left,f=b.position[0],e=e-(c.outerHeight()-b.offset[0]),g=g+(d.outerWidth()+b.offset[1]);/iPad/i.test(navigator.userAgent)&&(e-=a(window).scrollTop());var k=c.outerHeight()+d.outerHeight();"center"==f&&(e+=k/2);"bottom"==f&&(e+=k);f=b.position[1];d=c.outerWidth()+d.outerWidth();"center"==f&&(g-=d/2);"left"==f&&(g-=d);return{top:e,left:g}}function n(d,c){var b=this,e=d.add(b),g,
h=0,k=0,n=d.attr("title"),m=d.attr("data-tooltip"),q=f[c.effect],t,z=d.is(":input"),B=z&&d.is(":checkbox, :radio, select, :button, :submit"),w=d.attr("type"),l=c.events[w]||c.events[z?B?"widget":"input":"def"];if(!q)throw'Nonexistent effect "'+c.effect+'"';l=l.split(/,\s*/);if(2!=l.length)throw"Tooltip: bad events configuration for "+w;d.on(l[0],function(a){clearTimeout(h);c.predelay?k=setTimeout(function(){b.show(a)},c.predelay):b.show(a)}).on(l[1],function(a){clearTimeout(k);c.delay?h=setTimeout(function(){b.hide(a)},
c.delay):b.hide(a)});n&&c.cancelDefault&&(d.removeAttr("title"),d.data("title",n));a.extend(b,{show:function(f){if(!g&&(m?g=a(m):c.tip?g=a(c.tip).eq(0):n?g=a(c.layout).addClass(c.tipClass).appendTo(document.body).hide().append(n):(g=d.find("."+c.tipClass),g.length||(g=d.next()),g.length||(g=d.parent().next())),!g.length))throw"Cannot find tooltip for "+d;if(b.isShown())return b;g.stop(!0,!0);var u=v(d,g,c);c.tip&&g.html(d.data("title"));f=a.Event();f.type="onBeforeShow";e.trigger(f,[u]);if(f.isDefaultPrevented())return b;
u=v(d,g,c);g.css({position:"absolute",top:u.top,left:u.left});t=!0;q[0].call(b,function(){f.type="onShow";t="full";e.trigger(f)});u=c.events.tooltip.split(/,\s*/);if(!g.data("__set")){g.off(u[0]).on(u[0],function(){clearTimeout(h);clearTimeout(k)});if(u[1]&&!d.is("input:not(:checkbox, :radio), textarea"))g.off(u[1]).on(u[1],function(a){a.relatedTarget!=d[0]&&d.trigger(l[1].split(" ")[0])});c.tip||g.data("__set",!0)}return b},hide:function(d){if(!g||!b.isShown())return b;d=a.Event();d.type="onBeforeHide";
e.trigger(d);if(!d.isDefaultPrevented())return t=!1,f[c.effect][1].call(b,function(){d.type="onHide";e.trigger(d)}),b},isShown:function(a){return a?"full"==t:t},getConf:function(){return c},getTip:function(){return g},getTrigger:function(){return d}});a.each(["onHide","onBeforeShow","onShow","onBeforeHide"],function(d,e){if(a.isFunction(c[e]))a(b).on(e,c[e]);b[e]=function(c){if(c)a(b).on(e,c);return b}})}a.tools=a.tools||{version:"1.2.8-dev"};a.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",
predelay:0,delay:30,opacity:1,tip:0,fadeIE:!1,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(a,c,b){f[a]=[c,b]}};var f={toggle:[function(a){var c=this.getConf(),b=this.getTip(),c=c.opacity;1>c&&b.css({opacity:c});b.show();a.call()},function(a){this.getTip().hide();a.call()}],fade:[function(d){var c=
this.getConf();!a.browser.msie||c.fadeIE?this.getTip().fadeTo(c.fadeInSpeed,c.opacity,d):(this.getTip().show(),d())},function(d){var c=this.getConf();!a.browser.msie||c.fadeIE?this.getTip().fadeOut(c.fadeOutSpeed,d):(this.getTip().hide(),d())}]};a.fn.tooltip=function(d){d=a.extend(!0,{},a.tools.tooltip.conf,d);"string"==typeof d.position&&(d.position=d.position.split(/,?\s/));this.each(function(){a(this).data("tooltip")||(api=new n(a(this),d),a(this).data("tooltip",api))});return d.api?api:this}})(jQuery);
(function(a){var v=a.tools.tooltip;a.extend(v.conf,{direction:"up",bounce:!1,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!a.browser.msie});var n={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};v.addEffect("slide",function(a){var d=this.getConf(),c=this.getTip(),b=d.slideFade?{opacity:d.opacity}:{},e=n[d.direction]||n.up;b[e[1]]=e[0]+"="+d.slideOffset;d.slideFade&&c.css({opacity:0});c.show().animate(b,d.slideInSpeed,a)},function(f){var d=this.getConf(),c=d.slideOffset,
b=d.slideFade?{opacity:0}:{},e=n[d.direction]||n.up,g=""+e[0];d.bounce&&(g="+"==g?"-":"+");b[e[1]]=g+"="+c;this.getTip().animate(b,d.slideOutSpeed,function(){a(this).hide();f.call()})})})(jQuery);

/**
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - jQuery Easing
 *
 * Open source under the BSD License.
 *
 * Copyright © 2008 George McGinley Smith
 * All rights reserved.
 *
 * TERMS OF USE - EASING EQUATIONS
 *
 * Open source under the BSD License.
 *
 * Copyright © 2001 Robert Penner
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice, this list of
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list
 * of conditions and the following disclaimer in the documentation and/or other materials
 * provided with the distribution.
 *
 * Neither the name of the author nor the names of contributors may be used to endorse
 * or promote products derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 *
*/
jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,f,a,h,g){return jQuery.easing[jQuery.easing.def](e,f,a,h,g)},easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e},easeOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e},easeInOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k/2)==2){return e+l}if(!j){j=k*(0.3*1.5)}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+e},easeInBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}});

/**
* hoverIntent r5 // 2007.03.27 // jQuery 1.1.2+
* <http://cherne.net/brian/resources/jquery.hoverIntent.html>
*
* @param  f  onMouseOver function || An object with configuration options
* @param  g  onMouseOut function  || Nothing (use configuration options object)
* @author    Brian Cherne <brian@cherne.net>
*/
(function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY;};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).unbind("mousemove",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev]);}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev]);};var handleHover=function(e){var p=(e.type=="mouseover"?e.fromElement:e.toElement)||e.relatedTarget;while(p&&p!=this){try{p=p.parentNode;}catch(e){p=this;}}if(p==this){return false;}var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);}if(e.type=="mouseover"){pX=ev.pageX;pY=ev.pageY;$(ob).bind("mousemove",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}}else{$(ob).unbind("mousemove",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob);},cfg.timeout);}}};return this.mouseover(handleHover).mouseout(handleHover);};})(jQuery);

/*
 * jQuery Color Animations
 * Copyright 2007 John Resig
 * Released under the MIT and GPL licenses.
 */
(function(d){d.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(f,e){d.fx.step[e]=function(g){if(g.state==0){g.start=c(g.elem,e);g.end=b(g.end)}g.elem.style[e]="rgb("+[Math.max(Math.min(parseInt((g.pos*(g.end[0]-g.start[0]))+g.start[0]),255),0),Math.max(Math.min(parseInt((g.pos*(g.end[1]-g.start[1]))+g.start[1]),255),0),Math.max(Math.min(parseInt((g.pos*(g.end[2]-g.start[2]))+g.start[2]),255),0)].join(",")+")"}});function b(f){var e;if(f&&f.constructor==Array&&f.length==3){return f}if(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(f)){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}if(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(f)){return[parseFloat(e[1])*2.55,parseFloat(e[2])*2.55,parseFloat(e[3])*2.55]}if(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(f)){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}if(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(f)){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}return a[d.trim(f).toLowerCase()]}function c(g,e){var f;do{f=d.curCSS(g,e);if(f!=""&&f!="transparent"||d.nodeName(g,"body")){break}e="backgroundColor"}while(g=g.parentNode);return b(f)}var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);

/**
 * @license Rangy Inputs, a jQuery plug-in for selection and caret manipulation within textareas and text inputs.
 *
 * https://github.com/timdown/rangyinputs
 *
 * For range and selection features for contenteditable, see Rangy.

 * http://code.google.com/p/rangy/
 *
 * Depends on jQuery 1.0 or later.
 *
 * Copyright 2013, Tim Down
 * Licensed under the MIT license.
 * Version: 1.1.2
 * Build date: 6 September 2013
 */
!function(a){function l(a,b){var c=typeof a[b];return"function"===c||!("object"!=c||!a[b])||"unknown"==c}function m(a,c){return typeof a[c]!=b}function n(a,b){return!("object"!=typeof a[b]||!a[b])}function o(a){window.console&&window.console.log&&window.console.log("RangyInputs not supported in your browser. Reason: "+a)}function p(a,c,d){return 0>c&&(c+=a.value.length),typeof d==b&&(d=c),0>d&&(d+=a.value.length),{start:c,end:d}}function q(a,b,c){return{start:b,end:c,length:c-b,text:a.value.slice(b,c)}}function r(){return n(document,"body")?document.body:document.getElementsByTagName("body")[0]}var c,d,e,f,g,h,i,j,k,b="undefined";a(document).ready(function(){function v(a,b){return function(){var c=this.jquery?this[0]:this,d=c.nodeName.toLowerCase();if(1==c.nodeType&&("textarea"==d||"input"==d&&"text"==c.type)){var e=[c].concat(Array.prototype.slice.call(arguments)),f=a.apply(this,e);if(!b)return f}return b?this:void 0}}var s=document.createElement("textarea");if(r().appendChild(s),m(s,"selectionStart")&&m(s,"selectionEnd"))c=function(a){var b=a.selectionStart,c=a.selectionEnd;return q(a,b,c)},d=function(a,b,c){var d=p(a,b,c);a.selectionStart=d.start,a.selectionEnd=d.end},k=function(a,b){b?a.selectionEnd=a.selectionStart:a.selectionStart=a.selectionEnd};else{if(!(l(s,"createTextRange")&&n(document,"selection")&&l(document.selection,"createRange")))return r().removeChild(s),o("No means of finding text input caret position"),void 0;c=function(a){var d,e,f,g,b=0,c=0,h=document.selection.createRange();return h&&h.parentElement()==a&&(f=a.value.length,d=a.value.replace(/\r\n/g,"\n"),e=a.createTextRange(),e.moveToBookmark(h.getBookmark()),g=a.createTextRange(),g.collapse(!1),e.compareEndPoints("StartToEnd",g)>-1?b=c=f:(b=-e.moveStart("character",-f),b+=d.slice(0,b).split("\n").length-1,e.compareEndPoints("EndToEnd",g)>-1?c=f:(c=-e.moveEnd("character",-f),c+=d.slice(0,c).split("\n").length-1))),q(a,b,c)};var t=function(a,b){return b-(a.value.slice(0,b).split("\r\n").length-1)};d=function(a,b,c){var d=p(a,b,c),e=a.createTextRange(),f=t(a,d.start);e.collapse(!0),d.start==d.end?e.move("character",f):(e.moveEnd("character",t(a,d.end)),e.moveStart("character",f)),e.select()},k=function(a,b){var c=document.selection.createRange();c.collapse(b),c.select()}}r().removeChild(s),f=function(a,b,c,e){var f;b!=c&&(f=a.value,a.value=f.slice(0,b)+f.slice(c)),e&&d(a,b,b)},e=function(a){var b=c(a);f(a,b.start,b.end,!0)},j=function(a){var e,b=c(a);return b.start!=b.end&&(e=a.value,a.value=e.slice(0,b.start)+e.slice(b.end)),d(a,b.start,b.start),b.text};var u=function(a,b,c,e){var f=b+c.length;if(e="string"==typeof e?e.toLowerCase():"",("collapsetoend"==e||"select"==e)&&/[\r\n]/.test(c)){var g=c.replace(/\r\n/g,"\n").replace(/\r/g,"\n");f=b+g.length;var h=b+g.indexOf("\n");"\r\n"==a.value.slice(h,h+2)&&(f+=g.match(/\n/g).length)}switch(e){case"collapsetostart":d(a,b,b);break;case"collapsetoend":d(a,f,f);break;case"select":d(a,b,f)}};g=function(a,b,c,d){var e=a.value;a.value=e.slice(0,c)+b+e.slice(c),"boolean"==typeof d&&(d=d?"collapseToEnd":""),u(a,c,b,d)},h=function(a,b,d){var e=c(a),f=a.value;a.value=f.slice(0,e.start)+b+f.slice(e.end),u(a,e.start,b,d||"collapseToEnd")},i=function(a,d,e,f){typeof e==b&&(e=d);var g=c(a),h=a.value;a.value=h.slice(0,g.start)+d+g.text+e+h.slice(g.end);var i=g.start+d.length;u(a,i,g.text,f||"select")},a.fn.extend({getSelection:v(c,!1),setSelection:v(d,!0),collapseSelection:v(k,!0),deleteSelectedText:v(e,!0),deleteText:v(f,!0),extractSelectedText:v(j,!1),insertText:v(g,!0),replaceSelectedText:v(h,!0),surroundSelectedText:v(i,!0)})})}(jQuery);

/*
 * XenForo xenforo.min.js
 * Copyright 2010-2018 XenForo Ltd.
 * Released under the XenForo License Agreement: http://xenforo.com/license-agreement
 */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(c,g,h){c instanceof String&&(c=String(c));for(var q=c.length,n=0;n<q;n++){var u=c[n];if(g.call(h,u,n,c))return{i:n,v:u}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,g,h){c!=Array.prototype&&c!=Object.prototype&&(c[g]=h.value)};
$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(c,g,h,q){if(g){h=$jscomp.global;c=c.split(".");for(q=0;q<c.length-1;q++){var n=c[q];n in h||(h[n]={});h=h[n]}c=c[c.length-1];q=h[c];g=g(q);g!=q&&null!=g&&$jscomp.defineProperty(h,c,{configurable:!0,writable:!0,value:g})}};
$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(c,h){return $jscomp.findInternal(this,c,h).v}},"es6","es3");var XenForo={};if(jQuery===undefined){jQuery=$={}}if($.tools===undefined){console.error("jQuery Tools is not loaded.")}!function(a){var c,b=0;if(!a.console){a.console={}}if(a.console.log&&!a.console.debug){a.console.debug=a.console.log}c=["assert","clear","count","debug","dir","dirxml","error","getFirebugElement","group","groupCollapsed","groupEnd","info","log","notifyFirebug","profile","profileEnd","time","timeEnd","trace","warn"];for(b=0;b<c.length;++b){if(!a.console[c[b]]){a.console[c[b]]=function(){}}}}(window);!function(f,g,h,c){var a=(function(){var l;
try{l=!!("ontouchstart" in g||navigator.maxTouchPoints||navigator.msMaxTouchPoints)}catch(k){l=!!(navigator.userAgent.indexOf("webOS")!=-1)}return function(){return l}})();var d=["hasJs"];d.push(a()?"Touch":"NoTouch");var b=h.createElement("div");d.push(("draggable" in b)||("ondragstart" in b&&"ondrop" in b)?"HasDragDrop":"NoDragDrop");if(navigator.userAgent.search(/\((iPhone|iPad|iPod);/)!=-1){d.push("iOS")}var e=f("html");e.addClass(d.join(" ")).removeClass("NoJs");h.createElement("abbr");if(/webkit.*mobile/i.test(navigator.userAgent)){XenForo._isWebkitMobile=true
}jQuery.fn._jQueryToolsOverlay=jQuery.fn.overlay;jQuery.extend(true,{context:function(m,l){if(typeof l=="string"){var k=m;m=m[l];l=k}return function(){return m.apply(l,arguments)}},setCookie:function(l,m,k){console.log("Set cookie %s = %s",l,m);h.cookie=XenForo._cookieConfig.prefix+l+"="+encodeURIComponent(m)+(k===undefined?"":";expires="+k.toUTCString())+(XenForo._cookieConfig.path?";path="+XenForo._cookieConfig.path:"")+(XenForo._cookieConfig.domain?";domain="+XenForo._cookieConfig.domain:"");return m},getCookie:function(k){var m,l;
m=new RegExp("(^| )"+XenForo._cookieConfig.prefix+k+"=([^;]+)(;|$)");l=m.exec(h.cookie);if(l){return decodeURIComponent(l[2])}else{return null}},deleteCookie:function(k){console.info("Delete cookie %s",k);h.cookie=XenForo._cookieConfig.prefix+k+"="+(XenForo._cookieConfig.path?"; path="+XenForo._cookieConfig.path:"")+(XenForo._cookieConfig.domain?"; domain="+XenForo._cookieConfig.domain:"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT";return null}});jQuery.fn.extend({xfActivate:function(){return XenForo.activate(this)},dataOrDefault:function(l,k){var m=this.data(l);
if(m===undefined){return k}return m},strval:function(){return String(this.val()).replace(/\s+$/g,"")},fieldName:function(){return this.data("fieldname")||this.attr("name")},fieldValue:function(){switch(this.attr("type")){case"checkbox":return f('input:checkbox[name="'+this.fieldName()+'"]:checked',this.context.form).val();case"radio":return f('input:radio[name="'+this.fieldName()+'"]:checked',this.context.form).val();default:return this.val()}},_jqSerialize:f.fn.serialize,serialize:function(){f("textarea.BbCodeWysiwygEditor").each(function(){var k=f(this).data("XenForo.BbCodeWysiwygEditor");
if(k){k.syncEditor()}});return this._jqSerialize()},_jqSerializeArray:f.fn.serializeArray,serializeArray:function(){f("textarea.BbCodeWysiwygEditor").each(function(){var k=f(this).data("XenForo.BbCodeWysiwygEditor");if(k){k.syncEditor()}});return this._jqSerializeArray()},coords:function(o,s){var n,k,q,r,l,m=this.is(":hidden");if(m){k=this.css("visibility"),q=this.css("display");this.css({visibility:"hidden",display:"block"})}switch(o){case"inner":r="innerWidth";l="innerHeight";break;case"outer":r="outerWidth";l="outerHeight";
break;default:r="width";l="height"}switch(s){case"position":s="position";break;default:s="offset";break}n=this[s]();n.width=this[r]();n.height=this[l]();if(m){this.css({display:q,visibility:k})}return n},uniqueId:function(){if(!this.attr("id")){this.attr("id","XenForoUniq"+XenForo._uniqueIdCounter++)}return this},xfFadeIn:function(k,l){return this.fadeIn(k,function(){f(this).ieOpacityFix(l)})},xfFadeOut:function(k,l){return this.fadeOut(k,l)},xfShow:function(k,l){return this.show(k,function(){f(this).ieOpacityFix(l)})},xfHide:function(k,l){return this.hide(k,l)
},xfSlideDown:function(k,l){return this.slideDown(k,function(){f(this).ieOpacityFix(l)})},xfSlideUp:function(k,l){return this.slideUp(k,l)},xfFadeDown:function(k,l){this.filter(":hidden").xfHide().css("opacity",0);k=k||XenForo.speed.normal;return this.xfSlideDown(XenForo.speed.fast).animate({opacity:1},k,function(){f(this).ieOpacityFix(l)})},xfFadeUp:function(l,n,k,m){l=((typeof l=="undefined"||l===null)?XenForo.speed.normal:l);k=((typeof k=="undefined"||k===null)?l:k);return this.slideUp({duration:Math.max(l,k),easing:m||"swing",complete:n,queue:false}).animate({opacity:0,queue:false},l)
},xfInsert:function(n,l,k,m,o){if(n=="replaceAll"){f(l).xfFadeUp(m)}this.addClass("__XenForoActivator").css("display","none")[n||"appendTo"](l).xfActivate()[k||"xfFadeDown"](m,o);return this},xfRemove:function(k,n,l,m){return this[k||"xfFadeUp"](XenForo.speed.normal,function(){f(this).empty().remove();if(f.isFunction(n)){n()}},l,m)},_xfSlideWrapper:function(l){if(!this.data("slidewrapper")){this.data("slidewrapper",this.wrap('<div class="_swOuter"><div class="_swInner" /></div>').closest("div._swOuter").css("overflow","hidden"))
}if(l){try{return this.data("slidewrapper").height()}catch(k){return 0}}return this.data("slidewrapper")},xfSlideIn:function(m,o,n){var l=this._xfSlideWrapper().css("height","auto"),k=0;l.find("div._swInner").css("margin","auto");k=this.show(0).outerHeight();l.css("height",0).animate({height:k},m,o,function(){l.css("height","")}).find("div._swInner").css("marginTop",k*-1).animate({marginTop:0},m,o,n);return this},xfSlideOut:function(l,n,m){var k=this.outerHeight();this._xfSlideWrapper().animate({height:0},l,n).find("div._swInner").animate({marginTop:k*-1},l,n,m);
return this},ieOpacityFix:function(k){if(!f.support.opacity){this.css("filter","");this.attr("style",this.attr("style").replace(/filter:\s*;/i,""))}if(f.isFunction(k)){k.apply(this)}return this},overlay:function(k){if(XenForo.isTouchBrowser()){return this._jQueryToolsOverlay(f.extend(true,k,{speed:0,loadSpeed:0}))}else{return this._jQueryToolsOverlay(k)}}});f.tools.overlay.addEffect("slideDownContentFade",function(l,n){var k=this.getOverlay(),m=this.getConf();k.find(".content").css("opacity",0);if(this.getConf().fixed){l.position="fixed"
}else{l.position="absolute";l.top+=f(g).scrollTop();l.left+=f(g).scrollLeft()}k.css(l).xfSlideDown(XenForo.speed.fast,function(){k.find(".content").animate({opacity:1},m.speed,function(){f(this).ieOpacityFix(n)})})},function(l){var k=this.getOverlay();k.find(".content").animate({opacity:0},this.getConf().speed,function(){k.xfSlideUp(XenForo.speed.fast,l)})});f.tools.overlay.addEffect("slideDown",function(k,l){if(this.getConf().fixed){k.position="fixed"}else{k.position="absolute";k.top+=f(g).scrollTop();k.left+=f(g).scrollLeft()
}this.getOverlay().css(k).xfSlideDown(this.getConf().speed,l)},function(k){this.getOverlay().hide(0,k)});f.extend(XenForo,{_OverlayCache:{},_AjaxProgress:false,ajaxBaseHref:"",_uniqueIdCounter:0,_overlayConfig:{},_loadedScripts:{},_cookieConfig:{path:"/",domain:"",prefix:"xf_"},_hasFocus:true,serverTimeInfo:{},visitor:{},_pageLoadTime:(new Date()).getTime()/1000,_jsVersion:"",_noRtnProtect:false,_csrfToken:"",_csrfRefreshUrl:"",_noSocialLogin:false,speed:{xxfast:50,xfast:100,fast:200,normal:400,slow:600},_animationSpeedMultiplier:1,_enableOverlays:true,_enableAjaxSubmit:true,_lightBoxUniversal:false,phrases:{},init:function(){var q=new Date(),n=function(){XenForo._hasFocus=true;
f(h).triggerHandler("XenForoWindowFocus")},o=function(){XenForo._hasFocus=false;f(h).triggerHandler("XenForoWindowBlur")},m=f("html");if(f.browser.msie){f(h).bind({focusin:n,focusout:o})}else{f(g).bind({focus:n,blur:o})}f(g).on("resize",function(){XenForo.checkQuoteSizing(f(h))});XenForo.setAnimationSpeed(XenForo._animationSpeedMultiplier);XenForo._TimestampRefresh=new XenForo.TimestampRefresh();XenForo.prepareIgnoredContent();XenForo.AjaxProgress();XenForo.activate(h);f(h).on("click",".bbCodeQuote .quoteContainer .quoteExpand",function(r){f(this).closest(".quoteContainer").toggleClass("expanded")
});XenForo.watchProxyLinks();if(!XenForo._noRtnProtect){XenForo.watchExternalLinks()}if(!m.hasClass("NoResponsive")){XenForo.updateVisibleBreadcrumbs();XenForo.updateVisibleNavigationTabs();XenForo.updateVisibleNavigationLinks();var l,k=m.width();f(g).on("resize orientationchange load",function(r){if(l){return}if(r.type!="load"&&m.width()==k){return}k=m.width();l=setTimeout(function(){l=0;XenForo.updateVisibleBreadcrumbs();XenForo.updateVisibleNavigationTabs();XenForo.updateVisibleNavigationLinks()},20)});f(h).on("click",".breadcrumb .placeholder",function(){f(this).closest(".breadcrumb").addClass("showAll");
XenForo.updateVisibleBreadcrumbs()})}XenForo._CsrfRefresh=new XenForo.CsrfRefresh();if(!("autofocus" in h.createElement("input"))){f("input[autofocus], textarea[autofocus], select[autofocus]").first().focus()}XenForo.tweetButtonInit();console.info("XenForo.init() %dms. jQuery %s/%s",new Date()-q,f().jquery,f.tools.version);if(f("#ManualDeferredTrigger").length){setTimeout(XenForo.manualDeferredHandler,100)}if(f("html.RunDeferred").length){setTimeout(XenForo.runAutoDeferred,100)}},runAutoDeferred:function(){XenForo.ajax("deferred.php",{},function(k){if(k&&k.moreDeferred){setTimeout(XenForo.runAutoDeferred,100)
}},{error:false,global:false})},prepareIgnoredContent:function(){var m=f("a.DisplayIgnoredContent"),k={},l=[];if(m.length){f(".ignored").each(function(){var n=f(this).data("author");if(n){k[n]=true}});f.each(k,function(n){l.push(n)});if(l.length){m.attr("title",XenForo.phrases.show_hidden_content_by_x.replace(/\{names\}/,l.join(", ")));m.parent().show()}}},watchProxyLinks:function(){var k=function(n){var m=f(this),o=m.data("proxy-href"),l=m.data("proxy-handler-last");if(!o){return}if(l&&l==n.timeStamp){return}m.data("proxy-handler-last",n.timeStamp);
XenForo.ajax(o,{},function(q){},{error:false,global:false})};f(h).on("click","a.ProxyLink",k).on("focusin","a.ProxyLink",function(m){var l=f(this);if(l.data("proxy-handler")){return}l.data("proxy-handler",true).click(k)})},watchExternalLinks:function(){var k=function(s){if(s.isDefaultPrevented()){return}var u=f(this),o=u.attr("href"),l=u.data("blank-handler-last");if(!o){return}if(o.match(/^[a-z]:/i)&&!o.match(/^https?:/i)){return}o=XenForo.canonicalizeUrl(o);var x=new RegExp("^[a-z]+://"+location.host+"(/|$|:)","i");if(x.test(o)&&!u.hasClass("ProxyLink")){return
}if(l&&l==s.timeStamp){return}u.data("blank-handler-last",s.timeStamp);var n=navigator.userAgent,r=n.indexOf("MSIE")!==-1,v=n.indexOf("Safari")!==-1&&n.indexOf("Chrome")==-1,m=n.indexOf("Gecko/")!==-1;if(s.shiftKey&&m){return}if(v&&(s.shiftKey||s.altKey)){return}if(r){return}if(v){var z,t,q;z=f('<iframe style="display: none" />').appendTo(h.body);t=z[0].contentDocument||z[0].contentWindow.document;t.__href=o;q=f("<script />",t);q[0].text="window.opener=null;window.parent=null;window.top=null;window.frameElement=null;window.open(document.__href).opener = null;";
t.body.appendChild(q[0]);z.remove()}else{var y=g.open(o);try{y.opener=null}catch(s){}}s.preventDefault()};f(h).on("click","a[target=_blank]",k).on("focusin","a[target=_blank]",function(m){var l=f(this);if(l.data("blank-handler")){return}l.data("blank-handler",true).click(k)})},loadJs:function(o,r,q){try{var k=h.createElement("script");k.async=true;if(q){try{k.innerHTML=q}catch(n){}}var l=function(){if(r){r();r=null}};k.onload=l;k.onreadystatechange=function(){if(k.readyState==="loaded"){l()}};k.src=o;h.getElementsByTagName("head")[0].appendChild(k)
}catch(m){}},tweetButtonInit:function(){if(f("a.twitter-share-button").length){XenForo.loadJs("https://platform.twitter.com/widgets.js")}},plusoneButtonInit:function(l){if(f(l).find("div.g-plusone, .GoogleLogin").length){var k=f("html").attr("lang");var m=function(){if(!g.gapi){return}f(l).find(".GoogleLogin").each(function(){var o=f(this),n=o.data("client-id");gapi.signin.render(this,{callback:function(q){if(q.status.method=="AUTO"){return}if(q.code){g.location=XenForo.canonicalizeUrl(o.data("redirect-url").replace("__CODE__",q.code))
}},clientid:n,cookiepolicy:"single_host_origin",accesstype:"offline",immediate:false,requestvisibleactions:"http://schemas.google.com/AddActivity",scope:"profile email"})})};if(g.___gcfg&&g.gapi){m()}else{g.___gcfg={lang:k,isSignedOut:true};XenForo.loadJs("https://plus.google.com/js/client:plusone.js",m)}}},chromeAutoFillFix:function(m){if(f.browser.webkit&&navigator.userAgent.toLowerCase().indexOf("chrome")>=0){if(!m){m=f(h)}var k;try{k=m.find("input:-webkit-autofill")}catch(l){k=f([])}if(k.length){k.each(function(n){var o=f(this),q=o.val();
if(!q||!q.length){return}o.after(o.clone(true).val(q)).remove()})}}},updateVisibleBreadcrumbs:function(){f(".breadcrumb").each(function(){var k=this,u=f(k);u.find(".placeholder").remove();var m=u.find(".crust");m.removeClass("firstVisibleCrumb").show();var r=m.filter(".homeCrumb");u.css("height","");var q=k.offsetHeight;u.css("height","auto");if(k.offsetHeight<=q){u.css("height","");return}var t=null,o=".selectedTabCrumb, :last-child";m.each(function(){var v=f(this);if(v.is(o)){return true}v.hide();t=v;return(k.offsetHeight>q)
});if(!t){u.css("height","");return}var s=f('<span class="crust placeholder"><a class="crumb" href="javascript:"><span>...</span></a><span class="arrow"><span>&gt;</span></span></span>');t.after(s);if(k.offsetHeight>q){var l=t.prevAll(".crust:not("+o+")").last();if(l.length){l.hide()}}if(k.offsetHeight>q){var n=t.nextAll(".crust:not(.placeholder, "+o+")").first();if(n.length){n.hide();n.after(s)}}if(r.length&&!r.is(":visible")){u.find(".crust:visible:first").addClass("firstVisibleCrumb")}if(k.offsetHeight<=q){u.css("height","")
}})},updateVisibleNavigationTabs:function(){var r=f("#navigation").find(".navTabs");if(!r.length){return}var n=r.coords(),v=r.find(".publicTabs"),s=v.find("> .navTab"),m=r.find(".visitorTabs"),q=m.find("> .navTab"),o=f("#VisitorExtraMenu_Counter"),l,u=s.filter(".navigationHiddenTabs");s.show();u.hide();q.show();o.addClass("ResponsiveOnly");if(r.is(".showAll")){return}l=r.width()-1;var t=function(){var w=".selected, .navigationHiddenTabs";var y=s.filter(":not("+w+")"),z=f("<ul />"),A=0,x=false;f.each(y.get().reverse(),function(){var B=f(this);
if(f("#navigation").coords().height>30){z.prepend(f("<li />").html(B.find(".navLink").clone()));B.hide();A++}else{if(A){u.show();if(f("#navigation").coords().height>30){z.prepend(f("<li />").html(B.find(".navLink").clone()));B.hide();A++}f("#NavigationHiddenMenu").html(z).xfActivate();x=true}else{u.hide()}return false}});if(A&&!x){u.show();f("#NavigationHiddenMenu").html(z).xfActivate()}},k=function(w,x){if(w.top>=n.top+n.height||w.height>=n.height*2){return true}if(x&&w.width>l){return true}return false};if(f("#navigation").coords().height>30){t()
}},updateVisibleNavigationLinks:function(){var x=f("#navigation").find(".navTab.selected .blockLinksList");if(!x.length){return}var w=x.find("> li"),u=x.offset(),k=w.filter(".navigationHidden"),r=false;w.show();k.hide();if(x.is(".showAll")){return}var n=[],l=w.filter(":not(.navigationHidden)").last(),t=0,q=false,o,s;if(!l.length){return}do{o=l.coords();if(o.top>u.top+o.height){s=w.eq(t);s.hide();n.push(s);t++;if(!q){q=true;if(!k.length){k=f('<li class="navigationHidden Popup PopupControl PopupClosed"><a rel="Menu" class="NoPopupGadget">...</a><div class="Menu blockLinksList primaryContent" id="NavigationLinksHiddenMenu"></div></li>');
x.append(k);new XenForo.PopupMenu(k)}else{k.show()}}}else{break}}while(t<w.length);if(q){if(t<w.length){var v=k.coords();if(v.top>u.top+v.height){s=w.eq(t);s.hide();n.push(s)}}var m=f("<ul />");f(n).each(function(){m.append(f("<li />").html(f(this).find("a").clone()))});f("#NavigationLinksHiddenMenu").html(m).xfActivate()}},register:function(k,m,n){if(typeof m=="string"){var l=m;m=function(o){XenForo.create(l,this)}}f(h).bind(n||"XenForoActivateHtml",function(o){f(o.element).find(k).each(m)})},create:function(o,n){var l=f(n),k=g,q=o.split("."),m;
for(m=0;m<q.length;m++){k=k[q[m]]}if(typeof k!="function"){return console.error("%s is not a function.",o)}if(!l.data(o)){l.data(o,new k(l))}return l.data(o)},activate:function(m){var k=f(m);console.group("XenForo.activate(%o)",m);k.trigger("XenForoActivate").removeClass("__XenForoActivator");k.find("noscript").empty().remove();XenForo._TimestampRefresh.refresh(m,true);f(h).trigger({element:m,type:"XenForoActivateHtml"}).trigger({element:m,type:"XenForoActivatePopups"}).trigger({element:m,type:"XenForoActivationComplete"});var l=k.find("form.AutoSubmit:first");
if(l.length){f(h).trigger("PseudoAjaxStart");l.submit();l.find('input[type="submit"], input[type="reset"]').hide()}XenForo.checkQuoteSizing(k);XenForo.plusoneButtonInit(m);XenForo.Facebook.start();console.groupEnd();return m},checkQuoteSizing:function(k){k.find(".bbCodeQuote .quoteContainer").each(function(){var l=this,m=0,n=function(){var q=f(l),o=q.find(".quote")[0];if(!o){return}if(o.scrollHeight==0||o.offsetHeight==0){if(m<2000){setTimeout(n,m);m+=100}return}if(o.scrollHeight>o.offsetHeight+1){q.find(".quoteExpand").addClass("quoteCut")
}else{q.find(".quoteExpand").removeClass("quoteCut")}};n();f(this).find("img").one("load",n);f(this).on("elementResized",n)})},ajaxDataPush:function(m,k,l){if(!m||typeof m=="string"){m=String(m);m+="&"+encodeURIComponent(k)+"="+encodeURIComponent(l)}else{if(m[0]!==undefined){m.push({name:k,value:l})}else{m[k]=l}}return m},ajax:function(n,q,r,m){if(!n){return console.error("No URL specified for XenForo.ajax()")}n=XenForo.canonicalizeUrl(n,XenForo.ajaxBaseHref);q=XenForo.ajaxDataPush(q,"_xfRequestUri",g.location.pathname+g.location.search);
q=XenForo.ajaxDataPush(q,"_xfNoRedirect",1);if(XenForo._csrfToken){q=XenForo.ajaxDataPush(q,"_xfToken",XenForo._csrfToken)}var k=function(s,t){if(typeof s=="object"){if(typeof s._visitor_conversationsUnread!="undefined"){XenForo.balloonCounterUpdate(f("#ConversationsMenu_Counter"),s._visitor_conversationsUnread);XenForo.balloonCounterUpdate(f("#AlertsMenu_Counter"),s._visitor_alertsUnread);XenForo.balloonCounterUpdate(f("#VisitorExtraMenu_ConversationsCounter"),s._visitor_conversationsUnread);XenForo.balloonCounterUpdate(f("#VisitorExtraMenu_AlertsCounter"),s._visitor_alertsUnread);
XenForo.balloonCounterUpdate(f("#VisitorExtraMenu_Counter"),(parseInt(s._visitor_conversationsUnread,10)+parseInt(s._visitor_alertsUnread,10)||0).toString())}if(s._manualDeferred){XenForo.manualDeferredHandler()}else{if(s._autoDeferred){XenForo.runAutoDeferred()}}}f(h).trigger({type:"XFAjaxSuccess",ajaxData:s,textStatus:t});r.call(null,s,t)};var o=g.location.href;if(o.match(/[^\x20-\x7f]/)){var l=h.createElement("a");l.href="";o=o.replace(l.href,XenForo.baseUrl())}m=f.extend(true,{data:q,url:n,success:k,type:"POST",dataType:"json",error:function(u,v,t){if(u.readyState==0){return
}try{k.call(null,f.parseJSON(u.responseText),v)}catch(s){XenForo.handleServerError(u,v,t)}},headers:{"X-Ajax-Referer":o},timeout:30000},m);if(!m.data._xfResponseType){switch(m.dataType){case"html":case"json":case"xml":m.data=XenForo.ajaxDataPush(m.data,"_xfResponseType",m.dataType);break}}return f.ajax(m)},balloonCounterUpdate:function(l,m){if(l.length){var n=l.find("span.Total"),k=n.text();n.text(m);if(!m||m=="0"){l.fadeOut("fast",function(){l.addClass("Zero").css("display","")})}else{l.fadeIn("fast",function(){l.removeClass("Zero").css("display","");
var u=parseInt(k.replace(/[^\d]/,""),10),o=parseInt(m.replace(/[^\d]/,""),10),s=o-u;if(s>0&&l.data("text")){var t=l.closest(".Popup"),q=t.data("XenForo.PopupMenu"),r;r=f("<a />").css("cursor","pointer").html(l.data("text").replace(/%d/,s)).click(function(v){if(t.is(":visible")&&q){q.$clicker.trigger("click")}else{if(t.find("a[href]").length){g.location=XenForo.canonicalizeUrl(t.find("a[href]").attr("href"))}}return false});if(q&&!q.menuVisible){q.resetLoader()}XenForo.stackAlert(r,10000,l)}})}}},_manualDeferUrl:"",_manualDeferOverlay:false,_manualDeferXhr:false,manualDeferredHandler:function(){if(!XenForo._manualDeferUrl||XenForo._manualDeferOverlay){return
}var o=XenForo.phrases.processing||"Processing",n=XenForo.phrases.cancel||"Cancel",q=XenForo.phrases.cancelling||"Cancelling";var k=f('<div id="ManualDeferOverlay" class="xenOverlay"><h2 class="titleBar">'+o+'... <a class="CancelDeferred button" data-cancelling="'+q+'..." style="display:none">'+n+'</a></h2><span class="processingText">'+o+'...</span><span class="close"></span></div>');k.find(".CancelDeferred").click(function(r){r.preventDefault();f.setCookie("cancel_defer","1");f(this).text(f(this).data("cancelling"))});k.appendTo("body").overlay(f.extend(true,{mask:{color:"white",opacity:0.6,loadSpeed:XenForo.speed.normal,closeSpeed:XenForo.speed.fast},closeOnClick:false,closeOnEsc:false,oneInstance:false},XenForo._overlayConfig,{top:"20%"}));
k.overlay().load();XenForo._manualDeferOverlay=k;f(h).trigger("PseudoAjaxStart");var l=function(){XenForo._manualDeferOverlay.overlay().close();f("#ManualDeferOverlay").remove();XenForo._manualDeferOverlay=false;XenForo._manualDeferXhr=false;f(h).trigger("PseudoAjaxStop");f(h).trigger("ManualDeferComplete")};var m=function(){XenForo._manualDeferXhr=XenForo.ajax(XenForo._manualDeferUrl,{execute:1},function(r){if(r&&r.continueProcessing){setTimeout(m,0);XenForo._manualDeferOverlay.find("span").text(r.status);var s=XenForo._manualDeferOverlay.find(".CancelDeferred");
if(r.canCancel){s.show()}else{s.hide()}}else{l()}}).fail(l)};m()},handleServerError:function(q,m,o){switch(m){case"abort":return false;case"timeout":XenForo.alert(XenForo.phrases.server_did_not_respond_in_time_try_again,XenForo.phrases.following_error_occurred+":");return false;case"parsererror":console.error("PHP "+q.responseText);XenForo.alert("The server responded with an error. The error message is in the JavaScript console.");return false;case"notmodified":case"error":if(!q||!q.responseText){return false}break}var k=q.getResponseHeader("Content-Type"),r=false,l;
if(k){switch(k.split(";")[0]){case"application/json":r="json";break;case"text/html":r="html";break;default:if(q.responseText.substr(0,1)=="{"){r="json"}else{if(q.responseText.substr(0,9)=="<!DOCTYPE"){r="html"}}}}if(r=="json"&&q.responseText.substr(0,1)=="{"){try{l=f.parseJSON(q.responseText)}catch(n){}if(l){XenForo.hasResponseError(l,q.status)}else{XenForo.alert(q.responseText,XenForo.phrases.following_error_occurred+":")}}else{XenForo.alert(q.responseText,XenForo.phrases.following_error_occurred+":")}return false},hasResponseError:function(k,l){if(typeof k!="object"){XenForo.alert("Response not JSON!");
return true}if(k.errorTemplateHtml){new XenForo.ExtLoader(k,function(n){var o=XenForo.alert(k.errorTemplateHtml,XenForo.phrases.following_error_occurred+":");if(o){o.find("div.errorDetails").removeClass("baseHtml");if(k.errorOverlayType){o.closest(".errorOverlay").removeClass("errorOverlay").addClass(k.errorOverlayType)}}});return k.error||true}else{if(k.error!==undefined){if(typeof k.error==="object"){var m;for(m in k.error){break}k.error=k.error[m]}XenForo.alert(k.error+"\n"+(k.traceHtml!==undefined?'<ol class="traceHtml">\n'+k.traceHtml+"</ol>":""),XenForo.phrases.following_error_occurred+":");
return k.error}else{if(k.status=="ok"&&k.message){XenForo.alert(k.message,"",4000);return true}else{return false}}}},hasTemplateHtml:function(k,l){l=l||"templateHtml";if(!k[l]){return false}if(typeof(k[l].search)=="function"){return(k[l].search(/\S+/)!==-1)}else{return true}},createOverlay:function(u,r,n){var w=null,m=null,t=null,l=null,v=/<script[^>]*>([\s\S]*?)<\/script>/ig,x,q=[],s;if(r instanceof jQuery&&r.is(".xenOverlay")){w=r.appendTo("body");m=r}else{if(typeof(r)=="string"){while(x=v.exec(r)){q.push(x[1])}r=r.replace(v,"")
}m=f(r);if(!m.is(".NoAutoHeader")){if(n&&n.title){f('<h2 class="heading h1" />').html(n.title).prependTo(m)}}if(m.is(".formOverlay")){if(m.find(".submitUnit").length){if(!m.find(".submitUnit :reset").length){m.find(".submitUnit .button:last").after(f('<input type="reset" class="button OverlayCloser" />').val(XenForo.phrases.cancel)).after(" ")}}}w=f('<div class="xenOverlay __XenForoActivator" />').appendTo("body").addClass(f(r).data("overlayclass")).append(m);if(q.length){for(s=0;s<q.length;s++){f.globalEval(q[s])}}w.xfActivate()
}if(n){if(n.effect){w.addClass(n.effect+"Effect")}if(n.className){w.addClass(n.className);delete (n.className)}if(n.noCache){n.onClose=function(){this.getOverlay().empty().remove()}}}if(w.find(".OverlayCloser").length==0){w.prepend('<a class="close OverlayCloser"></a>')}w.find(".OverlayCloser").click(function(y){y.stopPropagation()});u=u||w;var k=f(g).height();var o=!((f.browser.msie&&f.browser.version<=6)||XenForo.isTouchBrowser()||f(g).width()<=600||k<=550||w.outerHeight()>=0.9*k);if(m.is(".NoFixedOverlay")){o=false}u.overlay(f.extend(true,{target:w,oneInstance:true,close:".OverlayCloser",speed:XenForo.speed.normal,closeSpeed:XenForo.speed.fast,mask:{color:"white",opacity:0.6,loadSpeed:XenForo.speed.normal,closeSpeed:XenForo.speed.fast},fixed:o},XenForo._overlayConfig,n));
u.bind({onBeforeLoad:function(y){f(h).triggerHandler("OverlayOpening")},onLoad:function(B){var A=f(this).data("overlay"),z=A.getOverlay(),y=z.find(".OverlayScroller").get(0),D=null;if(z.css("position")=="absolute"){z.find(".overlayScroll").removeClass("overlayScroll")}if(y){setTimeout(function(){y.scrollIntoView(true)},0)}var C=z.find("form").find("input[autofocus], textarea[autofocus], select[autofocus], .AutoFocus").first();if(C.length){C.focus()}else{z.find("form").find("input:not([type=hidden], [type=file]), textarea, select, button, .submitUnit a.button").first().focus()
}if(A.getConf().closeOnResize){D=function(){console.info("Window resize, close overlay!");A.close()};f(g).one("resize",D);u.one("onClose",function(){f(g).unbind("resize",D)})}f(h).triggerHandler("OverlayOpened")},onBeforeClose:function(y){w.find(".Popup").each(function(){var z=f(this).data("XenForo.PopupMenu");if(z.hideMenu){z.hideMenu(y,true)}})}});t=u.data("overlay");w.data("overlay",t);return t},alert:function(o,n,l,k){o=String(o||"Unspecified error");var m=o.replace(/[^a-z0-9_]/gi,"_")+parseInt(l),q;if(XenForo._OverlayCache[m]===undefined){if(l){q=f('<div class="xenOverlay timedMessage"><div class="content baseHtml">'+o+'<span class="close"></span></div></div>');
XenForo._OverlayCache[m]=q.appendTo("body").overlay({top:0,effect:"slideDownContentFade",speed:XenForo.speed.normal,oneInstance:false,onBeforeClose:(k?k:null)}).data("overlay")}else{q=f('<div class="errorOverlay"><a class="close OverlayCloser"></a><h2 class="heading">'+(n||XenForo.phrases.following_error_occurred)+'</h2><div class="baseHtml errorDetails"></div></div>');q.find("div.errorDetails").html(o);XenForo._OverlayCache[m]=XenForo.createOverlay(null,q,{onLoad:function(){var r=f("input:button.close, button.close",h.getElementById(m)).get(0);
if(r){r.focus()}},onClose:(k?k:null)})}}XenForo._OverlayCache[m].load();if(l){setTimeout('XenForo._OverlayCache["'+m+'"].close()',l)}return q},stackAlert:function(q,m,o){var l=f('<li class="stackAlert DismissParent"><div class="stackAlertContent"><span class="helper"></span><a class="DismissCtrl"></a></div></li>'),r=f("#StackAlerts");if(!r.length){r=f('<ul id="StackAlerts"></ul>').appendTo("body")}if((q instanceof jQuery)==false){q=f("<span>"+q+"</span>")}q.appendTo(l.find("div.stackAlertContent"));function n(){l.xfFadeUp(XenForo.speed.slow,function(){f(this).empty().remove();
if(!r.children().length){r.hide()}})}function k(s){if(o&&o.length){o.get(0).scrollIntoView(true)}n()}l.hide().prependTo(r.show()).fadeIn(XenForo.speed.normal,function(){if(m>0){setTimeout(n,m)}});l.find("a").click(k);return l},setAnimationSpeed:function(n){var k,m,l;for(l in XenForo.speed){m=XenForo.speed[l];if(f.browser.msie){if(m<=100){k=2}else{if(m>800){k=1}else{k=1+100/m}}XenForo.speed[l]=m*n*k}else{XenForo.speed[l]=m*n}}},uniqueId:function(k){if(!k){return"XenForoUniq"+XenForo._uniqueIdCounter++}else{return f(k).uniqueId().attr("id")
}},redirect:function(k){k=XenForo.canonicalizeUrl(k);if(k==g.location.href){g.location.reload()}else{g.location=k;var m=k.split("#"),l=g.location.href.split("#");if(m[1]){if(m[0]==l[0]){g.location.reload()}}}},canonicalizeUrl:function(k,l){if(k.indexOf("/")==0){return k}else{if(k.match(/^(https?:|ftp:|mailto:)/i)){return k}else{if(!l){l=XenForo.baseUrl()}if(typeof l!="string"){l=""}return l+k}}},_baseUrl:false,baseUrl:function(){if(XenForo._baseUrl===false){var k=h.createElement("a"),l=f("base");k.href="";XenForo._baseUrl=(k.href.match(/[^\x20-\x7f]/)&&l.length)?l.attr("href"):k.href;
if(!l.length){XenForo._baseUrl=XenForo._baseUrl.replace(/\?.*$/,"").replace(/\/[^\/]*$/,"/")}}return XenForo._baseUrl},trailingSlash:function(k){if(k.substr(-1)!="/"){k+="/"}return k},regexQuote:function(k){return(k+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!<>\|\:])/g,"\\$1")},htmlspecialchars:function(k){return(String(k)||"").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},isRTL:function(){if(XenForo.RTL===undefined){var k=f("html").attr("dir");XenForo.RTL=(k&&k.toUpperCase()=="RTL")?true:false
}return XenForo.RTL},switchStringRTL:function(k){if(XenForo.isRTL()){k=k.replace(/left/i,"l_e_f_t");k=k.replace(/right/i,"left");k=k.replace("l_e_f_t","right")}return k},switchOffsetRTL:function(k){if(XenForo.isRTL()&&!isNaN(k[1])){k[1]=k[1]*-1}return k},isListTag:function(k){return(k.tagName=="ul"||k.tagName=="ol")},isNumeric:function(k){return(!isNaN(k)&&(k-0)==k&&k.length>0)},isPositive:function(k){switch(String(k).toLowerCase()){case"on":case"yes":case"true":case"1":return true;default:return false}},ucfirst:function(k){return k.charAt(0).toUpperCase()+k.substr(1)
},updateUserAvatars:function(m,l,k){console.log("Replacing visitor avatars on page: %o",l);f.each(l,function(o,n){var q=".Av"+m+o+(k?"":":not(.AvatarCropControl)");f(q).find("img").attr("src",n);f(q).find("span.img").css("background-image","url("+n+")")})},getEditorInForm:function(m,l){var k=f(m),n=k.find("textarea.MessageEditor"+(l||"")).first();if(n.length){if(n.prop("disabled")){return k.find(".bbCodeEditorContainer textarea"+(l||""))}else{if(n.data("redactor")){return n.data("redactor")}else{return n}}}return false},getPageScrollTagName:function(){if(f("html").scrollTop()>0){return"html"
}else{if(f("body").scrollTop()>0){return"body"}}var k=navigator.userAgent.match(/Chrome\/([0-9]+)/i);if(k&&parseInt(k[1],10)>=61){return"html"}else{if(f.browser.webkit){return"body"}else{return"html"}}},isTouchBrowser:a,scriptLoader:{loadScript:function(m,o,l){if(XenForo._loadedScripts[m]===undefined){if(/tiny_mce[a-zA-Z0-9_-]*\.js/.test(m)){var k={suffix:"",base:"",query:""},n=XenForo.baseUrl();if(/_(src|dev)\.js/g.test(m)){k.suffix="_src"}if((p=m.indexOf("?"))!=-1){k.query=m.substring(p+1)}k.base=m.substring(0,m.lastIndexOf("/"));
if(n&&k.base.indexOf("://")==-1&&k.base.indexOf("/")!==0){k.base=n+k.base}}f.ajax({type:"GET",url:m,cache:true,dataType:"script",error:l,success:function(q,r){XenForo._loadedScripts[m]=true;o.call()}})}else{o.call()}},loadCss:function(m,n,o,l){var q=[],k;f.each(m,function(s,r){if(!XenForo._loadedScripts[r]){q.push(r)}});if(q.length){k=n.replace("__sentinel__",q.join(","));k=XenForo.canonicalizeUrl(k,XenForo.ajaxBaseHref);f.ajax({type:"GET",url:k,cache:true,dataType:"text",error:l,success:function(s,t){f.each(q,function(v,u){console.log("Loaded css %d, %s",v,u);
XenForo._loadedScripts[u]=true});var r=XenForo.baseUrl();if(r){s=s.replace(/(url\(("|')?)([^"')]+)(("|')?\))/gi,function(w,x,z,v,u,y){if(!v.match(/^(https?:|\/)/i)){v=r+v}return x+v+u})}f("<style>"+s+"</style>").appendTo("head");o.call()}})}else{o.call()}}}});XenForo.ExtLoader=function(l,m,k){this.__construct(l,m,k)};XenForo.ExtLoader.prototype={__construct:function(o,q,l){this.success=q;this.failure=l;this.totalFetched=0;this.data=o;var n=0,k=0,m=0;if(o.css&&!f.isEmptyObject(o.css.stylesheets)){if(!o.css.urlTemplate){return console.warn("Unable to load CSS without a urlTemplate being provided.")
}k=1}if(o.js){n=o.js.length}this.totalExt=k+n;if(!this.totalExt){return this.callSuccess()}if(n){for(m=0;m<n;m++){XenForo.scriptLoader.loadScript(o.js[m],f.context(this,"successCount"),f.context(this,"callFailure"))}}if(k){XenForo.scriptLoader.loadCss(o.css.stylesheets,o.css.urlTemplate,f.context(this,"successCount"),f.context(this,"callFailure"))}},callSuccess:function(){if(typeof this.success=="function"){this.success(this.data)}},callFailure:function(k,m,l){if(!this.failed){if(typeof this.failure=="function"){this.failure(this.data)
}else{console.warn("ExtLoader Failure %s %s",m,k.status)}this.failed=true}},successCount:function(k){this.totalFetched++;if(this.totalFetched>=this.totalExt){this.callSuccess()}}};XenForo._TimestampRefresh=null;XenForo.TimestampRefresh=function(){this.__construct()};XenForo.TimestampRefresh.prototype={__construct:function(){this.active=this.activate();f(h).bind("XenForoWindowFocus",f.context(this,"focus"))},focus:function(k){if(!this.active){this.activate(true)}},activate:function(k){if(k){this.refresh()}return this.active=g.setInterval(f.context(this,"refresh"),60*1000)
},deactivate:function(){g.clearInterval(this.active);return this.active=false},refresh:function(n,m){if(!XenForo._hasFocus&&!m){return this.deactivate()}if(f.browser.msie&&f.browser.version<=6){return}var A=f("abbr.DateTime[data-time]",n),o=(new Date().getTime()/1000),x=o-XenForo._pageLoadTime,v=XenForo.serverTimeInfo.now,C=XenForo.serverTimeInfo.today,y=XenForo.serverTimeInfo.todayDow,t,w,s,z,u,l,r,B,D,q;if(v+x>C+86400){s=Math.floor((v+x-C)/86400);C+=s*86400;y=(y+s)%7}t=C-86400;w=C-6*86400;var k=XenForo.isRTL()?"\u200F":"";for(z=0;
z<A.length;z++){u=f(A[z]);if(!u.attr("title")){u.attr("title",u.text())}r=parseInt(u.data("diff"),10);l=parseInt(u.data("time"),10);B=l+r;if(B>v+x){B=Math.floor(v+x)}D=v-B+r+x;if(D<0){}else{if(D<=60){u.text(XenForo.phrases.a_moment_ago)}else{if(D<=120){u.text(XenForo.phrases.one_minute_ago)}else{if(D<3600){u.text(XenForo.phrases.x_minutes_ago.replace(/%minutes%/,Math.floor(D/60)))}else{if(l>=C){u.text(XenForo.phrases.today_at_x.replace(/%time%/,u.attr("data-timestring")))}else{if(l>=t){u.text(XenForo.phrases.yesterday_at_x.replace(/%time%/,u.attr("data-timestring")))
}else{if(l>=w){q=y-Math.ceil((C-l)/86400);if(q<0){q+=7}u.text(k+XenForo.phrases.day_x_at_time_y.replace("%day%",XenForo.phrases["day"+q]).replace(/%time%/,u.attr("data-timestring")))}else{u.text(k+u.attr("data-datestring"))}}}}}}}}}};XenForo.CsrfRefresh=function(){this.__construct()};XenForo.CsrfRefresh.prototype={__construct:function(){this.activate();f(h).bind("XenForoWindowFocus",f.context(this,"focus"))},focus:function(k){if(!this.active){this.activate(true)}},activate:function(k){if(k){this.refresh()}this.active=g.setInterval(f.context(this,"refresh"),50*60*1000);
return this.active},deactivate:function(){g.clearInterval(this.active);this.active=false},refresh:function(){if(!XenForo._csrfRefreshUrl){return}if(!XenForo._hasFocus){this.deactivate();return}XenForo.ajax(XenForo._csrfRefreshUrl,"",function(k,m){if(!k||k.csrfToken===undefined){return false}var l=f("input[name=_xfToken]").val(k.csrfToken);XenForo._csrfToken=k.csrfToken;if(l.length){console.log("XenForo CSRF token updated in %d places (%s)",l.length,k.csrfToken)}f(h).trigger({type:"CSRFRefresh",ajaxData:k})},{error:false,global:false})
}};XenForo._PopupMenuActiveGroup=null;XenForo.PopupMenu=function(k){this.__construct(k)};XenForo.PopupMenu.prototype={__construct:function(k){this.$container=k;this.$menu=this.$container.find(".Menu").appendTo("body");this.$menu.data("XenForo.PopupMenu",this);this.menuVisible=false;if(!this.$menu.length){console.warn("Unable to find menu for Popup %o",this.$container);return false}this.$menu.id=XenForo.uniqueId(this.$menu);this.contentSrc=this.$menu.data("contentsrc");this.contentDest=this.$menu.data("contentdest");this.loading=null;
this.unreadDisplayTimeout=null;this.newlyOpened=false;this.$clicker=k.find('[rel="Menu"]').first().click(f.context(this,"controlClick"));if(!XenForo.isTouchBrowser()){this.$clicker.mouseover(f.context(this,"controlHover")).hoverIntent({sensitivity:1,interval:100,timeout:0,over:f.context(this,"controlHoverIntent"),out:function(){}})}this.$control=this.addPopupGadget(this.$clicker);this.popupGroup=this.$control.closest("[data-popupgroup]").data("popupgroup")},addPopupGadget:function(l){if(!l.hasClass("NoPopupGadget")&&!l.hasClass("SplitCtrl")){l.append('<span class="arrowWidget" />')
}var k=l.closest(".PopupControl");if(k.length){l=k.addClass("PopupContainerControl")}l.addClass("PopupControl");return l},controlClick:function(k){console.debug("%o control clicked. NewlyOpened: %s, Animated: %s",this.$control,this.newlyOpened,this.$menu.is(":animated"));if(!this.newlyOpened&&!this.$menu.is(":animated")){console.info("control: %o",this.$control);if(this.$menu.is(":hidden")){this.showMenu(k,false)}else{if(this.$clicker.attr("href")&&!XenForo.isPositive(this.$clicker.data("closemenu"))){console.warn("Following hyperlink from %o",this.$clicker);
return true}else{this.hideMenu(k,false)}}}else{console.debug("Click on control of newly-opened or animating menu, ignored")}k.preventDefault();k.target.blur();return false},controlHover:function(k){if(this.popupGroup!=null&&this.popupGroup==this.getActiveGroup()){this.showMenu(k,true);return false}},controlHoverIntent:function(l){var k=false;if(this.$clicker.hasClass("SplitCtrl")){k=true}this.showMenu(l,k)},showMenu:function(q,l){if(this.$menu.is(":visible")){return false}var o=new f.Event("PopupMenuShow");o.$menu=this.$menu;
o.instant=l;f(h).trigger(o);if(o.isDefaultPrevented()){return false}this.menuVisible=true;this.setMenuPosition("showMenu");if(this.$menu.hasClass("BottomControl")){l=true}if(this.contentSrc&&!this.loading){this.loading=XenForo.ajax(this.contentSrc,"",f.context(this,"loadSuccess"),{type:"GET"});this.$menu.find(".Progress").addClass("InProgress");l=true}this.setActiveGroup();this.$control.addClass("PopupOpen").removeClass("PopupClosed");this.$menu.stop().xfSlideDown((l?0:XenForo.speed.xfast),f.context(this,"menuShown"));if(!this.menuEventsInitialized){var k=f("html"),m=this,n=[k.width(),k.height()];
f(h).bind({PopupMenuShow:f.context(this,"hideIfOther")});if(XenForo._isWebkitMobile){f(h.body.children).click(f.context(this,"hideMenu"))}else{f(h).click(f.context(this,"hideMenu"))}f(h).on("HideAllMenus",function(r){if(m.menuVisible){m._hideMenu(r,true)}});f(g).bind({resize:function(t){var r=k.width(),s=k.height();if(r!=n[0]||s!=n[1]){n[0]=r;n[1]=s;m._hideMenu(t)}}});this.$menu.delegate("a","click",f.context(this,"menuLinkClick"));this.$menu.delegate(".MenuCloser","click",f.context(this,"hideMenu"));this.menuEventsInitialized=true
}},hideMenu:function(l,k){if(this.$menu.is(":visible")&&this.triggersMenuHide(l)){this._hideMenu(l,!k)}},_hideMenu:function(k,l){this.menuVisible=false;this.setActiveGroup(null);if(this.$menu.hasClass("BottomControl")){l=false}clearTimeout(this.unreadDisplayTimeout);this.$menu.find(".Unread").stop();this.$menu.xfSlideUp((l?XenForo.speed.xfast:0),f.context(this,"menuHidden"))},menuShown:function(){var k=(this.$menu.data("contentsrc")?false:true),l=null;this.$control.addClass("PopupOpen").removeClass("PopupClosed");this.newlyOpened=true;
setTimeout(f.context(function(){this.newlyOpened=false},this),50);this.$menu.trigger("ShowComplete",[k]);this.setMenuPosition("menuShown");this.highlightUnreadContent();if(!XenForo.isTouchBrowser()){l=this.$menu.find("input[type=text], input[type=search], textarea, select").first();if(l.length){if(l.data("nofocus")){return}l.select()}}},menuHidden:function(){this.$control.removeClass("PopupOpen").addClass("PopupClosed");this.$menu.trigger("MenuHidden")},hideIfOther:function(k){if(k.$menu.prop(f.expando)!=this.$menu.prop(f.expando)){this.hideMenu(k,k.instant)
}},triggersMenuHide:function(l){var k=f(l.target);if(l.ctrlKey||l.shiftKey||l.altKey){return false}if(l.which>1){return false}if(k.is(".MenuCloser")){return true}if(k.is("a[href]")&&!l.isDefaultPrevented()){return true}if(l.target===h||!k.closest("#"+this.$menu.id).length){return true}return false},setMenuPosition:function(n){var v,s,w,q,k,m,r,u;s=this.$control.coords("outer");this.$menu.css("position","").removeData("position");v=this.$control;while(v&&v.length&&v.get(0)!=h){if(v.css("position")=="fixed"){s.top-=f(g).scrollTop();
s.left-=f(g).scrollLeft();this.$menu.css("position","fixed").data("position","fixed");break}v=v.parent()}this.$control.removeClass("BottomControl");this.$menu.removeClass("BottomControl").css({left:s.left,top:s.top+s.height-1});w=this.$menu.coords("outer");k=f("#content .pageContent");if(k.length){q=k.coords("outer")}else{q=f("body").coords("outer")}m=f(g);var o=m.scrollTop(),t=m.scrollLeft(),l=m.width();if(XenForo.isRTL()||w.left+w.width>q.left+q.width){r=Math.max(0,s.left+s.width-w.width);if(r>t){this.$menu.css("left",r)}}if(parseInt(this.$menu.css("left"),10)+w.width>l+t){this.$menu.css("left",0)
}if(w.top+w.height>m.height()+o){u=s.top-w.height;if(u>o){this.$control.addClass("BottomControl");this.$menu.addClass("BottomControl");this.$menu.css("top",s.top-this.$menu.outerHeight())}}},loadSuccess:function(k,m){if(XenForo.hasResponseError(k)||!XenForo.hasTemplateHtml(k)){return false}if(!this.contentDest){console.warn("Menu content destination not specified, using this.$menu.");this.contentDest=this.$menu}console.info("Content destination: %o",this.contentDest);var l=this;new XenForo.ExtLoader(k,function(o){l.$menu.trigger("LoadComplete");
var n=f(o.templateHtml);n.xfInsert(l.$menu.data("insertfn")||"appendTo",l.contentDest,"slideDown",0,function(){l.$menu.css("min-width","199px");setTimeout(function(){l.$menu.css("min-width","")},0);if(l.$control.hasClass("PopupOpen")){l.menuShown()}});l.$menu.find(".Progress").removeClass("InProgress")})},resetLoader:function(){if(this.contentDest&&this.loading){delete (this.loading);f(this.contentDest).empty();this.$menu.find(".Progress").addClass("InProgress")}},menuLinkClick:function(k){this.hideMenu(k,true)},setActiveGroup:function(l){var k=(l===undefined?this.popupGroup:l);
return XenForo._PopupMenuActiveGroup=k},getActiveGroup:function(){return XenForo._PopupMenuActiveGroup},highlightUnreadContent:function(){var k=this.$menu.find(".Unread"),l=null,m=null;if(k.length){l=k.data("defaultbackground");if(l){k.css("backgroundColor",null);this.unreadDisplayTimeout=setTimeout(f.context(function(){if(m=this.$menu.data("removecounter")){XenForo.balloonCounterUpdate(f(m),0)}k.animate({backgroundColor:l},2000,f.context(function(){k.removeClass("Unread");this.$menu.trigger("UnreadDisplayComplete")},this))},this),1000)
}}}};XenForo.AjaxProgress=function(){var k=null,l=function(){f(".Progress, .xenForm .ctrlUnit.submitUnit dt").addClass("InProgress");if(!k){k=f('<div id="AjaxProgress" class="xenOverlay"><div class="content"><span class="close" /></div></div>').appendTo("body").overlay({top:0,speed:XenForo.speed.fast,oneInstance:false,closeOnClick:false,closeOnEsc:false}).data("overlay")}k.load()},m=function(){f(".Progress, .xenForm .ctrlUnit.submitUnit dt").removeClass("InProgress");if(k&&k.isOpened()){k.close()}};f(h).bind({ajaxStart:function(n){XenForo._AjaxProgress=true;
l()},ajaxStop:function(n){XenForo._AjaxProgress=false;m()},PseudoAjaxStart:function(n){l()},PseudoAjaxStop:function(n){m()}});if(f.browser.msie&&f.browser.version<7){f(h).bind("scroll",function(n){if(k&&k.isOpened()&&!k.getConf().fixed){k.getOverlay().css("top",k.getConf().top+f(g).scrollTop())}})}};XenForo.PageNav=function(k){this.__construct(k)};XenForo.PageNav.prototype={__construct:function(l){if(XenForo.isRTL()){return false}var k=l.find(".scrollable");if(!k.length){return false}console.info("PageNav %o",l);this.start=parseInt(l.data("start"));
this.page=parseInt(l.data("page"));this.end=parseInt(l.data("end"));this.last=parseInt(l.data("last"));this.range=parseInt(l.data("range"));this.size=(this.range*2+1);this.baseurl=l.data("baseurl");this.sentinel=l.data("sentinel");k.scrollable({speed:XenForo.speed.slow,easing:"easeOutBounce",keyboard:false,prev:"#nullPrev",next:"#nullNext",touch:false});this.api=k.data("scrollable").onBeforeSeek(f.context(this,"beforeSeek"));this.$prevButton=l.find(".PageNavPrev").click(f.context(this,"prevPage"));this.$nextButton=l.find(".PageNavNext").click(f.context(this,"nextPage"));
this.setControlVisibility(this.api.getIndex(),0)},prevPage:function(m){if(this.api.getIndex()==0&&this.start>2){var l=0,k=Math.max(2,(this.start-this.size));for(l=this.start-1;l>=k;l--){this.prepend(l)}this.start=k}this.api.seekTo(Math.max(this.api.getIndex()-this.size,0))},nextPage:function(m){if((this.api.getIndex()+1+2*this.size)>this.api.getSize()&&this.end<this.last-1){var l=0,k=Math.min(this.last-1,this.end+this.size);for(l=this.end+1;l<=k;l++){this.append(l)}this.end=k}this.api.seekTo(Math.min(this.api.getSize()-this.size,this.api.getIndex()+this.size))
},prepend:function(k){this.buildPageLink(k).prependTo(this.api.getItemWrap());this.api.next(0)},append:function(k){this.buildPageLink(k).appendTo(this.api.getItemWrap())},buildPageLink:function(k){return f("<a />",{href:this.buildPageUrl(k),text:k,"class":(k>999?"gt999":"")})},buildPageUrl:function(k){return this.baseurl.replace(this.sentinel,k).replace(escape(this.sentinel),k)},beforeSeek:function(l,k){this.setControlVisibility(k,XenForo.speed.fast)},setControlVisibility:function(k,l){if(k==0&&this.start<=2){this.$prevButton.hide(l)
}else{this.$prevButton.show(l)}if(this.api.getSize()-this.size<=k&&this.end>=this.last-1){this.$nextButton.hide(l)}else{this.$nextButton.show(l)}}};XenForo.ToggleTrigger=function(k){this.__construct(k)};XenForo.ToggleTrigger.prototype={__construct:function(k){this.$trigger=k;this.loaded=false;this.targetVisible=false;this.$target=null;if(k.data("target")){var m=k.closest(".ToggleTriggerAnchor");if(!m.length){m=f("body")}var n=m.find(k.data("target"));if(n.length){this.$target=n;var l=n.data("toggle-class");this.targetVisible=l?n.hasClass(l):n.is(":visible")
}}if(k.data("only-if-hidden")&&XenForo.isPositive(k.data("only-if-hidden"))&&this.targetVisible){return}k.click(f.context(this,"toggle"))},toggle:function(q){q.preventDefault();var l=this.$trigger,k=this.$target;if(l.data("toggle-if-pointer")&&XenForo.isPositive(l.data("toggle-if-pointer"))){if(l.css("cursor")!=="pointer"){return}}if(l.data("toggle-text")){var o=l.text();l.text(l.data("toggle-text"));l.data("toggle-text",o)}if(q.pageX||q.pageY){l.blur()}if(k){f(h).trigger("ToggleTriggerEvent",{closing:this.targetVisible,$target:k});
this.hideSelfIfNeeded();var m=function(){k.trigger("elementResized")};var n=k.data("toggle-class");if(this.targetVisible){if(n){k.removeClass(n);m()}else{k.xfFadeUp(null,m)}}else{if(n){k.addClass(n);m()}else{k.xfFadeDown(null,m)}}this.targetVisible=!this.targetVisible}else{this.load()}},hideSelfIfNeeded:function(){var m=this.$trigger.data("hide");if(!m){return false}var l;if(m=="self"){l=this.$trigger}else{var k=this.$trigger.closest(".ToggleTriggerAnchor");if(!k.length){k=f("body")}l=k.find(m)}l.hide();return},load:function(){if(this.loading||!this.$trigger.attr("href")){return
}var k=this;var l=f(this.$trigger.data("position"));if(!l.length){l=this.$trigger.closest(".ToggleTriggerAnchor");if(!l.length){console.warn("Could not match toggle target position selector %s",this.$trigger.data("position"));return false}}var m=this.$trigger.data("position-method")||"insertAfter";this.loading=true;XenForo.ajax(this.$trigger.attr("href"),{},function(n){k.loading=false;if(XenForo.hasResponseError(n)){return false}if(n._redirectStatus&&n._redirectTarget){var o=function(){XenForo.redirect(n._redirectTarget)};if(XenForo._manualDeferOverlay){f(h).one("ManualDeferComplete",o)
}else{o()}return false}if(!n.templateHtml){return false}new XenForo.ExtLoader(n,function(q){k.$target=f(q.templateHtml);k.$target.xfInsert(m,l);k.targetVisible=true;k.hideSelfIfNeeded()})})}};XenForo.OverlayTrigger=function(k,l){this.__construct(k,l)};XenForo.OverlayTrigger.prototype={__construct:function(k,l){this.$trigger=k.click(f.context(this,"show"));this.options=l},show:function(n){var o=this.$trigger.closest(".xenOverlay").data("overlay"),k,t,l=(this.$trigger.is(".username, .avatar")),m;if(!parseInt(XenForo._enableOverlays)){if(this.$trigger.attr("href")){return true
}else{if(this.$trigger.data("href")){if(this.$trigger.closest(".AttachmentUploader, #AttachmentUploader").length==0){XenForo.redirect(this.$trigger.data("href"));return false}}else{console.warn("No alternative action found for OverlayTrigger %o",this.$trigger);return true}}}if(l&&this.$trigger.hasClass("NoOverlay")){return true}if(n.ctrlKey||n.shiftKey||n.altKey){return true}if(n.which>1){return true}if(this.options&&this.options.onBeforeTrigger){var q=f.Event();q.clickEvent=n;this.options.onBeforeTrigger(q);if(q.isDefaultPrevented()){return
}}var r=f.Event("BeforeOverlayTrigger");this.$trigger.trigger(r);if(r.isDefaultPrevented()){return}n.preventDefault();if(o&&o.isOpened()){var s=this;o.getTrigger().one("onClose",function(u){setTimeout(function(){s.show(u)},0)});o.getConf().mask.closeSpeed=0;o.close();return}if(!this.OverlayLoader){t=(typeof this.options=="object"?this.options:{});t=f.extend(t,this.$trigger.data("overlayoptions"));k=this.$trigger.data("cacheoverlay");if(k!==undefined){if(XenForo.isPositive(k)){k=true}else{k=false;t.onClose=f.context(this,"deCache")
}}else{if(this.$trigger.is("input:submit")){k=false;t.onClose=f.context(this,"deCache")}}if(l&&!this.$trigger.hasClass("OverlayTrigger")){if(!this.$trigger.data("cardurl")&&this.$trigger.attr("href")){m=this.$trigger.attr("href").replace(/#.*$/,"");if(m.indexOf("?")>=0){m+="&card=1"}else{m+="?card=1"}this.$trigger.data("cardurl",m)}k=true;t.speed=XenForo.speed.fast}this.OverlayLoader=new XenForo.OverlayLoader(this.$trigger,k,t);this.OverlayLoader.load();n.preventDefault();return true}this.OverlayLoader.show()},deCache:function(){if(this.OverlayLoader&&this.OverlayLoader.overlay){console.info("DeCache %o",this.OverlayLoader.overlay.getOverlay());
this.OverlayLoader.overlay.getTrigger().removeData("overlay");this.OverlayLoader.overlay.getOverlay().empty().remove()}delete (this.OverlayLoader)}};XenForo.LightBoxTrigger=function(l){var k="*[data-author]";new XenForo.OverlayTrigger(l.data("cacheoverlay",1),{top:15,speed:1,closeSpeed:0,closeOnResize:true,mask:{color:"rgb(0,0,0)",opacity:0.6,loadSpeed:0,closeSpeed:0},onBeforeTrigger:function(m){if(f(g).height()<500){m.preventDefault()}},onBeforeLoad:function(n){if(typeof XenForo.LightBox=="function"){if(XenForo._LightBoxObj===undefined){XenForo._LightBoxObj=new XenForo.LightBox(this,k)
}var m=(parseInt(XenForo._lightBoxUniversal)?f("body"):l.closest(k));console.info("Opening LightBox for %o using %s",m,k);XenForo._LightBoxObj.setThumbStrip(m);XenForo._LightBoxObj.setImage(this.getTrigger().find("img:first"));f(h).triggerHandler("LightBoxOpening")}return true},onLoad:function(m){XenForo._LightBoxObj.setDimensions(true);XenForo._LightBoxObj.bindNav();return true},onClose:function(m){XenForo._LightBoxObj.setImage();XenForo._LightBoxObj.unbindNav();XenForo._LightBoxObj.resetHeight();return true}})};XenForo.OverlayLoaderCache={};
XenForo.OverlayLoader=function(k,l,m){this.__construct(k,m,l)};XenForo.OverlayLoader.prototype={__construct:function(k,m,l){this.$trigger=k;this.cache=l;this.options=m},load:function(m){if(this.$trigger.is("input:submit")){this.cache=false;if(!this.xhr){var k=this.$trigger.closest("form"),l=k.serializeArray();l.push({name:this.$trigger.attr("name"),value:this.$trigger.attr("value")});this.xhr=XenForo.ajax(k.attr("action"),l,f.context(this,"loadSuccess"))}return}this.href=this.$trigger.data("cardurl")||this.$trigger.data("href")||this.$trigger.attr("href");
if(!this.href){console.warn("No overlay href found for control %o",this.$trigger);return false}console.info("OverlayLoader for %s",this.href);this.callback=m;if(this.cache&&XenForo.OverlayLoaderCache[this.href]){this.createOverlay(XenForo.OverlayLoaderCache[this.href])}else{if(!this.xhr){this.xhr=XenForo.ajax(this.href,"",f.context(this,"loadSuccess"),{type:"GET"})}}},loadSuccess:function(k,m){delete (this.xhr);if(XenForo.hasResponseError(k)){return false}if(k._redirectStatus&&k._redirectTarget){var l=function(){XenForo.redirect(k._redirectTarget)
};if(XenForo._manualDeferOverlay){f(h).one("ManualDeferComplete",l)}else{l()}return false}this.options.title=k.h1||k.title;new XenForo.ExtLoader(k,f.context(this,"createOverlay"))},createOverlay:function(k){var l=(k&&k.templateHtml)?k.templateHtml:k;this.overlay=XenForo.createOverlay(this.$trigger,l,this.options);if(this.cache){XenForo.OverlayLoaderCache[this.href]=this.overlay.getOverlay()}if(typeof this.callback=="function"){this.callback()}this.show()},show:function(){if(!this.overlay){console.warn("Attempted to call XenForo.OverlayLoader.show() for %s before overlay is created",this.href);
this.load(this.callback);return}this.overlay.load();f(h).trigger({type:"XFOverlay",overlay:this.overlay,trigger:this.$trigger})}};XenForo.LoginBar=function(n){var l=f("#login").appendTo(n.find(".pageContent")),k=function(o){o.preventDefault();XenForo.chromeAutoFillFix(l);l.xfSlideIn(XenForo.speed.slow,"easeOutBack",function(){f("#LoginControl").select();n.expose(f.extend(XenForo._overlayConfig.mask,{loadSpeed:XenForo.speed.slow,onBeforeLoad:function(q){l.css("outline","0px solid black")},onLoad:function(q){l.css("outline","")
},onBeforeClose:function(q){m(false,true);return true}}))})},m=function(q,o){if(q){q.target.blur()}l.xfSlideOut(XenForo.speed.fast);if(!o&&f.mask){f.mask.close()}};f('label[for="LoginControl"]').click(function(o){if(f(this).closest("#login").length==0){o.preventDefault();if(l._xfSlideWrapper(true)){m(o)}else{f(XenForo.getPageScrollTagName()).scrollTop(0);k(o)}}});n.delegate('input[name="register"]',"click",function(r){var q=l.find("input.button.primary"),o=l.find('input[name="register"]:checked').val();l.find("input.button.primary").val(o=="1"?q.data("signupphrase"):q.data("loginphrase"));
l.find("label.rememberPassword").css("visibility",(o=="1"?"hidden":"visible"))});n.delegate(".close","click",m)};XenForo.QuickSearch=function(k){var l=0;f("#QuickSearchPlaceholder").click(function(m){m.preventDefault();setTimeout(function(){f("#QuickSearch").addClass("show");f("#QuickSearchPlaceholder").addClass("hide");f("#QuickSearchQuery").focus();if(XenForo.isTouchBrowser()){f("#QuickSearchQuery").blur()}},0)});f("#QuickSearchQuery").focus(function(m){l++;console.log("Show quick search menu (%s)",l);if(l==1&&f.browser.msie&&f.browser.version<9){k.find("input").keydown(function(n){if(n.keyCode==13){f(this).parents("form").submit();
return false}})}if(l==1){f(XenForo._isWebkitMobile?h.body.children:h).on("click",function(n){if(!f(n.target).closest("#QuickSearch").length){console.log("Hide quick search menu");f("#QuickSearch").removeClass("show");f("#QuickSearchPlaceholder").removeClass("hide");k.find(".secondaryControls").slideUp(XenForo.speed.xfast,function(){k.removeClass("active");if(f.browser.msie){f("body").css("zoom",1);setTimeout(function(){f("body").css("zoom","")},100)}})}})}k.addClass("active");k.find(".secondaryControls").slideDown(0)})};XenForo.configureTooltipRtl=function(k){if(k.offset!==undefined){k.offset=XenForo.switchOffsetRTL(k.offset)
}if(k.position!==undefined){k.position=XenForo.switchStringRTL(k.position)}return k};XenForo.Tooltip=function(u){var r=String(u.data("tipclass")||""),m=/(\s|^)flipped(\s|$)/.test(r);if(u.closest(".linkGroup").length&&!m){m=true;r+=" flipped"}var l=parseInt(u.data("offsety"),10)||-6,s=u.is(":visible")?u.innerWidth():0,o=parseInt(u.data("offsetx"),10)||0,q=o+s*(m?1:-1),t=XenForo.htmlspecialchars(u.attr("title"));var n=null;if(s<=0){var k=false;n=function(){if(k){return}var v=u.innerWidth();if(v<=0){return}k=true;q=o+v*(m?1:-1);
u.data("tooltip").getConf().offset=XenForo.switchOffsetRTL([l,q])}}u.attr("title",t).tooltip(XenForo.configureTooltipRtl({delay:0,position:u.data("position")||"top "+(m?"left":"right"),offset:[l,q],tipClass:"xenTooltip "+r,layout:'<div><span class="arrow" /></div>',onBeforeShow:n}))};XenForo.StatusTooltip=function(k){if(k.attr("title")){var l=XenForo.htmlspecialchars(k.attr("title"));k.attr("title",l).tooltip(XenForo.configureTooltipRtl({effect:"slide",slideOffset:30,position:"bottom right",offset:[10,10],tipClass:"xenTooltip statusTip",layout:'<div><span class="arrow" /></div>'}))
}};XenForo.NodeDescriptionTooltip=function(m){var l=m.data("description");if(l&&f(l).length){var k=f(l).addClass("xenTooltip nodeDescriptionTip").appendTo("body").append('<span class="arrow" />');m.tooltip(XenForo.configureTooltipRtl({effect:"slide",slideOffset:30,offset:[30,10],slideInSpeed:XenForo.speed.xfast,slideOutSpeed:50*XenForo._animationSpeedMultiplier,predelay:250,position:"bottom right",tip:l,onBeforeShow:function(){if(!m.data("tooltip-shown")){if(f(g).width()<600){var n=m.data("tooltip").getConf();n.slideOffset=0;
n.effect="toggle";n.offset=[20,-m.width()];n.position=["top","right"];if(XenForo.isRTL()){n.offset[1]*=-1;n.position[1]="left"}k.addClass("arrowBottom")}m.data("tooltip-shown",true)}}}));m.click(function(){f(this).data("tooltip").hide()})}};XenForo.AccountMenu=function(k){k.find(".submitUnit").hide();k.find(".StatusEditor").focus(function(l){if(k.is(":visible")){k.find(".submitUnit").show()}})};XenForo.FollowLink=function(k){k.click(function(l){l.preventDefault();k.get(0).blur();XenForo.ajax(k.attr("href"),{_xfConfirm:1},function(m,n){if(XenForo.hasResponseError(m)){return false
}k.xfFadeOut(XenForo.speed.fast,function(){k.attr("href",m.linkUrl).html(m.linkPhrase).xfFadeIn(XenForo.speed.fast)})})})};XenForo.AttributionLink=function(k){k.click(function(o){if(f(this.hash).length){try{var n=this.hash,m=f(this.hash).offset().top,l=XenForo.getPageScrollTagName();if("pushState" in g.history){g.history.pushState({},"",g.location.toString().replace(/#.*$/,"")+n)}f(l).animate({scrollTop:m},XenForo.speed.normal,"easeOutBack",function(){if(!g.history.pushState){g.location.hash=n}})}catch(o){g.location.hash=this.hash
}o.preventDefault()}})};XenForo.ClickProxy=function(k){k.click(function(l){f(k.attr("rel")).click();if(!k.data("allowdefault")){return false}})};XenForo.ReCaptcha=function(k){this.__construct(k)};XenForo.ReCaptcha.prototype={__construct:function(k){if(XenForo.ReCaptcha.instance){XenForo.ReCaptcha.instance.remove()}XenForo.ReCaptcha.instance=this;this.publicKey=k.data("publickey");if(!this.publicKey){return}k.siblings("noscript").remove();k.uniqueId();this.$captcha=k;this.type="image";k.find(".ReCaptchaReload").click(f.context(this,"reload"));
k.find(".ReCaptchaSwitch").click(f.context(this,"switchType"));this.load();f(g).unload(f.context(this,"remove"));k.closest("form.AutoValidator").bind({AutoValidationDataReceived:f.context(this,"reload")})},load:function(){if(g.Recaptcha){this.create()}else{var l=f.context(this,"create"),k=(f.browser.msie&&f.browser.version<=6?250:0);f.getScript("https://www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){setTimeout(l,k)})}},create:function(){var k=this.$captcha;g.Recaptcha.create(this.publicKey,k.attr("id"),{theme:"custom",callback:function(){k.show();
f("#ReCaptchaLoading").remove();f("#recaptcha_challenge_field").val(g.Recaptcha.get_challenge())}})},reload:function(k){if(!g.Recaptcha){return}if(!f(k.target).is("form")){k.preventDefault()}g.Recaptcha.reload()},switchType:function(k){k.preventDefault();this.type=(this.type=="image"?"audio":"image");g.Recaptcha.switch_type(this.type)},remove:function(){this.$captcha.empty().remove();if(g.Recaptcha){g.Recaptcha.destroy()}}};XenForo.ReCaptcha.instance=null;XenForo.NoCaptcha=function(k){this.__construct(k)};XenForo.NoCaptcha.prototype={__construct:function(k){this.$captcha=k;
this.noCaptchaId=null;k.closest("form.AutoValidator").bind({AutoValidationDataReceived:f.context(this,"reload")});if(g.grecaptcha){this.create()}else{XenForo.NoCaptcha._callbacks.push(f.context(this,"create"));f.getScript("https://www.google.com/recaptcha/api.js?onload=XFNoCaptchaCallback&render=explicit")}},create:function(){if(!g.grecaptcha){return}this.noCaptchaId=grecaptcha.render(this.$captcha[0],{sitekey:this.$captcha.data("sitekey")})},reload:function(){if(!g.grecaptcha||this.noCaptchaId===null){return}grecaptcha.reset(this.noCaptchaId)
}};XenForo.NoCaptcha._callbacks=[];g.XFNoCaptchaCallback=function(){var k=XenForo.NoCaptcha._callbacks;for(var l=0;l<k.length;l++){k[l]()}};XenForo.SolveMediaCaptcha=function(k){this.__construct(k)};XenForo.SolveMediaCaptcha.prototype={__construct:function(k){if(XenForo.SolveMediaCaptcha.instance){XenForo.SolveMediaCaptcha.instance.remove()}XenForo.SolveMediaCaptcha.instance=this;this.cKey=k.data("c-key");if(!this.cKey){return}k.siblings("noscript").remove();k.uniqueId();this.$captcha=k;this.type="image";this.load();f(g).unload(f.context(this,"remove"));
k.closest("form.AutoValidator").bind({AutoValidationDataReceived:f.context(this,"reload")})},load:function(){if(g.ACPuzzle){this.create()}else{var k=g.location.protocol=="https:"?"https://api-secure":"http://api";g.ACPuzzleOptions={onload:f.context(this,"create")};XenForo.loadJs(k+".solvemedia.com/papi/challenge.ajax")}},create:function(){var k=this.$captcha;g.ACPuzzle.create(this.cKey,k.attr("id"),{theme:k.data("theme")||"white",lang:f("html").attr("lang").substr(0,2)||"en"})},reload:function(k){if(!g.ACPuzzle){return}if(!f(k.target).is("form")){k.preventDefault()
}g.ACPuzzle.reload()},remove:function(){this.$captcha.empty().remove();if(g.ACPuzzle){g.ACPuzzle.destroy()}}};XenForo.SolveMediaCaptcha.instance=null;XenForo.KeyCaptcha=function(k){this.__construct(k)};XenForo.KeyCaptcha.prototype={__construct:function(k){this.$captcha=k;this.$form=k.closest("form");this.$form.uniqueId();this.$codeEl=this.$form.find("input[name=keycaptcha_code]");this.$codeEl.uniqueId();this.load();k.closest("form.AutoValidator").bind({AutoValidationDataReceived:f.context(this,"reload")})},load:function(){if(g.s_s_c_onload){this.create()
}else{var k=this.$captcha;g.s_s_c_user_id=k.data("user-id");g.s_s_c_session_id=k.data("session-id");g.s_s_c_captcha_field_id=this.$codeEl.attr("id");g.s_s_c_submit_button_id="sbutton-#-r";g.s_s_c_web_server_sign=k.data("sign");g.s_s_c_web_server_sign2=k.data("sign2");h.s_s_c_element=this.$form[0];h.s_s_c_debugmode=1;var l=f("#div_for_keycaptcha");if(!l.length){f("body").append('<div id="div_for_keycaptcha" />')}XenForo.loadJs("https://backs.keycaptcha.com/swfs/cap.js")}},create:function(){g.s_s_c_onload(this.$form.attr("id"),this.$codeEl.attr("id"),"sbutton-#-r")
},reload:function(k){if(!g.s_s_c_onload){return}if(!f(k.target).is("form")){k.preventDefault()}this.load()}};XenForo.Captcha=function(l){var k=l.closest("form");k.off("AutoValidationDataReceived.captcha").on("AutoValidationDataReceived.captcha",function(m){l.fadeTo(XenForo.speed.fast,0.5);XenForo.ajax(l.data("source"),{},function(n,o){if(XenForo.hasResponseError(n)){return false}if(XenForo.hasTemplateHtml(n)){l.xfFadeOut(XenForo.speed.xfast,function(){f(n.templateHtml).xfInsert("replaceAll",l,"xfFadeIn",XenForo.speed.xfast)})
}})})};XenForo.BbCodeImage=function(k){this.__construct(k)};XenForo.BbCodeImage.prototype={__construct:function(k){this.$image=k;this.actualWidth=0;if(k.closest("a").length){return}k.attr("title",XenForo.phrases.click_image_show_full_size_version||"Show full size").click(f.context(this,"toggleFullSize"));if(!XenForo.isTouchBrowser()){this.$image.tooltip(XenForo.configureTooltipRtl({effect:"slide",slideOffset:30,position:"top center",offset:[45,0],tipClass:"xenTooltip bbCodeImageTip",onBeforeShow:f.context(this,"isResized"),onShow:f.context(this,"addTipClick")}))
}if(!this.getImageWidth()){var l=k.attr("src");k.bind({load:f.context(this,"getImageWidth")});k.attr("src",l)}},getImageWidth:function(){this.$image.css({"max-width":"none","max-height":"none"});this.actualWidth=this.$image.width();this.$image.css({"max-width":"","max-height":""});return this.actualWidth},toggleFullSize:function(u){if(this.actualWidth==0){this.getImageWidth()}var n=this.$image.width(),s,l,q,r,m,v,t,k,o=g.navigator.userAgent.match(/Android|iOS|iPhone|iPad|Mobile Safari/i)?0:XenForo.speed.normal,w="easeInOutQuart";
if(this.actualWidth>n){s=this.$image.offset();l=s;q=this.actualWidth/n;v=u.pageX-s.left;t=u.pageY-s.top;if(XenForo.isRTL()){l.right=f("html").width()-l.left-n;l.left="auto"}k=f("<img />",{src:this.$image.attr("src")}).addClass("bbCodeImageFullSize").css("width",n).css(l).click(function(){f(this).remove();f(XenForo.getPageScrollTagName()).scrollLeft(0).scrollTop(s.top)}).appendTo("body").animate({width:this.actualWidth},o,w);f(h).one("OverlayOpening",function(){k.remove()});f(h).bind("ToggleTriggerEvent",f.context(function(y,x){if(x.closing&&x.$target.find(this.$image).length){console.info("Target is parent of this image %o",this.$image);
k.remove()}},this));if(u.target==this.$image.get(0)){r=s.left+(u.pageX-s.left)*q-f(g).width()/2;m=s.top+(u.pageY-s.top)*q-f(g).height()/2}else{r=s.left+(this.actualWidth/2)-f(g).width()/2;m=s.top+(this.$image.height()*q/2)-f(g).height()/2}f(XenForo.getPageScrollTagName()).animate({scrollLeft:r,scrollTop:m},o,w,f.context(function(){var x=this.$image.data("tooltip");if(x){x.hide()}},this))}else{console.log("BBCodeImage: this.actualWidth = %d, currentWidth = %d",this.actualWidth,n)}},isResized:function(l){var k=this.$image.width();
if(!k){return false}if(this.getImageWidth()<=k){return false}},addTipClick:function(k){if(!this.tipClickAdded){f(this.$image.data("tooltip").getTip()).click(f.context(this,"toggleFullSize"));this.tipClickAdded=true}}};XenForo.Tabs=function(k){this.__construct(k)};XenForo.Tabs.prototype={__construct:function(o){var q=false;this.$tabContainer=o;this.$panes=f(o.data("panes"));var n=o.find("a");if(!n.length){n=o.children()}var m=n.filter(".active"),r=0;if(m.length){n.each(function(){if(this==m.get(0)){return false}r++})}if(g.location.hash.length>1){var s=g.location.hash.substr(1),l=-1,k=false;
this.$panes.each(function(){l++;if(f(this).attr("id")===s){k=true;return false}return true});if(k){r=l}}o.tabs(this.$panes,{current:"active",history:q,initialIndex:r,onBeforeClick:f.context(this,"onBeforeClick")});this.api=o.data("tabs")},getCurrentTab:function(){return this.api.getIndex()},click:function(k){this.api.click(k)},onBeforeClick:function(n,k){this.$tabContainer.children().each(function(o){if(k==o){f(this).addClass("active")}else{f(this).removeClass("active")}});var m=f(this.$panes.get(k)),l=m.data("loadurl");if(l){m.data("loadurl","");
XenForo.ajax(l,{},function(o){if(XenForo.hasTemplateHtml(o)||XenForo.hasTemplateHtml(o,"message")){new XenForo.ExtLoader(o,function(r){var q;if(r.templateHtml){q=f(r.templateHtml)}else{if(r.message){q=f('<div class="section" />').html(r.message)}}m.html("");if(q){q.xfInsert("appendTo",m,"xfFadeIn",0)}})}else{if(XenForo.hasResponseError(o)){return false}}},{type:"GET"})}}};XenForo.LikeLink=function(k){k.click(function(m){m.preventDefault();var l=f(this);XenForo.ajax(this.href,{},function(n,s){if(XenForo.hasResponseError(n)){return false
}l.stop(true,true);if(n.term){l.find(".LikeLabel").html(n.term);if(n.cssClasses){f.each(n.cssClasses,function(t,u){l[u=="+"?"addClass":"removeClass"](t)})}}if(n.templateHtml===""){f(l.data("container")).xfFadeUp(XenForo.speed.fast,function(){f(this).empty().xfFadeDown(0)})}else{var r=f(l.data("container")),q=r.find(".LikeText"),o=f(n.templateHtml);if(q.length){q.xfFadeOut(50,function(){var t=this.parentNode;f(this).remove();o.find(".LikeText").xfInsert("appendTo",t,"xfFadeIn",50)})}else{new XenForo.ExtLoader(n,function(){o.xfInsert("appendTo",r)
})}}})})};XenForo.Facebook={initialized:false,loading:false,parsed:false,appId:"",fbUid:0,authResponse:{},locale:"en-US",init:function(){if(XenForo.Facebook.initialized){return}XenForo.Facebook.initialized=true;XenForo.Facebook.loading=false;f(h.body).append(f('<div id="fb-root" />'));var k={version:"v2.10",xfbml:false,oauth:true,channelUrl:XenForo.canonicalizeUrl("fb_channel.php?l="+XenForo.Facebook.locale)};if(XenForo.Facebook.appId){k.appId=XenForo.Facebook.appId}FB.init(k);if(XenForo.Facebook.appId&&XenForo.Facebook.fbUid){FB.Event.subscribe("auth.authResponseChange",XenForo.Facebook.sessionChange);
FB.getLoginStatus(XenForo.Facebook.sessionChange);if(XenForo.visitor.user_id){f(h).delegate("a.LogOut:not(.OverlayTrigger)","click",XenForo.Facebook.eLogOutClick)}}FB.XFBML.parse(null,function(){XenForo.Facebook.parsed=true})},start:function(){var k=f.getCookie("fbUid");if(k&&k.length){XenForo.Facebook.fbUid=parseInt(k,10)}if(f(".fb-post, .fb-video, .fb-page, .fb-like, .fb-share-button").length){XenForo.Facebook.forceInit=true}if(!XenForo.Facebook.forceInit&&(!XenForo.Facebook.appId||!XenForo.Facebook.fbUid)){return}XenForo.Facebook.load()
},load:function(){if(XenForo.Facebook.parsed){FB.XFBML.parse();return}if(XenForo.Facebook.loading){return}XenForo.Facebook.loading=true;XenForo.Facebook.locale=f("html").attr("lang").replace("-","_");if(!XenForo.Facebook.locale){XenForo.Facebook.locale="en_US"}var l=h.createElement("script"),k=XenForo.Facebook.locale.replace("-","_");l.src="https://connect.facebook.net/"+XenForo.Facebook.locale+"/sdk.js";l.async=true;g.fbAsyncInit=XenForo.Facebook.init;h.getElementsByTagName("head")[0].appendChild(l)},sessionChange:function(l){if(!XenForo.Facebook.fbUid){return
}var k=l.authResponse,m=XenForo.visitor;XenForo.Facebook.authResponse=k;if(k&&!m.user_id){if(!XenForo._noSocialLogin){XenForo.alert(XenForo.phrases.logging_in+"...","",8000);setTimeout(function(){XenForo.redirect("index.php?register/facebook&t="+escape(k.accessToken)+"&redirect="+escape(g.location))},250)}}},logout:function(m,l){var k=f("a.LogOut:not(.OverlayTrigger)").attr("href");if(!k){k="index.php?logout/&_xfToken="+XenForo._csrfToken}if(l){k+=(k.indexOf("?")>=0?"&":"?")+"redirect="+escape(g.location)}XenForo.redirect(k)},eLogOutClick:function(k){if(XenForo.Facebook.authResponse&&XenForo.Facebook.authResponse.userID){FB.logout(XenForo.Facebook.logout);
return false}}};XenForo.Prompt=function(k){this.__construct(k)};if("placeholder" in h.createElement("input")){XenForo.Prompt.prototype={__construct:function(k){this.$input=k},isEmpty:function(){return(this.$input.strval()==="")},val:function(l,k){if(l===undefined){return this.$input.val()}else{if(k){this.$input.focus()}return this.$input.val(l)}}}}else{XenForo.Prompt.prototype={__construct:function(k){console.log("Emulating placeholder behaviour for %o",k);this.placeholder=k.attr("placeholder");this.$input=k.bind({focus:f.context(this,"setValueMode"),blur:f.context(this,"setPromptMode")});
this.$input.closest("form").bind({submit:f.context(this,"eFormSubmit"),AutoValidationBeforeSubmit:f.context(this,"eFormSubmit"),AutoValidationComplete:f.context(this,"eFormSubmitted")});this.setPromptMode()},isEmpty:function(){var k=this.$input.val();return(k===""||k==this.placeholder)},setPromptMode:function(){if(this.isEmpty()){this.$input.val(this.placeholder).addClass("prompt")}},setValueMode:function(){if(this.isEmpty()){this.$input.val("").removeClass("prompt").select()}},val:function(l,k){if(l===undefined){if(this.isEmpty()){return""
}else{return this.$input.val()}}else{if(l===""){this.$input.val("");if(k===undefined){this.setPromptMode()}}else{this.setValueMode();this.$input.val(l)}}},eFormSubmit:function(){if(this.isEmpty()){this.$input.val("")}return true},eFormSubmitted:function(){this.setPromptMode()}}}XenForo.SpinBox=function(k){this.__construct(k)};XenForo.SpinBox.prototype={__construct:function(o){var n,m,l,k;if(o.attr("step")===undefined){console.warn("ERROR: No data-step attribute specified for spinbox.");return}this.parameters={step:null,min:null,max:null};
for(n in this.parameters){if(o.attr(n)===undefined){delete this.parameters[n]}else{this.parameters[n]=parseFloat(o.attr(n))}}m=o.width();l=f('<input type="button" class="button spinBoxButton up" value="+" data-plusminus="+" tabindex="-1" />').insertAfter(o).focus(f.context(this,"eFocusButton")).click(f.context(this,"eClickButton")).mouseenter(f.context(this,"eMouseEnter")).mousedown(f.context(this,"eMousedownButton")).on("mouseleave mouseup",f.context(this,"eMouseupButton"));k=f('<input type="button" class="button spinBoxButton down" value="-" data-plusminus="-" tabindex="-1" />').insertAfter(l).focus(f.context(this,"eFocusButton")).click(f.context(this,"eClickButton")).mouseenter(f.context(this,"eMouseEnter")).mousedown(f.context(this,"eMousedownButton")).on("mouseleave mouseup",f.context(this,"eMouseupButton"));
this.$input=o.attr("autocomplete","off").blur(f.context(this,"eBlurInput")).keyup(f.context(this,"eKeyupInput"));this.$input.closest("form").bind("submit",f.context(this,"eBlurInput"));this.$input.val(this.constrain(this.getValue()));this.mouseTarget=null},getValue:function(){var k=parseFloat(this.$input.val());k=(isNaN(k))?parseFloat(this.$input.val().replace(/[^0-9.]/g,"")):k;return(isNaN(k)?0:k)},constrain:function(k){if(this.parameters.min!==undefined&&k<this.parameters.min){console.warn("Minimum value for SpinBox = %s\n %o",this.parameters.min,this.$input);
return this.parameters.min}else{if(this.parameters.max!==undefined&&k>this.parameters.max){console.warn("Maximum value for SpinBox = %s\n %o",this.parameters.max,this.$input);return this.parameters.max}else{return k}}},stepValue:function(l){if(this.$input.prop("readonly")){return false}var o=this.getValue(),m=o%this.parameters.step,n=(l=="+"),k=o-m;if(!m||(n&&m>0)||(!n&&m<0)){k=k+this.parameters.step*(n?1:-1)}this.$input.val(this.constrain(k));this.$input.triggerHandler("change")},eBlurInput:function(k){this.$input.val(this.constrain(this.getValue()))
},eKeyupInput:function(k){switch(k.which){case 38:this.stepValue("+");this.$input.select();return false;case 40:this.stepValue("-");this.$input.select();return false}},eFocusButton:function(k){return false},eClickButton:function(k){this.stepValue(f(k.target).data("plusminus"));this.$input.focus();this.$input.select()},eMousedownButton:function(k){this.eMouseupButton(k);this.mouseTarget=k.target;this.holdTimeout=setTimeout(f.context(function(){this.holdInterval=setInterval(f.context(function(){this.stepValue(k.target.value)},this),75)
},this),500)},eMouseEnter:function(k){if(k.which&&k.target==this.mouseTarget){this.holdInterval=setInterval(f.context(function(){this.stepValue(k.target.value)},this),75)}},eMouseupButton:function(k){clearTimeout(this.holdTimeout);clearInterval(this.holdInterval);if(k.type=="mouseup"){this.mouseTarget=null}}};XenForo.Disabler=function(o){var m=function(s,t){var u=l.find("input, select, textarea, button, .inputWrapper, .taggingInput"),r=t?0:XenForo.speed.fast,q=function(v){l.find("input:not([type=hidden], [type=file]), textarea, select, button").first().focus().select()
};if(o.is(":checked:enabled")){l.removeAttr("disabled").removeClass("disabled").trigger("DisablerDisabled");u.removeAttr("disabled").removeClass("disabled");if(o.hasClass("Hider")){if(t){l.show()}else{l.xfFadeDown(r,t?null:q)}}else{if(!t){q.call()}}}else{if(o.hasClass("Hider")){if(t){l.hide()}else{l.xfFadeUp(r,null,r,"easeInBack")}}l.prop("disabled",true).addClass("disabled").trigger("DisablerEnabled");u.prop("disabled",true).addClass("disabled").each(function(x,y){var v=f(y),w=v.data("disabled");if(w!==null&&typeof(w)!="undefined"){v.val(w)
}})}},l=f("#"+o.attr("id")+"_Disabler"),k=o.closest("form");var n=function(){setTimeout(m,0)};if(o.is(":radio")){k.find('input:radio[name="'+o.fieldName()+'"]').click(n)}else{o.click(n)}k.bind("reset",n);k.bind("XFRecalculate",function(){m(null,true)});m(null,true);l.find("label, input, select, textarea").click(function(q){if(!o.is(":checked")){o.prop("checked",true);m()}});this.setStatus=m};XenForo.CheckAll=function(m){if(m.is(":checkbox")){var k=m.data("target")?f(m.data("target")):false;if(!k||!k.length){k=m.closest("form")
}var o=function(){var r,q=m.data("filter");r=q?k.find(q).filter("input:checkbox"):k.find("input:checkbox");return r};var n=function(){var r=o(),q=r.length>0;r.each(function(){if(f(this).is(m)){return true}if(!f(this).prop("checked")){q=false;return false}});m.prop("checked",q)};n();var l=false;k.on("click","input:checkbox",function(r){if(l){return}var q=f(r.target);if(q.is(m)){return}if(m.data("filter")){if(!q.closest(m.data("filter")).length){return}}n()});m.click(function(q){if(l){return}l=true;o().prop("checked",q.target.checked).triggerHandler("click");
l=false});m.on("XFRecalculate",n)}else{m.click(function(r){var q=m.data("target");if(q){f(q).prop("checked",true)}})}};XenForo.AutoChecker=function(k){k.click(function(m){if(this.checked){var l=null;f.each({check:true,uncheck:false},function(o,n){if(l=k.data(o)){f(l).each(function(){this.checked=n;var q=f(this).data("XenForo.Disabler");if(typeof q=="object"){q.setStatus()}})}})}})};XenForo.ToggleButton=function(k){var n,l=function(){n[(o.is(":checked")?"addClass":"removeClass")]("checked")},o=k.hide().find("input:checkbox, input:radio").first(),m=k.closest("ul, ol").bind("toggleButtonClick",l);
if(!o.length&&k.attr("for")){o=f("#"+k.attr("for"))}n=f("<a />").text(k.attr("title")||k.text()).insertBefore(k).attr({"class":"button "+k.attr("class"),title:k.text()}).click(function(q){o.click();if(m.length){m.triggerHandler("toggleButtonClick")}else{l()}return false});k.closest("form").bind("reset",function(q){setTimeout(l,100)});l()};XenForo.AutoInlineUploader=function(k){var l=k.find("input:file").each(function(){var n=f(this).change(function(q){if(f(q.target).val()!=""){var o,r;o=f('<iframe src="about:blank" style="display:none; background-color: white" name="AutoInlineUploader"></iframe>').insertAfter(f(q.target)).load(function(u){var t=f(u.target),s=t.contents().text(),v=null;
if(!s){return false}f(h).trigger("PseudoAjaxStop");l=m.clone(true).replaceAll(n);setTimeout(function(){t.remove()},500);try{s=f.parseJSON(s);console.info("Inline file upload completed successfully. Data: %o",s)}catch(u){console.error(s);return false}if(XenForo.hasResponseError(s)){return false}f("input:submit",this.$form).removeAttr("disabled");v=new f.Event("AutoInlineUploadComplete");v.$form=k;v.ajaxData=s;k.trigger(v);console.log(s);if(!v.isDefaultPrevented()&&s.message){XenForo.alert(s.message,"",2500)}});r=f('<span><input type="hidden" name="_xfNoRedirect" value="1" /><input type="hidden" name="_xfResponseType" value="json-text" /><input type="hidden" name="_xfUploader" value="1" /></span>').appendTo(k);
k.attr("target","AutoInlineUploader").submit().trigger("AutoInlineUploadStart");r.remove();f(h).trigger("PseudoAjaxStart");k.find("input:submit").prop("disabled",true)}}),m=n.clone(true)})};XenForo.MultiSubmitFix=function(l){var k="input:submit, input:reset, input.PreviewButton, input.DisableOnSubmit",n=function(){f(g).unbind("unload",n);l.trigger("EnableSubmitButtons").find(k).removeClass("disabled").removeAttr("disabled")};var m=function(o){setTimeout(function(){if(!f.browser.webkit){f(g).bind("unload",n)}l.trigger("DisableSubmitButtons").find(k).prop("disabled",true).addClass("disabled")
},0);setTimeout(n,5000)};l.data("MultiSubmitEnable",n).data("MultiSubmitDisable",m).submit(m);return n};XenForo.SubmitOnChange=function(k){if(k.is("label")){k=k.find("input:radio, input:checkbox");if(!k.length){return}}k.click(function(l){clearTimeout(l.target.form.submitTimeout);l.target.form.submitTimeout=setTimeout(function(){f(l.target).closest("form").submit()},500)})};XenForo.AutoValidator=function(k){this.__construct(k)};XenForo.AutoValidator.prototype={__construct:function(k){this.$form=k.bind({submit:f.context(this,"ajaxSave"),reset:f.context(this,"formReset"),BbCodeWysiwygEditorAutoSave:f.context(this,"editorAutoSave")});
this.$form.find('input[type="submit"]').click(f.context(this,"setClickedSubmit"));this.fieldValidatorUrl=this.$form.data("fieldvalidatorurl");this.optInMode=this.$form.data("optinout")||"OptOut";this.ajaxSubmit=(XenForo.isPositive(this.$form.data("normalsubmit"))?false:true);this.submitPending=false;this.fieldValidationTimeouts={};this.fieldValidationRequests={}},getExistingDataKey:function(){var k=this.$form.find("input.ExistingDataKey, select.ExistingDataKey, textarea.ExistingDataKey, button.ExistingDataKey").val();if(k===undefined){k=this.$form.data("existingdatakey");
if(k===undefined){k=""}}return k},formReset:function(k){var l=this.$form.data("exiturl");if(l){XenForo.redirect(l)}},setClickedSubmit:function(k){this.$form.data("clickedsubmitbutton",k.target)},editorAutoSave:function(k){if(this.submitPending){k.preventDefault()}},ajaxSave:function(o){if(!this.ajaxSubmit||!XenForo._enableAjaxSubmit){return true}this.abortPendingFieldValidation();var n=this.$form.data("clickedsubmitbutton"),m,l,k=f.Event("AutoValidationBeforeSubmit");k.formAction=this.$form.attr("action");k.clickedSubmitButton=n;
k.preventSubmit=false;k.ajaxOptions={};this.$form.trigger(k);this.$form.removeData("clickedSubmitButton");if(k.preventSubmit){return false}else{if(!k.isDefaultPrevented()){m=this.$form.serializeArray();if(n){l=f(n);if(l.attr("name")){m.push({name:l.attr("name"),value:l.attr("value")})}}this.submitPending=true;XenForo.ajax(k.formAction,m,f.context(this,"ajaxSaveResponse"),k.ajaxOptions);o.preventDefault()}}},ajaxSaveResponse:function(m,s){this.submitPending=false;if(!m){console.warn("No ajax data returned.");return false}var r,o,q,l;
r=f.Event("AutoValidationDataReceived");r.ajaxData=m;r.textStatus=s;r.validationError=[];console.group("Event: %s",r.type);this.$form.trigger(r);console.groupEnd();if(r.isDefaultPrevented()){return false}if(!this.validates(r)){o=f.Event("AutoValidationError");o.ajaxData=m;o.textStatus=s;o.validationError=r.validationError;console.group("Event: %s",o.type);this.$form.trigger(o);console.groupEnd();if(o.isDefaultPrevented()){return false}if(this.$form.closest(".xenOverlay").length){this.$form.closest(".xenOverlay").data("overlay").close()
}if(m.errorTemplateHtml){new XenForo.ExtLoader(m,function(t){var u=XenForo.alert(m.errorTemplateHtml,XenForo.phrases.following_error_occurred+":");if(u){u.find("div.errorDetails").removeClass("baseHtml");if(m.errorOverlayType){u.closest(".errorOverlay").removeClass("errorOverlay").addClass(m.errorOverlayType)}}})}else{if(m.templateHtml){setTimeout(f.context(function(){this.$error=XenForo.createOverlay(null,this.prepareError(m.templateHtml)).load()},this),250)}else{if(m.error!==undefined){if(typeof m.error==="object"){var n;for(n in m.error){break
}m.error=m.error[n]}XenForo.alert(m.error+"\n"+(m.traceHtml!==undefined?'<ol class="traceHtml">\n'+m.traceHtml+"</ol>":""),XenForo.phrases.following_error_occurred+":")}}}return false}q=f.Event("AutoValidationComplete"),q.ajaxData=m;q.textStatus=s;q.$form=this.$form;console.group("Event: %s",q.type);this.$form.trigger(q);console.groupEnd();if(q.isDefaultPrevented()){return false}if(this.$form.parents(".xenOverlay").length){var k=this.$form.parents(".xenOverlay").data("overlay");if(m.linkPhrase){l=k.getTrigger();l.xfFadeOut(XenForo.speed.fast,function(){if(m.linkUrl&&l.is("a")){l.attr("href",m.linkUrl)
}l.text(m.linkPhrase).xfFadeIn(XenForo.speed.fast)})}setTimeout(function(){k.close()},0)}if(XenForo.isPositive(this.$form.data("reset"))){this.$form[0].reset()}if(m.message){XenForo.alert(m.message,"",4000);return}if(m._redirectMessage==""){this.submitPending=true;return this.redirect(m._redirectTarget)}this.submitPending=true;XenForo.alert(m._redirectMessage,"",1000,f.context(function(){this.redirect(m._redirectTarget)},this))},validates:function(k){return(f.isEmptyObject(k.validationErrors)&&!k.ajaxData.error)},prepareError:function(k){e=f(k);
e.find("label").each(function(n,m){var l=f("#"+f(m).attr("for")).closest(".ctrlUnit").find("dt > label");if(l.length){f(m).prepend(l.text()+"<br />")}});return e},redirect:function(k){if(XenForo.isPositive(this.$form.data("redirect"))||!parseInt(XenForo._enableOverlays)){var m=new f.Event("AutoValidationRedirect");m.redirectTarget=k;this.$form.trigger(m);if(!m.isDefaultPrevented()&&m.redirectTarget){var l=function(){XenForo.redirect(k)};if(XenForo._manualDeferOverlay){f(h).one("ManualDeferComplete",l)}else{l()}return true}}return false
},setFieldValidationTimeout:function(k,l){if(!this.hasFieldValidator(k)){return false}console.log("setTimeout %s",k);this.clearFieldValidationTimeout(k);this.fieldValidationTimeouts[k]=setTimeout(l,250)},clearFieldValidationTimeout:function(k){if(this.fieldValidationTimeouts[k]){console.log("Clear field validation timeout: %s",k);clearTimeout(this.fieldValidationTimeouts[k]);delete (this.fieldValidationTimeouts[k])}},startFieldValidationRequest:function(k,m,l){if(!this.hasFieldValidator(k)){return false}this.abortFieldValidationRequest(k);
this.fieldValidationRequests[k]=XenForo.ajax(this.fieldValidatorUrl,{name:k,value:m.fieldValue(),existingDataKey:this.getExistingDataKey()},l,{global:false})},abortFieldValidationRequest:function(k){if(this.fieldValidationRequests[k]){console.log("Abort field validation request: %s",k);this.fieldValidationRequests[k].abort();delete (this.fieldValidationRequests[k])}},abortPendingFieldValidation:function(){f.each(this.fieldValidationTimeouts,f.context(this,"clearFieldValidationTimeout"));f.each(this.fieldValidationRequests,f.context(this,"abortFieldValidationRequest"))
},hasFieldValidator:function(k){if(this.fieldValidatorUrl){return true}return false}};XenForo.AutoValidatorControl=function(k){this.__construct(k)};XenForo.AutoValidatorControl.prototype={__construct:function(k){this.$form=k.closest("form.AutoValidator").bind({AutoValidationDataReceived:f.context(this,"handleFormValidation")});this.$input=k.bind({change:f.context(this,"change"),AutoValidationError:f.context(this,"showError"),AutoValidationPass:f.context(this,"hideError")});this.name=k.data("validatorname")||k.attr("name");this.autoValidate=k.hasClass("NoAutoValidate")?false:true
},change:function(k){if(this.autoValidate){this.$form.data("XenForo.AutoValidator").setFieldValidationTimeout(this.name,f.context(this,"validate"))}},validate:function(){if(this.autoValidate){this.$form.data("XenForo.AutoValidator").startFieldValidationRequest(this.name,this.$input,f.context(this,"handleValidation"))}},handleValidation:function(k,l){if(k&&k.error&&k.error.hasOwnProperty(this.name)){this.$input.trigger({type:"AutoValidationError",errorMessage:k.error[this.name]});return false}else{this.$input.trigger("AutoValidationPass");
return true}},showError:function(l){console.warn("%s: %s",this.name,l.errorMessage);var k=this.fetchError(l.errorMessage).css("display","inline-block");this.positionError(k)},hideError:function(){console.info("%s: Okay",this.name);if(this.$error){this.fetchError().hide()}},fetchError:function(k){if(!this.$error){this.$error=f('<label for="'+this.$input.attr("id")+'" class="formValidationInlineError">WHoops</label>').insertAfter(this.$input)}if(k){this.$error.html(k).xfActivate()}return this.$error},positionError:function(l){l.removeClass("inlineError");
var n=this.$input.coords("outer","position"),m=this.$input.coords("outer"),r=f(g),o=l.outerWidth(),s,k={top:n.top};if(!m.width||!m.height){s=false}else{if(XenForo.isRTL()){k.left=n.left-o-10;s=(m.left-o-10>0)}else{var q=m.left+m.width+10;s=q+o<(r.width()+r.scrollLeft());k.left=n.left+n.width+10}}if(s){l.css(k)}else{l.addClass("inlineError")}},handleFormValidation:function(k){if(!this.handleValidation(k.ajaxData,k.textStatus)){k.validationError.push(this.name)}}};XenForo.isAutoValidatorField=function(n){var m,l,k=f(n.form);if(!k.hasClass("AutoValidator")){return false
}m=k.data("XenForo.AutoValidator");if(m){l=f(n);switch(m.optInMode){case"OptIn":return(l.hasClass("OptIn")||l.closest(".ctrlUnit").hasClass("OptIn"));default:return(!l.hasClass("OptOut")&&!l.closest(".ctrlUnit").hasClass("OptOut"))}}return false};XenForo.PreviewForm=function(l){var k=l.data("previewurl");if(!k){console.warn("PreviewForm has no data-previewUrl: %o",l);return}l.find(".PreviewButton").click(function(n){var m=f(this);XenForo.ajax(k,l.serialize(),function(o){if(XenForo.hasResponseError(o)||!XenForo.hasTemplateHtml(o)){return false
}new XenForo.ExtLoader(o,function(q){var s=l.find(".PreviewContainer").first();if(s.length){s.xfFadeOut(XenForo.speed.fast,function(){s.html(q.templateHtml).xfActivate()})}else{s=f("<div />",{"class":"PreviewContainer"}).hide().html(q.templateHtml).prependTo(l).xfActivate()}var r=m.data("overlay");if(r){s.show();XenForo.createOverlay(s,s.html(q.templateHtml)).load()}else{s.xfFadeIn(XenForo.speed.fast);s.get(0).scrollIntoView(true)}})})})};XenForo.LiveTitle=function(m){var l=m.closest(".formOverlay").find("h2.h1"),k;if(!l.length){l=f(".titleBar h1").first()
}console.info("Title Element: %o",l);l.data("originalhtml",l.html());k=function(n){m.trigger("LiveTitleSet",[n]);l.html(n===""?l.data("originalhtml"):m.data("livetitletemplate").replace(/%s/,f("<div />").text(n).html()))};if(!m.hasClass("prompt")){k(m.strval())}m.bind("keyup focus",function(n){k(m.strval())}).on("paste",function(n){setTimeout(function(){k(m.strval())},0)}).closest("form").bind("reset",function(n){k("")})};XenForo.TextareaElastic=function(k){this.__construct(k)};XenForo.TextareaElastic.prototype={__construct:function(k){this.$input=k;
this.curHeight=0;k.bind("keyup focus XFRecalculate",f.context(this,"recalculate"));k.bind("paste",f.context(this,"paste"));if(k.val()!==""){this.recalculate()}},recalculate:function(){var q=this.$input,l=q.get(0),o,k,n;if(q.val()===""){q.css({"overflow-y":"hidden",height:""});this.curHeight=0;return}if(!l.clientWidth){return}if(!this.minHeight){this.borderBox=(q.css("-moz-box-sizing")=="border-box"||q.css("box-sizing")=="border-box");this.minHeight=(this.borderBox?q.outerHeight():l.clientHeight);if(!this.minHeight){return}this.maxHeight=parseInt(q.css("max-height"),10);
this.spacing=(this.borderBox?q.outerHeight()-q.innerHeight():0)}if(!this.$clone){this.$clone=f("<textarea />").css({position:"absolute",left:(XenForo.isRTL()?"9999em":"-9999em"),top:0,visibility:"hidden",width:l.clientWidth,height:"1px","font-size":q.css("font-size"),"font-family":q.css("font-family"),"font-weight":q.css("font-weight"),"line-height":q.css("line-height"),"word-wrap":q.css("word-wrap")}).attr("tabindex",-1).val(" ");this.$clone.appendTo(h.body);this.lineHeight=this.$clone.get(0).scrollHeight}this.$clone.val(q.val());
o=this.$clone.get(0);k=Math.max(this.minHeight,o.scrollHeight+this.lineHeight+this.spacing);if(k<this.maxHeight){if(this.curHeight!=k){l=q.get(0);if(this.curHeight==this.maxHeight&&l.setSelectionRange){n=l.selectionStart}q.css({"overflow-y":"hidden",height:k+"px"});if(this.curHeight==this.maxHeight&&l.setSelectionRange){try{l.setSelectionRange(n,n)}catch(m){}}this.curHeight=k}}else{if(this.curHeight!=this.maxHeight){l=q.get(0);if(l.setSelectionRange){n=l.selectionStart}q.css({"overflow-y":"auto",height:this.maxHeight+"px"});if(l.setSelectionRange){try{l.setSelectionRange(n,n)
}catch(m){}}this.curHeight=this.maxHeight}}},paste:function(){setTimeout(f.context(this,"recalculate"),100)}};XenForo.AutoTimeZone=function(l){var o=new Date(),n=new Date(o.getFullYear(),0,1),k=new Date(o.getFullYear(),5,1),q=Math.round(n.getTimezoneOffset()),m=Math.round(k.getTimezoneOffset());if(f.browser.opera){return false}if(XenForo.AutoTimeZone.map[q+","+m]){l.val(XenForo.AutoTimeZone.map[q+","+m]);return true}else{return false}};XenForo.AutoTimeZone.map={"660,660":"Pacific/Midway","600,600":"Pacific/Honolulu","570,570":"Pacific/Marquesas","540,480":"America/Anchorage","480,420":"America/Los_Angeles","420,360":"America/Denver","420,420":"America/Phoenix","360,300":"America/Chicago","360,360":"America/Belize","300,240":"America/New_York","300,300":"America/Bogota","270,270":"America/Caracas","240,180":"America/Halifax","180,240":"America/Cuiaba","240,240":"America/La_Paz","210,150":"America/St_Johns","180,180":"America/Argentina/Buenos_Aires","120,180":"America/Sao_Paulo","180,120":"America/Miquelon","120,120":"America/Noronha","60,60":"Atlantic/Cape_Verde","60,0":"Atlantic/Azores","0,-60":"Europe/London","0,0":"Atlantic/Reykjavik","-60,-120":"Europe/Amsterdam","-60,-60":"Africa/Algiers","-120,-60":"Africa/Windhoek","-120,-180":"Europe/Athens","-120,-120":"Africa/Johannesburg","-180,-240":"Africa/Nairobi","-180,-180":"Europe/Moscow","-210,-270":"Asia/Tehran","-240,-300":"Asia/Yerevan","-270,-270":"Asia/Kabul","-300,-300":"Asia/Tashkent","-330,-330":"Asia/Kolkata","-345,-345":"Asia/Kathmandu","-360,-360":"Asia/Dhaka","-390,-390":"Asia/Rangoon","-420,-420":"Asia/Bangkok","-420,-480":"Asia/Krasnoyarsk","-480,-480":"Asia/Hong_Kong","-540,-540":"Asia/Tokyo","-630,-570":"Australia/Adelaide","-570,-570":"Australia/Darwin","-660,-600":"Australia/Sydney","-600,-600":"Asia/Vladivostok","-690,-690":"Pacific/Norfolk","-780,-720":"Pacific/Auckland","-825,-765":"Pacific/Chatham","-780,-780":"Pacific/Tongatapu","-840,-840":"Pacific/Kiritimati"};
XenForo.DatePicker=function(l){if(!XenForo.DatePicker.$root){f.tools.dateinput.localize("_f",{months:XenForo.phrases._months,shortMonths:"1,2,3,4,5,6,7,8,9,10,11,12",days:"s,m,t,w,t,f,s",shortDays:XenForo.phrases._daysShort})}var k=l.dateinput({lang:"_f",format:"yyyy-mm-dd",speed:0,yearRange:[-100,100],onShow:function(q){var o=XenForo.DatePicker.$root,r=k.offset(),n=0,m={top:r.top+k.outerHeight()};if(XenForo.isRTL()){m.right=f("html").width()-r.left-k.outerWidth()}else{m.left=r.left}o.css(m);k.parents().each(function(s,t){var u=parseInt(f(t).css("z-index"),10);
if(u>n){n=u}});o.css("z-index",n+1000)}});k.addClass(l.attr("class"));if(l.attr("id")){k.attr("id",l.attr("id"))}k.closest("form").on("reset",function(){setTimeout(function(){k.data("dateinput").hide()},10);setTimeout(function(){k.data("dateinput").hide()},100)});if(!XenForo.DatePicker.$root){XenForo.DatePicker.$root=f("#calroot").appendTo(h.body);f("#calprev").html(XenForo.isRTL()?"&rarr;":"&larr;").prop("unselectable",true);f("#calnext").html(XenForo.isRTL()?"&larr;":"&rarr;").prop("unselectable",true)}};XenForo.DatePicker.$root=null;
XenForo.AutoComplete=function(k){this.__construct(k)};XenForo.AutoComplete.prototype={__construct:function(l){this.$input=l;this.url=l.data("acurl")||XenForo.AutoComplete.getDefaultUrl();this.extraFields=l.data("acextrafields");var k={multiple:l.hasClass("AcSingle")?false:",",minLength:2,queryKey:"q",extraParams:{},jsonContainer:"results",autoSubmit:XenForo.isPositive(l.data("autosubmit"))};if(l.data("acoptions")){k=f.extend(k,l.data("acoptions"))}if(k.autoSubmit){k.multiple=false}this.multiple=k.multiple;this.minLength=k.minLength;
this.queryKey=k.queryKey;this.extraParams=k.extraParams;this.jsonContainer=k.jsonContainer;this.autoSubmit=k.autoSubmit;this.loadVal="";this.results=new XenForo.AutoCompleteResults({onInsert:f.context(this,"addValue")});l.attr("autocomplete","off").keydown(f.context(this,"keystroke")).keypress(f.context(this,"operaKeyPress")).blur(f.context(this,"blur"));l.on("paste",function(){setTimeout(function(){l.trigger("keydown")},0)});l.closest("form").submit(f.context(this,"hideResults"))},keystroke:function(m){var l=m.keyCode||m.charCode,k=true;
switch(l){case 40:this.results.selectResult(1);break;case 38:this.results.selectResult(-1);break;case 27:this.results.hideResults();break;case 13:if(this.results.isVisible()){this.results.insertSelectedResult()}else{k=false}break;default:k=false;if(this.loadTimer){clearTimeout(this.loadTimer)}this.loadTimer=setTimeout(f.context(this,"load"),200);if(l!=229){this.results.hideResults()}}if(k){m.preventDefault()}this.preventKey=k},operaKeyPress:function(k){if(f.browser.opera&&this.preventKey){k.preventDefault()}},blur:function(k){clearTimeout(this.loadTimer);
setTimeout(f.context(this,"hideResults"),250);if(this.xhr){this.xhr.abort();this.xhr=false}},load:function(){var k=this.loadVal,l=this.extraParams;if(this.loadTimer){clearTimeout(this.loadTimer)}this.loadVal=this.getPartialValue();if(this.loadVal==""){this.hideResults();return}if(this.loadVal==k){return}if(this.loadVal.length<this.minLength){return}l[this.queryKey]=this.loadVal;if(this.extraFields!=""){f(this.extraFields).each(function(){l[this.name]=f(this).val()})}if(this.xhr){this.xhr.abort()}this.xhr=XenForo.ajax(this.url,l,f.context(this,"showResults"),{global:false,error:false})
},hideResults:function(){this.results.hideResults()},showResults:function(k){if(this.xhr){this.xhr=false}if(this.jsonContainer&&k){k=k[this.jsonContainer]}this.results.showResults(this.getPartialValue(),k,this.$input)},addValue:function(l){if(!this.multiple){this.$input.val(l)}else{var k=this.getFullValues();if(l!=""){if(k.length){l=" "+l}k.push(l+this.multiple+" ")}this.$input.val(k.join(this.multiple))}this.$input.trigger("AutoComplete",{inserted:l,current:this.$input.val()});if(this.autoSubmit){this.$input.closest("form").submit()
}else{this.$input.focus()}},getFullValues:function(){var k=this.$input.val();if(k==""){return[]}if(!this.multiple){return[k]}else{splitPos=k.lastIndexOf(this.multiple);if(splitPos==-1){return[]}else{k=k.substr(0,splitPos);return k.split(this.multiple)}}},getPartialValue:function(){var l=this.$input.val(),k;if(!this.multiple){return f.trim(l)}else{k=l.lastIndexOf(this.multiple);if(k==-1){return f.trim(l)}else{return f.trim(l.substr(k+this.multiple.length))}}}};XenForo.AutoComplete.getDefaultUrl=function(){if(XenForo.AutoComplete.defaultUrl===null){if(f("html").hasClass("Admin")){XenForo.AutoComplete.defaultUrl="admin.php?users/search-name&_xfResponseType=json"
}else{XenForo.AutoComplete.defaultUrl="index.php?members/find&_xfResponseType=json"}}return XenForo.AutoComplete.defaultUrl};XenForo.AutoComplete.defaultUrl=null;XenForo.UserTagger=function(k){this.__construct(k)};XenForo.UserTagger.prototype={__construct:function(n){this.$textarea=n;this.url=n.data("acurl")||XenForo.AutoComplete.getDefaultUrl();this.acResults=new XenForo.AutoCompleteResults({onInsert:f.context(this,"insertAutoComplete")});var m=this,l,k=function(){if(l){return}l=setTimeout(function(){m.acResults.hideResults();
l=null},200)};f(h).on("scroll",k);n.on("click blur",k);n.on("keydown",function(r){var o=true,q=m.acResults;if(!q.isVisible()){return}switch(r.keyCode){case 40:q.selectResult(1);break;case 38:q.selectResult(-1);break;case 27:q.hideResults();break;case 13:q.insertSelectedResult();break;default:o=false}if(o){r.stopPropagation();r.stopImmediatePropagation();r.preventDefault()}});n.on("keyup",function(q){var o=m.findCurrentAutoCompleteOption();if(o){m.triggerAutoComplete(o)}else{m.hideAutoComplete()}})},findCurrentAutoCompleteOption:function(){var o=this.$textarea;
o.focus();var m=o.getSelection(),l,n;if(!m||m.end<=1){return false}l=o.val().substring(0,m.end);n=l.lastIndexOf("@");if(n!=-1&&(n==0||l.substr(n-1,1).match(/(\s|[\](,]|--)/))){var k=l.substr(n+1);if(!k.match(/\s/)||k.length<=10){return k}}return false},insertAutoComplete:function(k){var o=this.$textarea;o.focus();var m=o.getSelection(),l;if(!m||m.end<=1){return false}l=o.val().substring(0,m.end);var n=l.lastIndexOf("@");if(n!=-1){o.setSelection(n,m.end);o.replaceSelectedText("@"+k+" ","collapseToEnd");this.lastAcLookup=k+" "}},triggerAutoComplete:function(k){if(this.lastAcLookup&&this.lastAcLookup==k){return
}this.hideAutoComplete();this.lastAcLookup=k;if(k.length>2&&k.substr(0,1)!="["){this.acLoadTimer=setTimeout(f.context(this,"autoCompleteLookup"),200)}},autoCompleteLookup:function(){if(this.acXhr){this.acXhr.abort()}if(this.lastAcLookup!=this.findCurrentAutoCompleteOption()){return}this.acXhr=XenForo.ajax(this.url,{q:this.lastAcLookup},f.context(this,"showAutoCompleteResults"),{global:false,error:false})},showAutoCompleteResults:function(k){this.acXhr=false;this.acResults.showResults(this.lastAcLookup,k.results,this.$textarea)
},hideAutoComplete:function(){this.acResults.hideResults();if(this.acLoadTimer){clearTimeout(this.acLoadTimer);this.acLoadTimer=false}}};XenForo.AutoCompleteResults=function(k){this.__construct(k)};XenForo.AutoCompleteResults.prototype={__construct:function(k){this.options=f.extend({onInsert:false},k);this.selectedResult=0;this.$results=false;this.resultsVisible=false;this.resizeBound=false},isVisible:function(){return this.resultsVisible},hideResults:function(){this.resultsVisible=false;if(this.$results){this.$results.hide()
}},showResults:function(k,n,q,l){var t=0,o,r,u,s;if(!n){this.hideResults();return}this.resultsVisible=false;if(!this.$results){this.$results=f("<ul />").css({position:"absolute",display:"none"}).addClass("autoCompleteList").appendTo(h.body);q.parents().each(function(w,x){var v=f(x),y=parseInt(v.css("z-index"),10);if(y>t){t=y}});this.$results.css("z-index",t+1000)}else{this.$results.hide().empty()}r=new RegExp("("+XenForo.regexQuote(k)+")","i");for(o in n){if(!n.hasOwnProperty(o)){continue}u=n[o];s=f("<li />").css("cursor","pointer").attr("unselectable","on").data("autocomplete",o).click(f.context(this,"resultClick")).mouseenter(f.context(this,"resultMouseEnter"));
if(typeof u=="string"){s.html(XenForo.htmlspecialchars(u).replace(r,"<strong>$1</strong>"))}else{s.html(u.username.replace(r,"<strong>$1</strong>")).prepend(f('<img class="autoCompleteAvatar" />').attr("src",u.avatar))}s.appendTo(this.$results)}if(!this.$results.children().length){return}this.selectResult(0,true);if(!this.resizeBound){f(g).bind("resize",f.context(this,"hideResults"))}if(!l){var m=q.offset();l={top:m.top+q.outerHeight(),left:m.left};if(XenForo.isRTL()){l.right=f("html").width()-m.left-q.outerWidth();l.left="auto"
}}this.$results.css(l).show();this.resultsVisible=true},resultClick:function(k){k.stopPropagation();this.insertResult(f(k.currentTarget).data("autocomplete"));this.hideResults()},resultMouseEnter:function(k){this.selectResult(f(k.currentTarget).index(),true)},selectResult:function(k,n){var m,l;if(!this.$results){return}if(n){this.selectedResult=k}else{this.selectedResult+=k}m=this.selectedResult;l=this.$results.children();l.each(function(o){if(o==m){f(this).addClass("selected")}else{f(this).removeClass("selected")}});if(m<0||m>=l.length){this.selectedResult=-1
}},insertSelectedResult:function(){var l,k=false;if(!this.resultsVisible){return false}if(this.selectedResult>=0){l=this.$results.children().get(this.selectedResult);if(l){this.insertResult(f(l).data("autocomplete"));k=true}}this.hideResults();return k},insertResult:function(k){if(this.options.onInsert){this.options.onInsert(k)}}};XenForo.AutoSelect=function(k){k.bind("focus",function(l){setTimeout(function(){k.select()},50)})};XenForo.StatusEditor=function(k){this.__construct(k)};XenForo.StatusEditor.prototype={__construct:function(k){this.$input=k.keyup(f.context(this,"update")).keydown(f.context(this,"preventNewline"));
this.$counter=f(this.$input.data("statuseditorcounter"));if(!this.$counter.length){this.$counter=f("<span />").insertAfter(this.$input)}this.$counter.addClass("statusEditorCounter").text("0");this.$form=this.$input.closest("form").bind({AutoValidationComplete:f.context(this,"saveStatus")});this.charLimit=140;this.charCount=0;this.update()},update:function(l){var k=this.$input.val();if(this.$input.attr("placeholder")&&this.$input.attr("placeholder")==k){this.setCounterValue(this.charLimit,k.length)}else{this.setCounterValue(this.charLimit-k.length,k.length)
}},setCounterValue:function(k,l){if(k<0){this.$counter.addClass("error");this.$counter.removeClass("warning")}else{if(k<=this.charLimit-130){this.$counter.removeClass("error");this.$counter.addClass("warning")}else{this.$counter.removeClass("error");this.$counter.removeClass("warning")}}this.$counter.text(k);this.charCount=l||this.$input.val().length},preventNewline:function(k){if(k.which==13){k.preventDefault();f(this.$input.get(0).form).submit();return false}},saveStatus:function(k){this.$input.val("");this.update(k);if(k.ajaxData&&k.ajaxData.status!==undefined){f(".CurrentStatus").text(k.ajaxData.status)
}}};f.tools.tooltip.addEffect("PreviewTooltip",function(o){var k=this.getTrigger().offset(),l=this.getConf(),m={top:"auto",bottom:f(g).height()-k.top+l.offset[0]},n=(f(g).width()<480);if(XenForo.isRTL()){m.right=f("html").width()-this.getTrigger().outerWidth()-k.left-l.offset[1];m.left="auto"}else{m.left=k.left+l.offset[1];if(n){m.left=Math.min(50,m.left)}}this.getTip().css(m).xfFadeIn(XenForo.speed.normal)},function(k){this.getTip().xfFadeOut(XenForo.speed.fast)});XenForo._PreviewTooltipCache={};XenForo.PreviewTooltip=function(m){var l,k,n;
if(!parseInt(XenForo._enableOverlays)){return}if(!(k=m.data("previewurl"))){console.warn("Preview tooltip has no preview: %o",m);return}m.find("[title]").andSelf().attr("title","");m.bind({mouseenter:function(o){if(l){return}n=setTimeout(function(){if(l){return}l=true;var q=f("#PreviewTooltip"),r,s;if(!q.length){console.error("Unable to find #PreviewTooltip");return}console.log("Setup preview tooltip for %s",k);r=q.clone().removeAttr("id").addClass("xenPreviewTooltip").appendTo(h.body);if(!XenForo._PreviewTooltipCache[k]){s=XenForo.ajax(k,{},function(t){if(XenForo.hasTemplateHtml(t)){XenForo._PreviewTooltipCache[k]=t.templateHtml;
f(t.templateHtml).xfInsert("replaceAll",r.find(".PreviewContents"))}else{r.remove()}},{type:"GET",error:false,global:false})}m.tooltip(XenForo.configureTooltipRtl({predelay:500,delay:0,effect:"PreviewTooltip",fadeInSpeed:"normal",fadeOutSpeed:"fast",tip:r,position:"bottom left",offset:[10,-15]}));m.data("tooltip").show(0);if(XenForo._PreviewTooltipCache[k]){f(XenForo._PreviewTooltipCache[k]).xfInsert("replaceAll",r.find(".PreviewContents"),"show",0)}},800)},mouseleave:function(o){if(l){if(m.data("tooltip")){m.data("tooltip").hide()
}return}if(n){clearTimeout(n)}},mousedown:function(o){if(n){clearTimeout(n)}if(m.data("tooltip")){m.data("tooltip").hide()}}})};XenForo.PopupItemLink=function(l){var k=l.find(".PopupItemLink").first().attr("href");if(k){l.addClass("PopupItemLinkActive").click(function(m){if(f(m.target).closest("a").length){return}XenForo.redirect(k)})}};XenForo.Loader=function(k){var l=function(o){var m=k.attr("href")||k.data("href"),n=k.data("target");if(m&&f(n).length){if(k.closest("a").length){o.stopPropagation()}o.preventDefault();if(k.data("tooltip")){k.data("tooltip").hide()
}XenForo.ajax(m,{},function(q,s){if(XenForo.hasResponseError(q)){return false}var r=new f.Event("ContentLoaded");r.ajaxData=q;r.textStatus=s;k.trigger(r);if(!r.isDefaultPrevented()){if(q.templateHtml){new XenForo.ExtLoader(q,function(){var t=k.data("method");if(typeof f.fn[t]!="function"){t="appendTo"}if(t=="replaceAll"){f(q.templateHtml).xfInsert(t,n,"show",0)}else{f(q.templateHtml).xfInsert(t,n)}if(k.data("unlink")!==false){k.removeAttr("href").removeData("href").unbind("click",l)}})}}})}};k.bind("click",l)};XenForo.FieldAdder=function(m){f(m.data("source")).filter(".PollNonJsInput").remove();
var l=m.data("maxfields");var k=function(n){if(l&&f(m.data("source")).length>=l){if(n){m.remove()}else{m.xfRemove()}}};m.click(function(o){var q=f(m.data("source")),n=null;console.log("source.length %s, maxfields %s",q.length,l);if(q.length&&(!l||(q.length<l))){n=q.last().clone();n.find('input:not([type="button"], [type="submit"])').val("").prop("disabled",true);n.find(".spinBoxButton").remove();m.trigger({type:"FieldAdderClone",clone:n});n.xfInsert("insertAfter",q.last(),false,false,function(){var r=n.find("input");r.prop("disabled",false);
r.first().focus().select();k()})}else{k()}});k(true)};XenForo.ReadToggle=function(k){k.click(function(m){m.preventDefault();var n=null,o=null,l=k.data("counter");if(n==null){o=k.closest(".discussionListItem").andSelf().toggleClass("unread");n=XenForo.ajax(k.attr("href"),{_xfConfirm:1},function(q,t){n=null;if(XenForo.hasResponseError(q)){return false}if(typeof q.unread!="undefined"){o[(q.unread?"addClass":"removeClass")]("unread")}if(l&&typeof q.counterFormatted!="undefined"){var s=f(l),r=s.find("span.Total");if(r.length){r.text(q.counterFormatted)
}else{s.text(q.counterFormatted)}}if(typeof q.actionPhrase!="undefined"){if(k.text()!=""){k.html(q.actionPhrase)}if(k.attr("title")){k.attr("title",q.actionPhrase)}}XenForo.alert(q._redirectMessage,"",1000)})}})};XenForo.Notices=function(n){var t=XenForo.visitor.user_id?false:true,q="notice_dismiss",o=n.hasClass("PanelScroller");var m=function(){var x=f.getCookie(q),w=x?x.split(","):[],u=[],y;for(var v=0;v<w.length;v++){y=parseInt(w[v],10);if(y){u.push(y)}}return u};var r=m();if(t){n.find(".Notice").each(function(){var v=f(this),u=parseInt(v.data("notice"),10);
if(u&&f.inArray(u,r)!=-1){v.remove();f("#n"+u).remove()}})}var k=function(v,w){if(w){v.find(".Notice").each(function(){var z=f(this),x=f(this).css("display"),y=parseInt(z.data("notice"),10);if(x=="none"){z.remove();f("#n"+y).remove()}});var u=v.find(".Nav a");if(!u.filter(".current").length){u.first().addClass("current")}}if(!v.find(".Notice").length){v.remove();return}};k(n,o);n.show();var l;if(o){l=XenForo.PanelScroller(n.find(".PanelContainer"),{scrollable:{speed:n.dataOrDefault("speed",400)*XenForo._animationSpeedMultiplier,vertical:XenForo.isPositive(n.data("vertical")),keyboard:false,touch:false,prev:".NoticePrev",next:".NoticeNext"},autoscroll:{interval:n.dataOrDefault("interval",2000)}});
if(l&&l.getItems().length>1){f(h).bind({XenForoWindowBlur:function(u){l.stop()},XenForoWindowFocus:function(u){l.play()}})}}if(n.hasClass("FloatingContainer")){var s=n.find(".Notice");s.each(function(){var x=f(this),v=x.data("display-duration"),u=x.data("delay-duration"),w=XenForo.isPositive(x.data("auto-dismiss"));if(u){setTimeout(function(){x.xfFadeDown(XenForo.speed.normal,function(){if(v){setTimeout(function(){x.xfFadeUp(XenForo.speed.normal);if(w){x.find("a.DismissCtrl, a.CustomDismissCtrl").trigger("click")}},v)}})},u)}else{x.css("display","block");
if(v){setTimeout(function(){x.xfFadeUp(XenForo.speed.normal);if(w){x.find("a.DismissCtrl, a.CustomDismissCtrl").trigger("click")}},v)}}})}n.delegate("a.DismissCtrl, a.CustomDismissCtrl","click",function(x){x.preventDefault();var v=f(this),z=v.closest(".Notice"),y=z.closest(".Notices");if(v.data("tooltip")){v.data("tooltip").hide()}if(l){l.removeItem(z);if(!l.getItems().length){n.xfFadeUp()}}else{z.xfFadeUp(XenForo.speed.fast,function(){z.remove();if(!y.find(".Notice").length){n.xfFadeUp()}})}if(t){var u=parseInt(z.data("notice"),10),w=m();
if(u&&f.inArray(u,w)==-1){w.push(u);w.sort(function(B,A){return(B-A)});f.setCookie(q,w.join(","))}}else{if(!v.data("xhr")){v.data("xhr",XenForo.ajax(v.attr("href"),{_xfConfirm:1},function(A,B){v.removeData("xhr");if(XenForo.hasResponseError(A)){return false}}))}}});f(g).on("resize",function(u){k(n,o)})};XenForo.PanelScroller=function(m,l){var n=m.find(".Panels > *");if(n.length<2){m.find(".Panels").css("position","static");return false}n.find("script").remove();function k(){var q=0;m.find(".Panels > *").css({width:m.innerWidth(),height:"auto"}).each(function(){q=Math.max(f(this).outerHeight(),q)
}).andSelf().css("height",q);var o=m.data("scrollable");if(o){o.seekTo(o.getIndex(),0)}}l=f.extend(true,{scrollable:{circular:true,items:".Panels"},navigator:{navi:".Nav",naviItem:"a",activeClass:"current"},autoscroll:{interval:3000}},l);m.css("overflow","hidden");if(!l.scrollable.vertical){m.css("height","auto").find(".Panels").css("width","20000em").find(".panel").css("float",(XenForo.isRTL()?"right":"left"))}f(g).bind("load resize",k);f(".mainContent").bind("XenForoResize",k);k();m.scrollable(l.scrollable).navigator(l.navigator);
if(n.length>1){m.autoscroll(l.autoscroll)}return m.data("scrollable")};XenForo.DisplayIgnoredContent=function(n){var l,k,q,o,m;n.preventDefault();f("a.DisplayIgnoredContent").hide();f("#ignoredUserCss").empty().remove();if(h.styleSheets){for(l=0;l<h.styleSheets.length;l++){q=h.styleSheets[l];try{o=(q.cssRules?q.cssRules:q.rules)}catch(n){o=false}if(!o){continue}for(k=0;k<o.length;k++){m=o[k];if(m.selectorText&&m.selectorText.toLowerCase()==".ignored"){if(q.deleteRule){q.deleteRule(k)}else{q.removeRule(k)}}}}}f(".ignored").removeClass("ignored")
};if(f("html").hasClass("Public")){f(function(){f("body").delegate("a.DisplayIgnoredContent","click",XenForo.DisplayIgnoredContent);if(g.location.hash){var k=f(g.location.hash.replace(/[^\w_#-]/g,""));if(k.hasClass("ignored")){k.removeClass("ignored");k.get(0).scrollIntoView(true)}}})}XenForo.SpoilerBBCode=function(k){k.click(function(l){k.siblings(":first").css("fontSize","25pt");return false})};XenForo.SquareThumbs=function(o){var n=o.data("thumb-height")||44,l=o.data("thumb-selector")||"a.SquareThumb";console.info("XenForo.SquareThumbs: %o",o);
var m=o.find(l).addClass("SquareThumb").children("img");var k=function(){var s=f(this),q=s.width(),r=s.height();if(!q||!r){return}if(r>q){s.css("width",n);s.css("top",(s.height()-n)/2*-1)}else{s.css("height",n);s.css("left",(s.width()-n)/2*-1)}};m.load(k);m.each(k)};XenForo.register("a.OverlayTrigger, input.OverlayTrigger, button.OverlayTrigger, label.OverlayTrigger, a.username, a.avatar","XenForo.OverlayTrigger");XenForo.register(".ToggleTrigger","XenForo.ToggleTrigger");if(!XenForo.isTouchBrowser()){XenForo.register(".Tooltip","XenForo.Tooltip");
XenForo.register("a.StatusTooltip","XenForo.StatusTooltip");XenForo.register(".PreviewTooltip","XenForo.PreviewTooltip")}XenForo.register("a.LbTrigger","XenForo.LightBoxTrigger");XenForo.register(".ClickProxy","XenForo.ClickProxy");XenForo.register(".Popup","XenForo.PopupMenu","XenForoActivatePopups");XenForo.register(".PageNav","XenForo.PageNav");XenForo.register(".Tabs","XenForo.Tabs");XenForo.register(".SquareThumbs","XenForo.SquareThumbs");XenForo.register("form.xenForm, .MultiSubmitFix","XenForo.MultiSubmitFix");XenForo.register("input.CheckAll, a.CheckAll, label.CheckAll","XenForo.CheckAll");
XenForo.register("input.AutoChecker","XenForo.AutoChecker");XenForo.register("label.ToggleButton","XenForo.ToggleButton");XenForo.register("form.AutoInlineUploader","XenForo.AutoInlineUploader");XenForo.register("form.AutoValidator","XenForo.AutoValidator");XenForo.register("select.AutoTimeZone","XenForo.AutoTimeZone");XenForo.register("a.Loader, input.Loader","XenForo.Loader");var i="step" in h.createElement("input");XenForo.register("input, textarea",function(k){var l=f(this);switch(l.attr("type")){case"hidden":case"submit":return;
case"checkbox":case"radio":if(l.hasClass("SubmitOnChange")){XenForo.create("XenForo.SubmitOnChange",this)}return}if(l.attr("type")=="number"&&i){this.type="text";l.addClass("SpinBox number")}if(l.hasClass("SpinBox")){XenForo.create("XenForo.SpinBox",this)}if(l.hasClass("Prompt")){console.error("input.Prompt[title] is now deprecated. Please replace any instances with input[placeholder] and remove the Prompt class.");l.attr({placeholder:l.attr("title"),title:""})}if(l.attr("placeholder")){XenForo.create("XenForo.Prompt",this)}if(l.data("livetitletemplate")){XenForo.create("XenForo.LiveTitle",this)
}if(l.is(":date")){XenForo.create("XenForo.DatePicker",this)}if(l.hasClass("AutoComplete")){XenForo.create("XenForo.AutoComplete",this)}if(l.hasClass("UserTagger")){XenForo.create("XenForo.UserTagger",this)}if(l.hasClass("AutoSelect")){XenForo.create("XenForo.AutoSelect",this)}if(XenForo.isAutoValidatorField(this)){XenForo.create("XenForo.AutoValidatorControl",this)}if(l.is("textarea.StatusEditor")){XenForo.create("XenForo.StatusEditor",this)}if(l.is("textarea.Elastic")){XenForo.create("XenForo.TextareaElastic",this)}});XenForo.register("form.Preview","XenForo.PreviewForm");
XenForo.register("a.FieldAdder, input.FieldAdder","XenForo.FieldAdder");XenForo.register("a.ReadToggle","XenForo.ReadToggle");if(f("html").hasClass("Public")){XenForo.register("#loginBar","XenForo.LoginBar");XenForo.register("#QuickSearch","XenForo.QuickSearch");XenForo.register("a.AttributionLink","XenForo.AttributionLink");XenForo.register("#ReCaptcha","XenForo.ReCaptcha");XenForo.register(".NoCaptcha","XenForo.NoCaptcha");XenForo.register("#SolveMediaCaptcha","XenForo.SolveMediaCaptcha");XenForo.register("#KeyCaptcha","XenForo.KeyCaptcha");
XenForo.register("#Captcha","XenForo.Captcha");XenForo.register("img.bbCodeImage","XenForo.BbCodeImage");XenForo.register("a.LikeLink","XenForo.LikeLink");if(!XenForo.isTouchBrowser()){XenForo.register("h3.nodeTitle a","XenForo.NodeDescriptionTooltip")}XenForo.register("#AccountMenu","XenForo.AccountMenu");XenForo.register("a.FollowLink","XenForo.FollowLink");XenForo.register("li.PopupItemLink","XenForo.PopupItemLink");XenForo.register(".Notices","XenForo.Notices");XenForo.register("button.Spoiler","XenForo.SpoilerBBCode")}XenForo.register("input:checkbox.Disabler, input:radio.Disabler","XenForo.Disabler");
var j=false;f(g).on("load",function(){if(j||!g.location.hash){return}var l=g.location.hash.replace(/[^a-zA-Z0-9_-]/g,""),k=l?f("#"+l):f();if(k.length){k.get(0).scrollIntoView(true)}});f(function(){XenForo.init();if(g.location.hash){f(g).one("scroll",function(k){j=true})}})}(jQuery,this,document);